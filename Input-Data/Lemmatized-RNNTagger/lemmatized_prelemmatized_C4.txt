Licence
Info
Programmation
Spécifique
:
Programmation
Web
XHTML
/
CSS
/
Php
/
Javascript
Plis
fòs
beau
pengwen
là
!

Vincent
Pagé
vpage@univ­ag.fr
Université
Antilles
Guyane
Quid
?

●
APACHE
:
Serveur
Web
●
HTML
:
Langage
hypertexte
de
description
de
documents
à
Php
:
Langage
de
programmation
interprété
coté
serveur
●
MYSQL
:
Gestionnaire
de
base
de
données
à
Javascript
:
Langage
de
programmation
interprété
coté
client
.

Pourquoi
ces
choix
:
à
Le
prix
(
gratuit
)
à
La
qualité
(
utilisés
par
les
entreprises
ex
:
Apache
=
2/3
du
serveurs
Web
)
Vincent
Pagé
vpage@univ­ag.fr
Université
Antilles
Guyane
Plan
du
cours
●
Pour
tout
:
6h
TD
/
xxh
Tp
●
Html
➢
xhtml
à
Css
(
feuilles
de
style
)
.

●
php
­
MySQL
à
Php
de
base
.

à
Interaction
avec
des
SGBDD
à
Création
de
image
à
la
volée
/
creation
de
pdf
...
.

Vincent
Pagé
vpage@univ­ag.fr
Université
Antilles
Guyane
Serveur
Web
à
Un
serveur
Web
est
une
application
capable
de
répondre
au
requêtes
de
clients
.

●
Il
est
connecté
au
clients
via
un
réseau
(
souvent
)
.

à
Il
communique
avec
le
client
à
l'
aide
du
protocole
HTTP
.

●
Il
fournit
au
clients
une
page
HTML
.

Serveur
Clients
Vincent
Pagé
vpage@univ­ag.fr
Université
Antilles
Guyane
Types
de
Sites
On
distingue
trois
types
de
sites
:
à
Site
Statique
:
les
requêtes
portent
sur
des
fichiers
html
.

à
Site
Dynamique
:
les
requêtes
déclenche
sur
le
serveur
l'
execution
de
un
script
.

Le
script
produit
une
page
HTML
.

à
Site
"
Sapin
de
Noël
"
:
les
requêtes
portent
sur
des
fichiers
html
contenant
des
scripts
coté
client
.

Attention
:
un
commercial
qui
parle
de
un
site
dynamique
parle
(
parlait
)
souvent
de
un
sapin
de
noel
...
.

On
peut
avoir
un
site
dynamique
et
sapin
de
noel
...
Vincent
Pagé
vpage@univ­ag.fr
Université
Antilles
Guyane
HTML
Langage
hypertexte
de
description
de
documents
à
Hypertexte
:
permet
une
navigation
non­linéaire
●
Interprété
par
un
client
http
:
➢
adaptation
au
client
(
taille
,
polices
...
)
●
Fournit
une
description
simple
de
un
document
.

●
Documents
composés
de
texte
,
image
.

Nous
utiliserons
:
XHTML
1.0
➢
Conforme
au
recommandations
du
w3c
à
Indépendant
(
?

)
du
navigateur
.

Vincent
Pagé
vpage@univ­ag.fr
Université
Antilles
Guyane
HTML
Architecture
de
un
document
●
Format
de
un
document
html
:
texte
simple
.

●
Ce
qui
est
dans
le
fichier
est
affiché
,
sauf
instructions
html
.

à
Instructions
sous
formes
de
balises
(
ou
«
t
ag
»
)
.

●
2
grandes
parties
dans
un
document
:
➢
Doctype
:
indique
quel
version
du
langage
est
utilisee
à
Entête
(
head
)
:
informations
générales
sur
la
page
à
Corps
(
body
)
:
Ce
qui
sera
affiché
sur
le
client
.

Vincent
Pagé
vpage@univ­ag.fr
Université
Antilles
Guyane
HTML
fonctionnement
du
balises
à
Une
balise
est
délimitée
par
des
crochets
.

●
Toutes
doivent
êtres
ouvertes
et
fermées
.

●
Elles
peuvent
avoir
des
attributs
(
options
)
.

<p>
du
texte
ici
<img
src="logo.jpg
"
alt="logo
de
la
compagnie
vpage.com
"
/>
pui
encore
du
texte
.

</p>
Vincent
Pagé
vpage@univ­ag.fr
Université
Antilles
Guyane
HTML
Exemple
Première
page
HTML
typique
:
à
!

doctype
.

.

.

.

.>
<html>
<head>
<title>
Ma
premi&egrave
;
re
page</title>
</head>
<body>
<p>Le
texte
dans
ma
premi&eagrave
;
re
page
.

</p>
</body>
</html>
Vincent
Pagé
vpage@univ­ag.fr
Université
Antilles
Guyane
HTML
Balises
de
structuration
du
document
●
<doctype>
:
renseigne
sur
la
version
du
langage
utilisé
●
<html></html>
:
...
à
<head></head>
:
entête
.

à
<body></body>
:
corps
du
document
.

Vincent
Pagé
vpage@univ­ag.fr
Université
Antilles
Guyane
HTML
Balises
de
mise
en
forme
du
page
pour
décrire
le
découpage
du
page
en
zones
:
à
<div>
</div>
:
une
unité
qui
fait
sens
pour
le
site
(
ex
:
une
entete
,
un
menu
,
)
Pour
ce
découpage
,
il
y
eut
(
désormais
obsolète
et
malvenu
)
:
­
<frameset><frame>
à
<table>
<tr><td>
Vincent
Pagé
vpage@univ­ag.fr
Université
Antilles
Guyane
HTML
Balises
de
mise
en
forme
de
texte
:
●
<p></p>
:
un
paragraphe
.

à
<strong>
</strong>
:
accentué
(
gras
visuellement
)
●
<em>
</em>
:
mis
en
évidence
(
italique
visuellement
)
à
<sup></sup>
:
exposant
.

(
superscript
)
.

à
<sub></sub>
:
indice
(
subscript
)
.

Vincent
Pagé
vpage@univ­ag.fr
Université
Antilles
Guyane
HTML
Balises
de
mise
en
forme
de
texte
2
●
<xmp></xmp>
:
non
interprété
(
affiché
tel
quel
)
.

●
<h1></h1>
:
premier
niveau
de
titre
.

(
aussi
<h2>
...
●
<
!

­­
toto
çùë
:
commentaire
.

à
<ol></ol>
:
liste
numérotée
.

➢
<li></li>
:
élement
de
liste
.

à
<ul>
:
liste
à
puces
.

Vincent
Pagé
vpage@univ­ag.fr
Université
Antilles
Guyane
HTML
Balises
de
mise
en
forme
de
texte
:
les
forbidden
:
Ne
pas
utiliser
!

●
<br>
:
passage
à
la
ligne
.

●
<hr>
:
ligne
horizontale
.

●
<i></i>
:
italique
.

à
<b></b>
:
gras
(
bold
)
.

Vincent
Pagé
vpage@univ­ag.fr
Université
Antilles
Guyane
HTML
Balises
utiles
à
<img>
:
insertion
de
image
.

à
<a></a>
:
ancre
.

Notamment
pour
les
liens
.

●
<table></table>
:
tableau
.

➢
<tr></tr>
:
ligne
de
un
tableau
.

➢
<td></td>
:
case
de
un
tableau
.

●
Attribut
:
colspan/rowspan
:
multi
colonne/ligne
.

Vincent
Pagé
vpage@univ­ag.fr
Université
Antilles
Guyane
HTML
Balises
blocs
et
inline
Deux
types
de
balises
:
●
blocs
(
du
parties
entières
de
texte
)
ex
:
<p>
<div>
<h1>
●
en
ligne
(
inline
)
:
enrichit
une
portion
de
texte
ex
:
<strong>
<em>
<img>
...
.
.
­
Les
blocs
se
suivent
(
par
défaut
)
l'
un
en
dessous
de
l'
autre
.

à
Les
inline
se
suivent
(
par
défaut
)
l'
un
a
coté
de
l'
autre
.

à
Une
inline
ne
peut
contenir
que
du
inline
(
et
du
texte
)
­
une
bloc
peut
contenir
des
blocs
,
du
inline
,
du
texte
.

Vincent
Pagé
vpage@univ­ag.fr
Université
Antilles
Guyane
HTML
Les
feuilles
de
styles
On
les
appelle
aussi
css
pour
«
C
ascading
Style
Sheets
»
.

à
Objectif
:
Définir
le
style
de
un
document
html
indépendamment
de
son
contenu
.

●
Intérêt
:
Votre
site
est
beau
,
bien
rempli
.

vous
voulez
changer
l'
image
de
fond
de
toutes
les
page
.

.

à
Mise
en
oeuvre
:
Dans
un
fichier
,
référencé
dans
le
document
html
.

Version
du
css
actuelles
:
2.0
Incompatible
avec
certains
navigateurs
Vincent
Pagé
vpage@univ­ag.fr
Université
Antilles
Guyane
HTML
Fonctionnement
du
feuilles
de
styles
Le
document
html
indique
l'
utilisation
de
feuilles
de
styles
avec
la
ligne
suivante
dans
l'
entête
:
<link
rel=stylesheet
type="text/css
"
href="mafeuille.css">
La
feuille
de
style
indique
ensuite
des
règles
pour
le
formatage
.

/*
Definitions
du
titres
niveau
2
*/
h2
{
color:#0000ca
;
text­align:left
;
font­size:large
;
font­style:italic
}
Vincent
Pagé
vpage@univ­ag.fr
Université
Antilles
Guyane
HTML
Limiter
les
problèmes
de
polices
grâce
au
css
Voici
comment
préciser
trois
polices
possibles
dans
l'
ordre
de
préférence
,
en
fonction
de
leur
disponibilité
.

h3
{
font­family
:
verdana
,
arial
,
sans­serif
;
font­size
:
14pt
;
color
:
red
;
background­color
:
Fffffff
;
}
Vincent
Pagé
vpage@univ­ag.fr
Université
Antilles
Guyane
HTML
surcharger
des
tags
grâce
au
css
Ici
,
on
utilise
la
balise
<p>
pour
laquelle
on
définit
une
nouvelle
classe
:
petit
p.petit
à
font­family
:
times
,
serif
;
font­size
:
10pt
;
color:black
;
font­style:italic
;
background­color
:
ffffffff
;
}
àp
class="petit">
ceci
va
etre
ecrit
en
petit
</p>
Vincent
Pagé
vpage@univ­ag.fr
Université
Antilles
Guyane
HTML
utiliser
au
mieux
l'
hérédité
dans
les
css
vous
pouvez
créer
des
sous­classes
applicables
à
toute
balise
.

.colored{
color:red
;
à
.marge
à
margin­left:30px
à
Ceci
est
bien
pratique
pour
faire
des
choses
comme
:
<h1
class="colored">
Un
gros
titre
rouge
</h1>
<b
class="colored">
du
texte
gras
et
rouge
</b>
àp
class="marge">
un
paragraphe
avec
une
marge
</p>
Vincent
Pagé
vpage@univ­ag.fr
Université
Antilles
Guyane
HTML
utiliser
au
mieux
l'
hérédité
dans
les
css
2
La
balise
<span>
est
utilisée
en
CSS
pour
modifier
l'
aspect
de
une
zone
particulière
de
données
.

.rouge{
color:red
;
}
Ceci
est
bien
pratique
pour
faire
des
choses
comme
:
<span
style=
"
font­size
:
16pt
;
color
:
fuchsia
;
background­color
:
Fffffff
;
"
>un
truc
très
occasionnel</span>
<span
class="red">juste
mettre
en
rouge.</span>
Ne
pas
en
abuser.
.
Vincent
Pagé
vpage@univ­ag.fr
Université
Antilles
Guyane
HTML
utiliser
au
mieux
l'
hérédité
dans
les
css
3
La
balise
<div>
est
utilisée
en
CSS
pour
modifier
l'
aspect
de
paragraphes
.marge{
margin­left:30px
à
Ceci
est
bien
pratique
pour
faire
des
choses
comme
:
<div
class=
"
marge
"
>tout
un
paragraphe
avec
sa
marge
.

mais
c'
est
comme
<p>
alors
?

Ben
non
,
on
verra
ca
plus
loin
.

.</div>
Vincent
Pagé
vpage@univ­ag.fr
Université
Antilles
Guyane
HTML
Les
liens
dans
les
css
Les
pseudos
classes
liées
au
liens
(
balise
<a>
)
:
link
:
lien
normal
.

visited
:
lien
deja
visité
.

hover
:
on
passe
dessus
avec
la
souris
.

active
:
on
a
cliqué
dessus
.

a:link
{
color:blue
;
text­decoration:underline
;
background­color
:
ffffffff
;
}
a:visited
{
color:purple
;
text­decoration:underline
;
background­color
:
ffffffff
;
}
a.hover
{
color:red
;
text­decoration:underline
;
background­color
:
ffffffff
;
}
a:active
à
color
:
red
;
font­weight
:
bold
;
background­color
:
Fffffff
;
}
Vincent
Pagé
vpage@univ­ag.fr
Université
Antilles
Guyane
HTML
Positionnement
dans
les
css
Le
modèle
de
boite
:
vaut
pour
toutes
les
balises
bloc
:
En
anglais
(
et
en
css
)
:
margin
:
marge
externe
.

border
:
bordure
padding
:
marge
interne
Vincent
Pagé
vpage@univ­ag.fr
Université
Antilles
Guyane
Positionnement
et
CSS
Positionnement
dans
le
flux
Le
positionnement
normal
:
dans
le
flux
.

Les
éléments
les
uns
en
dessous
du
autres
,
pui
par
rapport
:
­
au
marges
internes
du
containeur
.

­
au
marges
externes
du
éléments
.

Avec
ceci
,
on
peut
"
déplacer
"
un
élément
dans
son
containeur
,
et
le
contenu
de
un
élément
au
sein
de
cet
élément
.

mais
on
ne
peut
pas
placer
deux
blocs
l'
un
à
coté
de
l'
autre
!

Vincent
Pagé
vpage@univ­ag.fr
Université
Antilles
Guyane
Positionnement
et
CSS
Positionnement
fichier
html
:
à
!

DOCTYPE
html
PUBLIC
"
­//W3C//DTD
XHTML
1.0
Strict//EN
"
"
http://www.w3.org/TR/xhtml1/DTD/xhtml1­strict.dtd
"
à
<html>
<head>
<meta
http­equiv="content­type
"
content="text/html
;
charset=iso­8859­1
"
/>
<title>
du
tests
</title>
<link
rel="stylesheet
"
href="flux.css
"
type="text/css
"
/>
</head>
<body>
<div
id="entete">
entete
</div>
<div
id="navigation">
barre
de
navigation
</div>
<div
id="milieu">
Ici
le
milieu
<div
id="menu">
le
menu
</div>
<div
id="corps">
le
corps
du
texte</div>
</div>
<div
id="footer">
un
pied
de
page
</div>
</body>
</html>
Vincent
Pagé
vpage@univ­ag.fr
Université
Antilles
Guyane
Positionnement
et
CSS
Positionnement
Et
une
css
quasi
vide
:
Pour
ce
résultat
:
bodyà
color
:
#000
;
background­color
:
#800
;
}
#entete{
background­color
:
#080
;
}
#navigation{
background­color
:
#008
;
}
#milieu{
background­color
:
#444
;
}
#menu{
background­color
:
#880
;
}
#corps{
background­color
:
#808
;
}
#footer{
background­color
:
#088
;
}
Vincent
Pagé
vpage@univ­ag.fr
Université
Antilles
Guyane
Positionnement
et
CSS
Positionnement
:
marges
et
centrage
on
rajoute
les
lignes
suivantes
Pour
ce
résultat
:
#entete{
width
:
100px
;
margin
:
auto
;
}
#menu{
width
:
200px
;
}
#corps{
margin­left:200px
;
}
Vincent
Pagé
vpage@univ­ag.fr
Université
Antilles
Guyane
Positionnement
et
CSS
Positionnement
flottant
Déplacer
un
élément
a
gauche
ou
a
droite
dans
son
parent
.

Le
reste
du
contenu
du
parent
se
positionne
autour
de
l'
élément
déplacé
.

Attention
:
Comme
le
float
sort
du
flux
courant
,
il
n'
est
pas
compté
dans
le
calcul
de
la
hauteur
du
conteneur
,
si
celle­ci
n'
est
pas
spécifiée
.

Il
peut
donc
"
dépasser
"
en
hauteur
.

Récapitulatif
:
*
L'
élément
est
d'abord
placé
normalement
dans
le
flux
.

Donc
si
un
autre
élément
bloc
est
placé
avant
lui
,
l'
élément
flottant
se
positionnera
en
dessous
;
et
si
un
élément
bloc
le
suit
,
ce
dernier
sera
placé
dessous
.

Bref
,
le
comportement
classique
du
positionnement
en
flux
*
Ensuite
l'
élément
qui
a
reçu
la
propriété
float
est
"
poussé
"
à
gauche
ou
à
droite
de
son
conteneur
.

*
Les
éléments
qui
le
suivent
au
sein
du
conteneur
se
placent
alors
autour
de
lui
.

Vincent
Pagé
vpage@univ­ag.fr
Université
Antilles
Guyane
Positionnement
et
CSS
Positionnement
float
on
rajoute
les
lignes
suivantes
Pour
ce
résultat
:
#menu{
float:left
;
}
Vincent
Pagé
vpage@univ­ag.fr
Université
Antilles
Guyane
Positionnement
et
CSS
Positionnement
:
float
mais
.

.

si
on
allonge
le
menu
,
on
a
ceci
:
La
taille
de
la
div
de
menu
n'
est
pas
prise
en
compte
pour
le
calcul
de
la
taille
de
la
div
du
milieu
.

.

Notez
que
le
pied
de
page
n'
appartient
pas
a
la
div
milieu
.

.

Vincent
Pagé
vpage@univ­ag.fr
Université
Antilles
Guyane
Positionnement
et
CSS
Positionnement
:
float
Le
clear
:
oblige
la
boite
a
avoir
un
coté
libre
.

La
boite
se
place
alors
sous
les
autres
boites
flottantes
floats
du
coté
spécifié
.

on
rajoute
les
lignes
suivantes
#footer{
clear:left
;
à
Notez
le
vide
rouge
entre
le
corps
de
texte
et
le
footer
:
la
div
milieu
ne
s'
étend
pas
jusque
au
pied
de
page
!

On
peut
avoir
clear:right
ou
clear:both
Vincent
Pagé
vpage@univ­ag.fr
Université
Antilles
Guyane
Positionnement
et
CSS
Positionnement
absolu
Positionner
un
élément
"
en
dur
"
.

Pour
spécifier
la
position
de
un
élément
,
on
donne
la
position
de
son
coin
supérieur
gauche
.

On
peut
aussi
donner
l'
indiquer
comme
suit
:
à
haut
et
droite
(
p
largeur
)
L'
élément
est
retiré
du
flux
.

Son
positionnement
est
donc
le
même
quel
que
soit
sa
position
dans
le
fichier
html
.

.

Vincent
Pagé
vpage@univ­ag.fr
Université
Antilles
Guyane
Positionnement
et
CSS
Positionnement
absolu
Ici
on
repositionne
quelques
élements
en
absolu
.

on
rajoute
les
lignes
suivantes
#milieu{
position:absolute
;
top:5em
;
left:5
%
;
right:5
%
;
}
#footer{
position:absolute
;
top:20em
;
left:1
%
;
right:1
%
;
à
Notez
la
taille
de
la
div
milieu
.

Attention
au
chevauchements
.

.

Vincent
Pagé
vpage@univ­ag.fr
Université
Antilles
Guyane
Positionnement
et
CSS
Positionnement
fixe
Les
éléments
fixes
ne
bougent
pas
quelque
soit
la
position
du
défilement
dans
la
fenêtre
du
navigateur
.

.

Ici
,
la
barre
et
l'
entête
sont
fixes
.

#entet#entete{
position:fixed
;
top:0
;
left:1em
;
right:1em
;
z­index:2
;
margin
:
auto
;
background­color
:
#080
;
}
#navigation{
position:fixed
;
top:1em
;
left:1em
;
right:1em
;
z­index:2
;
background­color
:
#008
;
}
Vincent
Pagé
vpage@univ­ag.fr
Université
Antilles
Guyane
Positionnement
et
CSS
Positionnement
Relatif
Non
abordé
ici
!

Vincent
Pagé
vpage@univ­ag.fr
Université
Antilles
Guyane
Positionnement
et
CSS
Quelques
remarques
à
Une
balise
bloc
peut
être
traitée
comme
une
balise
inline
et
inversement
avec
la
propriété
display
(
:inline
ou
:bloc
)
­
Attention
à
la
fusion
de
marges
.

­
Certains
navigateurs
sont
récalcitrants
:
à
évaluation
du
tailles
,
comportement
fixed
,
floats
,
ils
n'
interprètent
pas
les
choses
de
la
même
façon
.

.

à
Trouvez
un
gabarit
éprouvé
(
alsacreation
)
­
Testez
vos
sites
avec
plusieurs
navigateurs
,
plusieurs
versions
du
navigateurs
.

.

.

Pratiquez
!

Vincent
Pagé
vpage@univ­ag.fr
Université
Antilles
Guyane
Php
(
Hypertext
Pre-Processor
)
Qu'
est
ce
que
php
?

Un
langage
de
scripts
généraliste
(
perl
?

)
Pour
nous
:
un
langage
interprété
par
Apache
pour
générer
une
page
HTML
standard
qui
est
transmise
au
client
.

Il
s'
agit
alors
de
script
exécuté
à
coté
serveur
»
.

Pour
nous
:
php4
Similaire
:
Asp
(
Active
Server
Pages
)
,
de
chez
Microsoft
.

Syntaxe
proche
language
Co
Vincent
Pagé
vpage@univ­ag.fr
Université
Antilles
Guyane
Php
(
Hypertext
Pre-Processor
)
Qu'
est
ce
que
php
?

Un
langage
de
scripts
généraliste
(
perl
?

)
Pour
nous
:
un
langage
interprété
par
Apache
pour
générer
une
page
HTML
standard
qui
est
transmise
au
client
.

Il
s'
agit
alors
de
script
exécuté
à
coté
serveur
»
.

Pour
nous
:
php4
Similaire
:
Asp
(
Active
Server
Pages
)
,
de
chez
Microsoft
.

Syntaxe
proche
language
Co
Vincent
Pagé
vpage@univ­ag.fr
Université
Antilles
Guyane
Php
(
Hypertext
Pre-Processor
)
à
Différence
avec
des
scripts
«
c
gi
»
:
●
Script
cgi
:
exécutable
lancé
par
apache
pour
générer
du
HTML
.

à
Php
:
code
html
dans
lequel
on
insère
des
directives
php
.

(
gain
de
temps
...
)
à
Coté
client
:
réception
du
résultat
,
sans
connaissance
du
code
(
sécurité
)
Vincent
Pagé
vpage@univ­ag.fr
Université
Antilles
Guyane
Php
fonctionnement
Ecrire
du
Php
:
à
Un
fichier
php
porte
l'
extension
.php
●
C'
est
un
fichier
html
classique
contenant
des
balises
pour
indiquer
quelles
parties
sont
à
e
n
php
»
●
On
passe
du
«
m
ode
texte
»
au
«
m
ode
p
hp
»
avec
la
balise
<
?

php
?

>
<
?

php
echo
"
bonjour
"
;
echo
"
le
monde
"
;
?

>
Vincent
Pagé
vpage@univ­ag.fr
Université
Antilles
Guyane
Php
instructions
Php
est
très
semblable
au
langage
C
:
●
Instructions
séparées
par
des
virgules
;
●
Commentaires
par
//
et
/*
...
*/
à
Beaucoup
de
mots
clefs
communs
(
if
,
for
,
while
,
return
,
switch
,
==
)
Vincent
Pagé
vpage@univ­ag.fr
Université
Antilles
Guyane
Variables
Php
à
Déclaration
explicite
du
type
de
une
variable
non
nécessaire
.

(
type
de
une
variable
déterminé
par
le
contexte
de
utilisation
.
)

à
Forcer
un
type
:
int
settype
(
string
var
,
string
type
)
●
Transtypage
(
cast
)
:
$mon_double
=
(
double
)
mon_int
;
à
Obtenir
le
type
de
une
variable
:
echo
gettype($ma_variable)
;
à
Vérifier
le
type
de
une
variable
:
if
is_int($ma_variable)
{
}
●
Noms
de
variables
sensibles
à
la
casse
.

Vincent
Pagé
vpage@univ­ag.fr
Université
Antilles
Guyane
Variables
Php
●
Types
scalaires
$mon_bool=true
;
●
Booléen
$mon_entier=0
;
à
Entier
$mon_float
à
0.123
;
●
Nombre
à
virgule
flottante
à
Chaîne
de
caractères
$ma_chaine
=
"
on
bitin
"
;
●
Types
composés
:
●
Tableau
$mon_tab
à
array(1,2,3)
;
●
Objet
Similaire
:
classes
C++
(
voir
plus
loin
)
●
Types
spéciaux
:
à
Ressource
Choses
bizarres
(
connexions
ftp
.

.

voir
plus
loin
)
à
Null
Absence
de
valeur
.

$var
à
NULL
;
Vincent
Pagé
vpage@univ­ag.fr
Université
Antilles
Guyane
Variables
Php
Le
relâchement
sur
le
type
du
variables
peut
poser
problème
lors
de
comparaison
:
utiliser
l'
opérateur
de
égalité
«
=
==
»
Vincent
Pagé
vpage@univ­ag.fr
Université
Antilles
Guyane
Chaines
de
char
Php
●
Spécifications
de
chaines
:
●
Guillemets
simples
:
nom
de
variables
non
développés
.

$chaine
=
'
toto
$var
\n
'
;
●
Guillemets
doubles
:
noms
de
variables
développés
.

$chaine
=
"
toto
$var
\n
"
;
●
Syntaxe
HereDoc
:
comme
guillemets
doubles
sans
guillemets
.

.

$chaine
à
<<<EOD
bonjour
,
je
m
appelle
"
$nom
"
Eod
;
Vincent
Pagé
vpage@univ­ag.fr
Université
Antilles
Guyane
Tableaux
Php
Définition
:
●
Un
tableau
php
est
une
association
ordonnée
:
chaque
valeur
est
associée
à
une
clef
.

à
La
clef
est
un
entier
ou
une
chaîne
à
La
valeur
peut
être
de
tout
type
.

Cette
implémentation
permet
de
faire
des
dictionnaires
,
tables
de
hachage
,
des
piles
.

.

Vincent
Pagé
vpage@univ­ag.fr
Université
Antilles
Guyane
Tableaux
Php
Création
de
tableaux
:
la
fonction
array
$tab
=
array(15)
;
$tab=
array(12)
;
//
Ecrase
le
tableau
précédent
$a1
=
array("un","deux","trois","nous
irons
au
bois
"
)
;
$a2
=
array(1
=>
"
un","deux","trois","nous
irons
au
bois
"
)
;
$a3
=
array(1
=>
"
un",2
=>
"
deux",3
çù
"
trois",4
=>
"
nous
irons
.

.
"
)
;
Vincent
Pagé
vpage@univ­ag.fr
Université
Antilles
Guyane
Tableaux
Php
Manipulation
de
éléments
de
tableaux
$tab
=
array(15)
;
$tab[]=12
;
//
On
ajoute
12
à
la
fin
du
tableau
(
index
1
)
$tab[1]=24
//
on
remplace
12
par
24
unset($arr[0])
;
//
supprime
l'
élément
de
clef
0
unset($arr)
;
//
supprime
le
tableau
Vincent
Pagé
vpage@univ­ag.fr
Université
Antilles
Guyane
Tableaux
Php
Afficher
un
tableau
:
mot
clef
à
f
oreach
à
<
?

php
$tab
=
array('rouge','bleu','vert','jaune')
;
foreach
(
$tab
as
$couleur
)
à
echo
"
Aimez
vous
la
couleur
$couleur
?

\n
"
;
}
/*
Affiche
:
Aimez
vous
la
couleur
rouge
?

Aimez
vous
la
couleur
bleu
?

Aimez
vous
la
couleur
vert
?

Aimez
vous
la
couleur
jaune
?

*/
?

>
Vincent
Pagé
vpage@univ­ag.fr
Université
Antilles
Guyane
Tableaux
Php
modifier
tous
les
éléments
de
un
tableau
:
<
?

php
foreach(
$tab
as
$cle
=>
$couleur
)
{
//
ne
marche
pas
//$couleur
=
strtoupper($couleur)
;
//marche
:
$couleurs[$cle
]
=
strtoupper($couleur)
;
}
?

>
Vincent
Pagé
vpage@univ­ag.fr
Université
Antilles
Guyane
Tableaux
Php
Exercices
:
à
Ecrire
une
page
html
qui
affiche
la
page
suivante
:
à
Ecrire
une
page
php
qui
affiche
un
tableau
1D
sous
la
forme
précédente
.

à
Ecrire
une
page
php
qui
fasse
la
même
chose
pour
des
tableau
2D
.

Vincent
Pagé
vpage@univ­ag.fr
Université
Antilles
Guyane
Tableaux
Php
Fonctions
utiles
de
manipulations
de
tableaux
:
à
reset($array)
Remet
le
pointeur
interne
de
tableau
au
début
.

à
pos($array)
Retourne
la
valeur
de
l'
élément
courant
de
un
tableau
.

à
key($array)
Retourne
l'
indice
de
l'
élément
courant
de
un
tableau
.

à
current($array)
Retourne
la
valeur
de
l'
élément
courant
de
un
tableau
.

à
next($array)
Avance
le
pointeur
interne
de
un
tableau
.

à
prev($array)
Recule
le
pointeur
courant
de
tableau
.

à
end($array)
Positionne
le
pointeur
de
tableau
en
fin
de
tableau
.

à
each($array)
Retourne
la
paire
clé/valeur
courante
et
avance
le
pointeur
de
tableau
.

Chacune
de
ces
fonctions
renvoie
false
en
cas
de
problème
.

Vincent
Pagé
vpage@univ­ag.fr
Université
Antilles
Guyane
Tableaux
Php
Le
mot­clef
list
:Transforme
une
liste
de
variables
en
tableau
.

$info
=
array('rhum
'
,
'
transparent
'
,
'
alcool
'
)
;
//
Liste
de
toutes
les
variables
list
(
$drink
,
$color
,
$power
)
=
$info
;
echo
"
$drink
est
$color
et
l'
$power
le
rend
particulier.\n
"
;
//
Liste
de
certaines
variables
list
(
$drink
,
,
$power
)
=
$info
;
echo
"
$drink
contient
de
l'
$power.\n
"
;
//
ou
bien
,
n'
utilisons
que
le
troisième
list(
,
,
$power
)
=
$info
;
echo
"
je
ai
besoin
de
$power
!

\n
"
;
Vincent
Pagé
vpage@univ­ag.fr
Université
Antilles
Guyane
Tableaux
Php
Utilisation
de
list
:
parcours
de
tableaux
$info
=
array('rhum
'
,
'
transparent
'
,
'
alcool
'
)
;
while
(
list
(
$key
,
$val
)
=
each
($info))
à
echo
"
$key
=>
$val
\n
"
;
}
Vincent
Pagé
vpage@univ­ag.fr
Université
Antilles
Guyane
Tableaux
Php
Fonctions
et
opérateurs
utiles
pour
les
tableaux
:
à
Opérateur
p
Ajoute
deux
tableaux
.

(
clefs
égales
.

)
à
array_merge
(
$tab1
,
$tab2
.

.

)
Ajoute
deux
tableaux
(
clefs
égales
.

.
)

à
count
(
$tab
)
Compte
les
éléments
de
un
tableau
.

●
array_keys($tab)
Retourne
toutes
les
clés
de
un
tableau
●
array_values($tab)
Retourne
les
valeurs
de
un
tableau
●
array_key_exists($key
,
$tab
)
Regarde
si
une
clef
existe
.

●
array_search($val,$tab)
Recherche
la
clé
associée
à
une
valeur
.

à
array_flip($tab)
:
Retourne
un
tableau
:
clefs
çùà
valeurs
Chacune
de
ces
fonctions
renvoie
false
en
cas
de
problème
.

Vincent
Pagé
vpage@univ­ag.fr
Université
Antilles
Guyane
Tableaux
Php
Exemple
de
fusions
de
tableaux
:
<
?

p
et
merge
.

.

?

>
Vincent
Pagé
vpage@univ­ag.fr
Université
Antilles
Guyane
Tableaux
Php
Fonctions
utiles
de
tris
de
tableaux
:
à
sort
(
$array
)
Trie
un
tableau
par
valeurs
croissantes
.

à
rsort
(
$array
)
Trie
un
tableau
par
valeurs
décroissantes
.

à
ksort($array)
Trie
un
tableau
par
valeurs
de
clefs
croissantes
.

à
krsort($array)
Trie
un
tableau
par
valeurs
de
clefs
décroissantes
.

à
shuffle
(
$array
)
Mélange
les
éléments
de
un
tableau
.

Chacune
de
ces
fonctions
renvoie
false
en
cas
de
problème
.

Vincent
Pagé
vpage@univ­ag.fr
Université
Antilles
Guyane
Fonctions
Php
Définir
et
appeler
une
fonction
function
somme
(
$arg1
,
$arg2,$arg3
)
à
print
"
$arg1
"
;
$retval
=
$arg1+$arg2+$arg3
;
return
$retval
;
}$toto=5
;
$resu
=
somme(1,2,$toto)
;
print
"
$resu
"
;
Vincent
Pagé
vpage@univ­ag.fr
Université
Antilles
Guyane
Fonctions
Php
Passage
du
arguments
de
une
fonction
Passage
par
valeurs
:
Une
fonction
ne
modifie
pas
ses
arguments
.

function
bidon
(
$arg1
)
à
$arg1=0
;
à
$toto=15
;
bidon($toto)
;
echo
"
toto
=
$toto
"
;
Vincent
Pagé
vpage@univ­ag.fr
Université
Antilles
Guyane
Fonctions
Php
passage
de
paramètres
par
référence
Pour
pouvoir
modifier
une
variable
tout
le
temps
<
?

php
function
add_some_extra(&$string)
à
$string
.=
'
,
et
un
peu
plus
.
'
;
à
$str
=
'
Ceci
est
une
chaîne
'
;
add_some_extra($str)
;
echo
$str
;
//
affiche
'
Ceci
est
une
chaîne
,
et
un
peu
plus
.
'

?

>
Vincent
Pagé
vpage@univ­ag.fr
Université
Antilles
Guyane
Fonctions
Php
passage
de
paramètres
par
référence
Pour
pouvoir
modifier
une
variable
ponctuellement
<
?

php
function
foo
(
$bar
)
à
$bar
.=
'
,
et
un
peu
plus
.
'
;
à
$str
=
Ceci
est
une
chaîne
e
;
foo
(
$str
)
;
echo
$str
;
//
affiche
'
Ceci
est
une
chaîne
'
foo
(
&$str
)
;
echo
$str
;
//
affiche
'
Ceci
est
une
chaîne
,
et
un
peu
plus
.
'

?

>
Vincent
Pagé
vpage@univ­ag.fr
Université
Antilles
Guyane
Fonctions
Php
paramètres
par
défaut
du
fonctions
<
?

php
function
servir_apero
(
$type
=
"
ricard
"
)
à
return
"
Servir
un
verre
de
$type.\n
"
;
}
echo
servir_apero()
;
echo
servir_apero("whisky")
;
?

>
Valeurs
par
défaut
:
constantes
Paramètres
avec
valeurs
par
défaut
sont
passés
après
les
autres
Vincent
Pagé
vpage@univ­ag.fr
Université
Antilles
Guyane
Fonctions
Php
Nombre
de
paramètres
variables
à
Passer
un
tableau
de
variables
(
le
plus
simple
)
à
Utiliser
les
fonctions
suivantes
(
en
TP
)
.

à
func_num_args
,
à
func_get_arg
à
func_get_args
.

Vincent
Pagé
vpage@univ­ag.fr
Université
Antilles
Guyane
Inclusion
de
fichiers
Php
Pour
inclure
des
librairies
de
fonctions
:
●
Mots
clefs
à
«
r
equire
»
«
r
equire_once
»
«
i
nclude
»
«
i
nclude_once
»
●
Ne
se
différencient
que
par
leur
gestion
de
erreur
:
●
Inclut
et
exécute
un
fichier
php
.

●
«
r
equire
à
génère
une
erreur
(
le
script
s'
interrompt
)
●
«
i
nclude
»
génère
une
alerte
(
le
script
continue
)
.

Vincent
Pagé
vpage@univ­ag.fr
Université
Antilles
Guyane
Inclusion
de
fichiers
Php
Exemple
<
?

php
//
Avec
une
chaine
constante
:
require
'
prepend.php
'
;
//
Avec
une
variable
:
require
$somefile
;
//
En
pseudo
fonction
:
require
(
'
unfichier.txt
'
)
;
?

>
Vincent
Pagé
vpage@univ­ag.fr
Université
Antilles
Guyane
Variables
prédéfinies
Php
Liste
du
variables
prédéfinies
(
auto
globales
/
super
globales
)
$GLOBALS
//
Ref
sur
chaque
var
globales
.

Clef
=
nom
de
variable
.

$_SERVER
//
variables
fournies
par
httpd
ou
relatives
au
script
courant
.

$_GET
//
variables
fournies
par
http
en
méthode
get
.

$_POST
//
variables
fournies
par
http
en
méthode
post
.

$_COOKIE
//
variables
fournies
par
http
dans
les
cookies
.

$_FILES
//
variables
fournies
par
http
suite
à
un
chargement
de
fichier
.

$_ENV
//
variables
fournies
par
l'
environnement
.

$_REQUEST
//
variables
fournies
par
tout
mécanisme
de
entrée
.

$_SESSION
//
variables
enregistrée
dans
la
session
.

Connaître
certaines
variables
prédéfinies
:
phpinfo()
;
Vincent
Pagé
vpage@univ­ag.fr
Université
Antilles
Guyane
Portée
du
variables
en
Php
●
Une
variable
utilisée
dans
une
fonction
est
locale
!

à
La
portée
de
une
variable
concerne
la
totalité
du
script
.

●
Pour
récupérer
une
variable
globale
dans
une
fonction
:
à
utiliser
le
mot
clef
«
g
lobal
»
.

à
utiliser
le
tableau
$globals
à
Variables
statiques
:
comme
en
C
Vincent
Pagé
vpage@univ­ag.fr
Université
Antilles
Guyane
Formulaires
HTML
Pourquoi
faire
?

On
utilise
des
formulaires
dans
le
cas
suivant
:
à
L'
utilisateur
doit
fournir
des
infos
au
serveur
.

à
Le
serveur
doit
traiter
ces
infos
.

à
Le
serveur
renvoie
une
réponse
au
client
.

Un
formulaire
est
mis
en
forme
en
HTML
.

Vincent
Pagé
vpage@univ­ag.fr
Université
Antilles
Guyane
Formulaires
HTML
Début
de
explication
Les
informations
que
fournit
le
formulaire
doivent
être
identifiées
pour
le
traitement
.

Elles
portent
un
nom
.

●
Le
contenu
de
l'
information
dépend
du
type
de
information
.

à
Le
serveur
traite
et
renvoie
une
réponse
au
client
.

Un
formulaire
est
mis
en
forme
en
HTML
.

Vincent
Pagé
vpage@univ­ag.fr
Université
Antilles
Guyane
Formulaires
HTML
Ecriture
de
un
formulaire
HTML
:
<form
action=
"
mon_script.php
method=
"
post">
Votre
Nom
est
:
<br>
<input
type="text
"
name="YourName">
<p>
Quel
est
votre
sport
prefere
?

<br>
<input
type="text
"
name="FavoriteSport">
<p>
<input
type="submit
"
name="submit
"
value="Envoyez
!

"
>
</form>
Vincent
Pagé
vpage@univ­ag.fr
Université
Antilles
Guyane
Formulaires
HTML
Résultat
du
formulaire
précédent
:
Vincent
Pagé
vpage@univ­ag.fr
Université
Antilles
Guyane
Formulaires
HTML
Les
<inputs>
qui
existent
Ils
se
distinguent
par
l'
attribut
type
à
text
:
une
ligne
de
texte
●
password
:
idem
mais
caché
.

à
hidden
:
invisible
(
pour
passer
des
variables
)
.

à
checkbox
:
selection
multiple
.

à
radio
:
selection
de
une
possibilité
parmi
X
●
submit
:
bouton
de
envoi
de
formulaire
●
reset
:
bouton
de
remise
dans
l'
état
par
défaut
à
file
:
saisie
de
un
nom
de
fichier
(
et
bouton
parcourir
.

.
)

Vincent
Pagé
vpage@univ­ag.fr
Université
Antilles
Guyane
Formulaires
HTML
Autres
balises
de
formulaires
Attention
,
ce
sont
des
balises
à
<select></select>
:
liste
de
sélection
déroulante
.

à
<option></option>
:
options
de
liste
déroulante
.

à
<textarea></textarea>
:
zone
de
texte
multilignes
.

.

à
<button></button>
:
un
bouton
.

Vincent
Pagé
vpage@univ­ag.fr
Université
Antilles
Guyane
Formulaires
HTML
Traitement
du
formulaire
:
Script
php
●
Le
formulaire
est
envoyé
à
un
script
défini
par
l'
attribut
action
de
la
balise
<form>
(
ici
mon_script.php
)
●
Deux
méthodes
de
envoi
:
GET
et
POST
défini
par
l'
attribut
method
de
la
balise
<form>
(
ici
post
)
à
Le
contenu
du
formulaire
est
accessible
via
une
variable
meta­globale
(
ici
$_POST$
)
à
Chaque
champ
du
formulaire
crée
une
variable
portant
son
nom
(
attention
au
checkbox
.

.
)

à
Le
résultat
du
traitement
est
renvoyé
au
client
.

Utiliser
print_r($_POST)
pour
debugger
.

.

Vincent
Pagé
vpage@univ­ag.fr
Université
Antilles
Guyane
Formulaires
HTML
Traitement
du
formulaire
:
Script
Php
<
?

php
$name
à
$_POST["YourName
"
]
;
$sport
=
$_POST["FavoriteSport
"
]
;
printf
(
"
Salut
%s\n",$name
)
;
printf
(
"
vous
aimez
le
-s
!

\n",$sport
)
;
?

>
Vincent
Pagé
vpage@univ­ag.fr
Université
Antilles
Guyane
Formulaires
HTML
Résultat
du
traitement
du
formulaire
précédent
:
Vincent
Pagé
vpage@univ­ag.fr
Université
Antilles
Guyane
Formulaires
HTML
Méthode
Post
et
Méthode
Get
à
Méthode
GET
●
Méthode
par
défaut
.

●
Le
formulaire
est
passé
par
ajout
à
l'
url
.

à
La
requête
a
la
forme
:
"
GET
/doc.html
?

var1=val1&var2=val2.
.
.

HTTP/1.0
"
●
Le
script
php
peut
les
récupérer
avec
la
méta­globale
$_GET
●
Bookmarkable
.

●
Petits
volumes
de
données
.

Vincent
Pagé
vpage@univ­ag.fr
Université
Antilles
Guyane
Formulaires
HTML
Méthode
Post
et
Méthode
Get
à
Méthode
POST
à
Le
formulaire
est
passé
après
l'
url
.

à
Les
données
sont
transmises
sur
l'
entrée
standard
du
script
.

à
Un
script
php
peut
les
récupérer
avec
$_POST
à
Non
bookmarkables
●
Petits
ou
gros
volumes
de
données
.

Vincent
Pagé
vpage@univ­ag.fr
Université
Antilles
Guyane
Sessions
et
Cookies
But
:
Conserver
des
informations
lors
de
la
navigation
de
un
client
sur
le
serveur
.

Exemples
de
utilisation
:
➢
Identification
(
accès
controlé
)
à
Panier
de
achat
à
Affichage
adapté
au
contexte
.

En
effet
:
http
fonctionne
en
Mode
non
connecté
.

Vincent
Pagé
vpage@univ­ag.fr
Université
Antilles
Guyane
Cookies
●
Qu'
est
ce
?

à
Un
fichier
créé
par
le
navigateur
sur
le
poste
client
,
à
la
demande
du
serveur
.

➢
Sur
la
mdk9.2
,
les
cookies
de
mozilla
sont
tous
placés
dans
un
fichier
cookies.txt
.

●
Fonctionnement
:
➢
Le
navigateur
qui
se
connecte
à
un
domaine
envoie
au
serveur
les
cookies
rattachés
au
domaine
.

à
Le
cookie
a
une
durée
de
vie
limitée
.

Il
est
supprimé
lorsqu'
il
est
périmé
.

Vincent
Pagé
vpage@univ­ag.fr
Université
Antilles
Guyane
Cookies
à
Les
Cookies
sont
crées
coté
client
:
➢
Problème
de
acceptation
.

à
Php
gère
les
cookies
de
façon
simple
.

à
Les
cookies
sont
envoyés
comme
en­tête
du
document
(
avant
tout
autre
chose
)
.

à
Envoyer
un
cookie
:
bool
setcookie
(
string
name
,
string
value
,
int
expire
,
string
path
,
string
domain
,
int
secure
)
à
Regarder
les
cookies
:
$_COOKIE
Attention
:
cookies
envoyés
avant
toute
chose
(
doctype
)
.

Vincent
Pagé
vpage@univ­ag.fr
Université
Antilles
Guyane
Cookies
Exemple
:
<
?

php
$duree
=
24*60*60
;
//
1
journee
en
secondes
!

$value=$_SERVER["REMOTE_ADDR
"
]
;
setcookie("moncookie",$value,time()+$duree,"/","127.0.0.1")
;
?

à
<html>
</body>
vous
venez
de
recevoir
un
cookie
<br>
<a
href="lire_cookie.php">
Lire
le
cookie
</a>
</body></html>
Vincent
Pagé
vpage@univ­ag.fr
Université
Antilles
Guyane
Cookies
si
vous
avez
besoin
des
cookies
:
à
vérifiez
que
vous
pouvez
les
utiliser
:
Envoyez
en
un
et
regardez
si
il
est
reçu
.

Vincent
Pagé
vpage@univ­ag.fr
Université
Antilles
Guyane
Sessions
●
Qu'
est
ce
que
c'
est
:
à
Un
identifiant
sid
associé
à
un
navigateur
accédant
à
une
page
.

à
Le
Sid
est
défini
par
le
serveur
.

à
Coté
serveur
,
on
stocke
pour
chaque
Sid
un
ensemble
de
variables
.

●
mode
de
passage
du
Sid
:
●
Par
url
.

peu
sécurisé
.

●
Par
cookie
.

Risque
de
non
acceptation
du
cookies
.

●
Choix
du
mode
de
passage
:
php.ini
à
Accès
au
variables
de
sessions
:
$_SESSION
Vincent
Pagé
vpage@univ­ag.fr
Université
Antilles
Guyane
Sessions
à
Utiliser
les
sessions
:
<
?

php
session_start()
;
if
(
!

isset($_SESSION['compteur']))
à
$_SESSION['compteur
'
]
=
0
;
à
else
à
$_SESSION['compteur']++
;
}
?

>
Vincent
Pagé
vpage@univ­ag.fr
Université
Antilles
Guyane
Cookies
et
sessions
à
Authentification
sécurisée
(
ma
banque
)
:
●
Authentification
par
session
.

à
limite
les
transmissions
.

●
passage
du
Sid
par
cookie
.

➢
pas
par
l'
url
.

●
Le
cookie
à
une
durée
de
vie
de
0
➢
détruit
quand
on
ferme
le
navigateur
.

à
https
:
tous
les
échanges
de
données
sont
cryptés
.

à
l'
url
passe
quand
même
en
clair
Vincent
Pagé
vpage@univ­ag.fr
Université
Antilles
Guyane
Manipulation
de
fichiers
en
Php
Script
exécuté
par
le
serveur
:
les
droits
sur
les
fichiers
sont
ceux
de
apache
ou
nobody
.

à
Obtenir
des
informations
sur
les
fichiers
locaux
à
file_exists
,
is_dir
,
is_executable
,
is_file
,
is_link
,
is_readable
,
is_writable
●
stat
,
lstat
,
readlink
à
fileowner
,
filesize
,
filegroup
,
fileinode
,
fileperms
à
fileatime
,
filemtime
●
disk_free_space
,
disk_total_space
à
basename
,
dirname
,
Vincent
Pagé
vpage@univ­ag.fr
Université
Antilles
Guyane
Manipulation
de
fichiers
en
Php
Script
exécuté
par
le
serveur
:
les
droits
sur
les
fichiers
sont
ceux
de
apache
ou
nobody
.

à
Quelques
fonctions
bash­like
:
à
Créer
:
touch
,
mkdir
,
link
,
symlink
,
copy
,
tempnam
à
Déplacer
,
effacer
:
rename
,
rmdir
à
Modifier
les
droits
:
umask
,
chmod
,
chmod
,
chgroup
Vincent
Pagé
vpage@univ­ag.fr
Université
Antilles
Guyane
Manipulation
de
fichiers
en
Php
Quelques
fonctions
C­like
à
les
«
p
ointeurs
de
fichiers
à
utilisés
sont
de
type
ressource
.

à
Ouverture
fermeture
:
fopen
,
fclose
,
feof
,
fflush
à
Répertoires
:
opendir
,
readdir
;
●
Déplacement
:
rewind
,
fseek
à
Ascii
:
fscanf
,
fprint
,
fgetc
,
fgets
,
fgetss
(
sécu
tags
)
à
Binaire
:
fread
,
fwrite
.

Vincent
Pagé
vpage@univ­ag.fr
Université
Antilles
Guyane
Manipulation
de
fichiers
en
Php
Quelques
fonctions
typiques
php
à
glob
:
Trouve
les
noms
de
fichiers
correspondant
à
une
règle
.

foreach
(
glob("*.txt")
as
$filename
)
{
echo
$filename
;
}
●
file
:
Met
le
contenu
de
un
fichier
dans
un
tableau
foreach
(
file
(
"
toto.txt
"
,
"
./
"
)
as
$ligne
)
{
echo
$ligne
;
}
●
file_get_contents
:
idem
file
mais
dans
une
chaine
.

echo
file
(
"
toto.txt
"
,
"
./
"
)
;
Vincent
Pagé
vpage@univ­ag.fr
Université
Antilles
Guyane
Fichiers
Php
Afficher
le
contenu
de
un
répertoire
<
?

php
$handle=opendir('.')
;
echo
"
Pointeur
de
dossier
:
$handle
<br>
"
;
echo
"
Fichiers
:
<br>
"
;
while
(
$file
=
readdir($handle))
{
echo
"
$file
<br>
"
;
}
closedir($handle)
;
?

>
Vincent
Pagé
vpage@univ­ag.fr
Université
Antilles
Guyane
Exemples
Php
Comment
faire
:
●
Une
page
affichant
toutes
les
image
de
un
répertoire
.

●
Une
page
affichant
à
un
tas
de
apercus
de
image
.

à
Liées
au
image
.

●
commentaire
pour
chaque
apercu
.

à
Comment
faire
pour
que
seules
certaines
personnes
ne
puissent
voir
ces
image
.

image
non
confidentielles
,
juste
privées
.

Vincent
Pagé
vpage@univ­ag.fr
Université
Antilles
Guyane
Php
–
Postgress
Fonctions
utiles
●
pg_connect
:
se
connecter
sur
un
serveur
postgress
à
pg_connection_status
:
.

.

à
pg_query
:
faire
une
requete
.

●
pg_fetch_array
:
Lit
une
ligne
de
resultat
dans
un
tableau
.

●
pg_fetch_row()
:
Lit
une
ligne
dans
un
tableau
(
indices
colonnes
)
à
pg_close
:
se
déconnecter
Vincent
Pagé
vpage@univ­ag.fr
Université
Antilles
Guyane
Exemple
Php
–
Postgress
Exemples
de
connections
<
?

php
$dbconn
=
pg_connect("dbname=marie")
;
$dbconn2
=
pg_connect("host=localhost
port=5432
dbname=marie
"
)
;
$dbconn3
=
pg_connect
(
"
host=sheep
port=5432
dbname=marie
user=mouton
password=baaaa
"
)
;
$conn_string
=
"
host=sheep
port=5432
dbname=test
user=lamb
password=bar
"
;
?

>
Vincent
Pagé
vpage@univ­ag.fr
Université
Antilles
Guyane
Exemple
Php
–
Postgress
Exemples
de
requete
$db
=
pg_connect(".
.
"
)
;
$query
=
"
SELECT
*
FROM
friends
"
;
$result
=
pg_query($db
,
$query
)
;
$row=0
;
$numrows
=
pg_numrows($result)
;
do
{
$myrow
=
pg_fetch_row
(
$result,$row
)
;
echo
$myrow[0].$myrow[1
]
.

$myrow[2
]
;
$row++
;
}
while
(
$row
à
$numrows
)
;
Vincent
Pagé
vpage@univ­ag.fr
Université
Antilles
Guyane
Générations
de
image
en
lignes
Faut
remplir
ici
...
bibliothèque
Gd
.

Vincent
Pagé
vpage@univ­ag.fr
Université
Antilles
Guyane
Sécurité
Considérations
de
sécurité
:
Rappels
à
Droits
du
scripts
.

à
Conservation
de
renseignements
(
cookies/session
)
●
Moyen
de
se
loguer
sur
un
SGBDR
.

à
Sécurisation
du
échanges
client
/
serveur
.

Vincent
Pagé
vpage@univ­ag.fr
Université
Antilles
Guyane

