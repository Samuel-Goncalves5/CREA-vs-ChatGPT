PHP
Thierry
Lecroq
Université
de
Rouen
FRANCE
Thierry
Lecroq
Univ
Rouen
PHP
Plan
G
en
eralit
es
sur
PHP
Les
bases
Les
formulaires
Les
fichiers
Les
cookies
Les
sessions
Perspectives
Thierry
Lecroq
Univ
Rouen
PHP
Pages
dynamiques
Exemple
Exemple
statique
html
head
title
Page
statique
title
head
body
Nous
sommes
le
body
html
Problème
Afficher
une
page
différente
en
fonction
de
l
utilisateur
de
l
environnement
Solution
Utiliser
un
langage
de
programmation
évolué
par
exemple
PHP
Thierry
Lecroq
Univ
Rouen
PHP
Présentation
Langage
récent
crée
en
Versions
utilisées
I
plus
répandue
I
avec
une
couche
objet
Langage
de
script
Langage
interprété
Présence
d
un
interpréteur
côté
serveur
Intégré
au
code
HTML
Syntaxe
proche
du
C
et
du
Java
Interface
simple
avec
beaucoup
de
SGBD
Thierry
Lecroq
Univ
Rouen
PHP
Modèle
d
exécution
le
client
demande
une
page
PHP
le
serveur
web
exécute
le
code
de
la
page
lancement
de
l
interpréteur
exécution
du
code
le
serveur
web
renvoie
le
résultat
de
l
exécution
le
client
affiche
le
résultat
Pour
le
client
il
est
impossible
de
voir
le
code
PHP
Seul
le
résultat
de
l
exécution
est
récupéré
par
le
client
Thierry
Lecroq
Univ
Rouen
PHP
Premier
exemple
Code
côté
serveur
html
head
title
Page
dynamique
title
head
body
php
echo
Nous
sommes
le
echo
date
j
m
Y
body
html
Thierry
Lecroq
Univ
Rouen
PHP
Premier
exemple
Résultat
côté
client
html
head
title
Page
statique
title
head
body
Nous
sommes
le
body
html
Thierry
Lecroq
Univ
Rouen
PHP
Mélange
HTML
PHP
PHP
s
intègre
dans
l
HTML
entre
php
et
Les
instructions
se
finissent
par
Les
commentaires
sont
soit
entre
et
soit
après
ou
Manuel
complet
en
français
http
www
php
net
manual
fr
Thierry
Lecroq
Univ
Rouen
PHP
Plan
G
en
eralit
es
sur
PHP
Les
bases
Les
formulaires
Les
fichiers
Les
cookies
Les
sessions
Perspectives
Thierry
Lecroq
Univ
Rouen
PHP
Les
variables
Les
variables
sont
préfixées
par
Leur
nom
suit
les
règles
classiques
Exemple
my
var
Les
noms
sont
sensibles
à
la
casse
var
Var
Pas
de
déclaration
typage
implicite
Exemple
my
var
Maintenant
c
est
un
entier
my
var
pif
Maintenant
c
est
une
chaine
Attention
aux
fautes
de
frappes
dans
les
noms
de
variables
Thierry
Lecroq
Univ
Rouen
PHP
Les
types
entiers
flottants
chaˆınes
”
”
ou
booléens
false
ou
true
tableaux
Fonctions
de
test
isset
var
renvoie
true
si
var
existe
unset
var
détruit
var
is
integer
var
is
string
var
renvoie
true
si
var
est
un
entier
une
chaˆıne
Thierry
Lecroq
Univ
Rouen
PHP
Les
commentaires
et
les
constantes
Les
commentaires
après
sur
une
ligne
après
sur
une
ligne
entre
et
sur
plusieurs
lignes
Constantes
On
les
définit
à
l
aide
de
la
commande
define
Exemple
define
PI
On
les
utilise
directement
sans
echo
PI
Test
d
existence
defined
PI
renvoie
defined
Pi
renvoie
Thierry
Lecroq
Univ
Rouen
PHP
Les
entrées
sorties
Les
entrées
À
l
aide
de
formulaires
Les
sorties
On
peut
afficher
avec
la
commande
echo
avec
ou
sans
parenthèses
print
est
équivalente
à
echo
On
peut
faire
un
affichage
comme
en
C
avec
printf
Thierry
Lecroq
Univ
Rouen
PHP
Opérateurs
Arithmétiques
Affectation
Comparaison
Logiques
and
or
xor
Conditionnel
Thierry
Lecroq
Univ
Rouen
PHP
Instructions
conditionnelles
if
if
cond
elseif
cond
else
Thierry
Lecroq
Univ
Rouen
PHP
Instructions
conditionnelles
switch
switch
expr
case
VALEUR
break
case
VALEUR
break
default
break
Thierry
Lecroq
Univ
Rouen
PHP
Instructions
itératives
for
for
init
cond
modif
while
while
cond
do
while
do
while
cond
Thierry
Lecroq
Univ
Rouen
PHP
Les
tableaux
Chaque
élément
du
tableau
a
une
clé
et
une
valeur
Pas
de
déclaration
du
tableau
Les
valeurs
des
éléments
ne
sont
pas
forcément
toutes
du
même
type
Exemple
remplissage
à
la
volée
tab
tab
pif
tab
paf
false
Exemple
remplissage
direct
tab
array
pif
tab
array
paf
false
Thierry
Lecroq
Univ
Rouen
PHP
Parcours
de
tableaux
Parcours
classique
avec
for
Parcours
spécifique
foreach
tab
as
value
foreach
tab
as
key
value
Thierry
Lecroq
Univ
Rouen
PHP
Les
tableaux
Fonctions
prédéfinies
count
tab
compte
le
nombre
d
éléments
initialisés
current
tab
retourne
la
valeur
de
l
élément
en
cours
key
tab
retourne
l
indice
de
l
élément
en
cours
reset
tab
déplace
le
pointeur
vers
le
premier
élément
list
indice
valeur
avec
each
tab
permettent
de
parcourir
les
couples
indice
valeur
même
si
les
indices
ne
sont
pas
consécutifs
next
tab
déplace
le
pointeur
vers
l
élément
suivant
prev
tab
déplace
le
pointeur
vers
l
élément
précédent
Thierry
Lecroq
Univ
Rouen
PHP
Les
tableaux
Fonctions
prédéfinies
sort
tab
trie
les
valeurs
et
réaffecte
les
indices
asort
tab
trie
les
valeurs
et
ne
réaffecte
pas
les
indices
rsort
tab
id
sort
mais
dans
l
ordre
inverse
arsort
tab
id
asort
mais
dans
l
ordre
inverse
ksort
tab
trie
les
indices
krsort
tab
id
ksort
mais
dans
l
ordre
inverse
usort
tab
critere
uasort
tab
critere
uksort
tab
critere
trie
selon
un
citère
Thierry
Lecroq
Univ
Rouen
PHP
Les
chaˆınes
de
caractères
Délimitées
par
contenu
non
interprété
Délimitées
par
contenu
interprété
Les
unes
peuvent
contenir
les
autres
Concaténation
avec
Exemple
pif
toto
Contient
toto
paf
comme
pif
Contient
comme
toto
pouf
pas
comme
pif
Contient
pas
comme
pif
bim
pif
paf
Contient
toto
comme
toto
Thierry
Lecroq
Univ
Rouen
PHP
Les
chaˆınes
de
caractères
Accès
à
un
caractère
bim
strlen
str
longueur
de
str
Comparaison
avec
ou
strcmp
Thierry
Lecroq
Univ
Rouen
PHP
Les
chaˆınes
de
caractères
str
repeat
ch
nb
répétition
strtolower
ch
minuscules
strtoupper
ch
majuscules
ucwords
ch
initiales
en
majuscules
ucfirst
ch
re
lettre
en
majuscule
ltrim
ch
liste
suppression
de
caractères
au
début
rtrim
ch
liste
suppression
de
caractères
à
la
fin
trim
ch
liste
suppression
de
caractères
au
début
et
à
la
fin
Thierry
Lecroq
Univ
Rouen
PHP
Les
chaˆınes
de
caractères
strstr
ch
ch
recherche
sensible
à
la
casse
retourne
tous
les
caractères
de
ch
depuis
la
re
occurence
de
ch
jusqu
à
la
finn
stristr
ch
ch
recherche
insensible
à
la
casse
substr
ch
indice
N
extraction
de
chaˆıne
de
caractères
substr
count
ch
ssch
décompte
du
nombre
d
occurences
d
une
sous
chaˆıne
str
replace
oldssch
newssch
ch
remplacement
strpos
ch
ssch
position
Thierry
Lecroq
Univ
Rouen
PHP
Les
fonctions
function
ma
fonc
param
param
return
pas
de
type
pour
les
paramètres
ou
la
valeur
de
retour
nombre
fixé
de
paramètres
le
nom
ne
commence
pas
par
le
nom
est
insensible
à
la
casse
le
résultat
est
renvoyé
avec
la
commande
return
une
seule
valeur
de
retour
passage
des
paramètres
par
valeur
par
défaut
passage
par
référence
param
Thierry
Lecroq
Univ
Rouen
PHP
Les
fonctions
Example
function
double
n
n
return
n
x
echo
double
double
x
valeur
x
echo
double
double
x
valeur
x
Thierry
Lecroq
Univ
Rouen
PHP
Les
fonctions
Les
variables
utilisées
à
l
intérieur
d
une
fonctions
sont
détruites
à
la
fin
sauf
si
on
les
définit
avec
static
si
on
les
définit
avec
global
Thierry
Lecroq
Univ
Rouen
PHP
Les
fonctions
Exemple
function
ma
fonc
static
appels
appel
s
echo
J
ai
ete
appellee
appels
fois
function
ma
fonc
global
var
var
var
ma
fonc
echo
var
Thierry
Lecroq
Univ
Rouen
PHP
Inclusion
de
fichiers
require
fichier
include
fichier
require
once
fichier
include
once
fichier
Les
variantes
include
provoquent
des
warnings
au
lieu
d
erreurs
en
cas
de
problème
Les
variantes
once
n
incluent
le
fichier
que
si
celui
n
a
pas
déjà
été
inclu
Thierry
Lecroq
Univ
Rouen
PHP
Plan
G
en
eralit
es
sur
PHP
Les
bases
Les
formulaires
Les
fichiers
Les
cookies
Les
sessions
Perspectives
Thierry
Lecroq
Univ
Rouen
PHP
Les
formulaires
ou
les
entrées
L
élément
form
form
form
Thierry
Lecroq
Univ
Rouen
PHP
Les
formulaires
Les
attributs
de
l
élément
form
action
permet
de
préciser
comment
doivent
être
traitées
les
données
du
formulaire
côté
serveur
ex
form
action
traitement
php
form
action
http
www
site
com
script
traitement
php
form
action
mailto
Thierry
Lecroq
univ
rouen
fr
traitement
par
le
fichier
lui
même
form
action
SERVER
PHP
SELF
method
méthode
d
envoi
des
données
vers
le
serveur
I
get
utilisée
par
défaut
données
transmises
visibles
par
l
utilisateur
ex
http
www
site
com
script
traitement
php
prenom
Thierry
nom
Lecroq
I
post
données
non
visibles
mais
pas
de
navigation
avec
Précédent
Suivant
Thierry
Lecroq
Univ
Rouen
PHP
Les
éléments
descendants
de
l
élément
form
fieldset
délimite
des
groupes
de
composants
actifs
contient
l
élément
legend
Bouton
d
envoi
input
type
submit
value
Envoyer
name
soumission
tabindex
accesskey
E
title
Bouton
d
envoi
button
type
submit
name
soumission
tabindex
accesskey
B
title
Bouton
d
envoi
Envoyer
button
Thierry
Lecroq
Univ
Rouen
PHP
Les
éléments
descendants
de
l
élément
form
avec
une
image
button
type
submit
name
soumission
tabindex
accesskey
B
title
Bouton
d
envoi
Envoyer
button
Thierry
Lecroq
Univ
Rouen
PHP
Les
éléments
descendants
de
l
élément
form
bouton
de
remise
à
zéro
input
type
reset
value
Effacer
name
effacement
Thierry
Lecroq
Univ
Rouen
PHP
La
saisie
de
texte
La
saisie
de
texte
uniligne
label
Votre
nom
label
input
type
text
name
nom
size
maxlength
value
Lecroq
onclick
this
value
Autres
attributs
disabled
disabled
readonly
readonly
onfocus
script
onchange
script
Thierry
Lecroq
Univ
Rouen
PHP
Exemple
xhmtl
Exemple
form
method
post
action
exemple
php
fieldset
legend
Donn
eacute
es
personnelles
legend
label
Nom
label
input
type
text
name
nom
maxlength
br
br
label
Pr
eacute
nom
label
input
type
text
name
prenom
value
Votre
pr
eacute
nom
maxlength
onclick
this
value
br
br
label
Adresse
label
input
type
text
name
adresse
maxlength
label
Code
postal
label
input
type
text
name
codePostal
size
maxlength
label
Ville
label
input
type
text
name
ville
maxlength
input
type
submit
name
envoi
value
Envoyer
fieldset
form
Thierry
Lecroq
Univ
Rouen
PHP
Exemple
php
Exemple
table
php
foreach
POST
as
cle
valeur
echo
tr
td
cle
td
td
valeur
td
tr
table
Thierry
Lecroq
Univ
Rouen
PHP
Saisies
Saisie
de
mot
de
passe
type
password
Saisie
de
texte
long
élément
textarea
attributs
cols
N
largeur
de
la
zone
rows
N
hauteur
visible
de
la
zone
Exemple
textarea
name
commentaires
cols
rows
onclick
this
value
Tapez
vos
commentaires
ici
textarea
Thierry
Lecroq
Univ
Rouen
PHP
Les
boutons
radio
et
les
cases
à
cocher
input
type
radio
name
nom
value
valeur
checked
checked
input
type
radio
name
nom
value
valeur
input
type
checkbox
name
nom
value
valeur
checked
checked
input
type
checkbox
name
nom
value
valeur
Thierry
Lecroq
Univ
Rouen
PHP
Les
listes
de
sélection
select
name
nom
option
value
valeur
Option
option
option
value
valeur
Option
option
option
value
valeurN
Option
N
option
select
les
attributs
size
N
nombre
de
lignes
visibles
lors
de
l
affichage
par
défaut
multiple
multiple
plusieurs
choix
possibles
dans
la
liste
maintenir
la
touche
Ctrl
enfoncée
Thierry
Lecroq
Univ
Rouen
PHP
Groupes
d
option
Exemple
select
name
nom
optgroup
label
Groupe
option
value
valeur
Valeur
option
option
value
valeur
Valeur
option
optgroup
optgroup
label
Groupe
option
value
valeur
Valeur
option
option
value
valeur
Valeur
option
option
value
valeur
Valeur
option
optgroup
select
Thierry
Lecroq
Univ
Rouen
PHP
Le
transfert
de
fichiers
form
action
fichier
php
method
post
enctype
multipart
form
data
input
type
file
name
fichier
accept
type
MIME
côté
serveur
en
php
FILES
tableau
Thierry
Lecroq
Univ
Rouen
PHP
Récapitulatif
Les
différents
types
pour
les
balises
input
text
une
zone
de
texte
sur
une
seule
ligne
password
idem
mais
avec
affichage
d
étoiles
file
permet
la
sélection
d
un
fichier
checkbox
une
case
à
cocher
button
un
bouton
simple
pas
d
action
sans
javascript
hidden
un
champ
texte
caché
radio
un
bouton
d
option
reset
un
bouton
de
remise
à
zéro
submit
un
bouton
de
soumission
Thierry
Lecroq
Univ
Rouen
PHP
Plan
G
en
eralit
es
sur
PHP
Les
bases
Les
formulaires
Les
fichiers
Les
cookies
Les
sessions
Perspectives
Thierry
Lecroq
Univ
Rouen
PHP
Les
fichiers
Ouverture
fd
fopen
chemin
mode
mode
r
lecture
read
w
écriture
write
a
ajout
append
lecture
écriture
Lecture
caractère
par
caractère
car
fgetc
fd
Thierry
Lecroq
Univ
Rouen
PHP
Les
fichiers
Lecture
de
lignes
ligne
fgets
fd
longueur
Lecture
d
octets
v
fread
fd
nboctets
taille
d
un
fichier
filesize
chemin
Thierry
Lecroq
Univ
Rouen
PHP
Les
fichiers
Écriture
fwrite
fd
message
longueur
maximale
fputs
Fin
de
fichier
feof
fd
Fermeture
fclose
fd
Existence
d
un
fichier
file
exists
chemin
Thierry
Lecroq
Univ
Rouen
PHP
Plan
G
en
eralit
es
sur
PHP
Les
bases
Les
formulaires
Les
fichiers
Les
cookies
Les
sessions
Perspectives
Thierry
Lecroq
Univ
Rouen
PHP
Les
cookies
conçus
par
Netscape
fichiers
texte
courts
stockés
par
le
navigateur
côté
client
analogie
carte
d
identité
cookie
sans
durée
d
expiration
mémoire
vive
cookie
avec
durée
d
expiration
mémoire
secondaire
Thierry
Lecroq
Univ
Rouen
PHP
Exemple
php
setcookie
truc
machin
html
head
title
Titre
title
head
body
p
Un
cookie
a
eacute
t
eacute
envoy
eacute
p
body
html
Thierry
Lecroq
Univ
Rouen
PHP
Exemple
html
head
title
Titre
title
head
body
php
if
isset
COOKIE
truc
echo
p
Un
cookie
a
eacute
t
eacute
envoy
eacute
p
echo
p
Son
contenu
est
echo
COOKIE
truc
echo
p
else
echo
p
Aucun
cookie
du
nom
de
truc
n
a
eacute
t
eacute
re
ccedil
u
p
body
html
Thierry
Lecroq
Univ
Rouen
PHP
Les
cookies
Suppression
d
un
cookie
setcookie
nom
Modification
de
la
valeur
d
un
cookie
setcookie
nom
nouvelle
valeur
Validité
et
date
d
expiration
setcookie
nom
valeur
timestamp
timestamp
nombre
de
secondes
depuis
le
erjanvier
mktime
heures
minutes
secondes
mois
jour
an
Thierry
Lecroq
Univ
Rouen
PHP
Plan
G
en
eralit
es
sur
PHP
Les
bases
Les
formulaires
Les
fichiers
Les
cookies
Les
sessions
Perspectives
Thierry
Lecroq
Univ
Rouen
PHP
Persistence
des
données
On
veut
parfois
garder
de
l
information
entre
plusieurs
pages
Login
Password
Préférences
de
navigation
Sélection
de
produits
à
acheter
panier
On
utilise
donc
les
sessions
PHP
Les
cookies
permettent
de
stocker
des
informations
côté
client
Les
sessions
permettent
de
stocker
des
informations
côté
serveur
Elles
sont
identifiées
par
un
numéro
qui
reste
valide
tant
que
le
visiteur
reste
connecté
Le
numéro
est
transmis
au
serveur
soit
dans
l
URL
soit
dans
un
cookie
Les
données
se
placent
et
se
récupèrent
dans
SESSION
comme
pour
les
formulaires
Thierry
Lecroq
Univ
Rouen
PHP
Utilisation
des
sessions
La
session
existe
dès
qu
elle
est
crée
et
jusqu
à
ce
qu
elle
soit
détruite
Création
et
réouverture
session
start
Destruction
session
destroy
Note
les
sessions
s
autodétruisent
après
un
certain
temps
généralement
min
Thierry
Lecroq
Univ
Rouen
PHP
Thierry
Lecroq
Univ
Rouen
PHP
Exemple
d
utilisation
html
head
title
Connexion
au
site
title
head
body
form
method
post
action
verifLogin
php
label
Login
label
input
type
text
name
login
br
label
Mot
de
passe
label
input
type
password
name
password
br
input
type
submit
name
submit
value
Login
form
body
html
Thierry
Lecroq
Univ
Rouen
PHP
php
On
démarre
la
session
session
start
On
n
effectue
les
traitement
qu
à
la
condition
que
les
informations
aient
été
effectivement
postées
if
isset
POST
empty
POST
login
empty
POST
password
extract
POST
création
des
variables
login
mdp
et
submit
On
va
chercher
le
mot
de
passe
afférent
à
ce
login
Établir
la
connexion
sélectionner
la
base
connexion
mysql
connect
localhost
mysql
select
db
nom
de
la
base
sql
SELECT
pseudo
age
sexe
ville
mdp
FROM
user
WHERE
login
login
req
mysql
query
sql
or
die
Erreur
SQL
br
sql
On
vérifie
que
l
utilisateur
existe
bien
if
mysql
num
rows
req
Thierry
Lecroq
Univ
Rouen
PHP
data
mysql
fetch
assoc
req
On
vérifie
que
son
mot
de
passe
est
correct
if
password
data
mdp
loginOK
true
else
loginOK
false
Fermeture
de
la
connexion
mysql
close
connexion
Si
le
login
a
été
validé
on
met
les
données
en
sessions
if
loginOK
SESSION
pseudo
data
pseudo
SESSION
age
data
age
SESSION
sexe
data
sexe
SESSION
ville
data
ville
else
echo
Une
erreur
est
survenue
veuillez
réessayer
Utilisation
php
On
appelle
la
session
session
start
On
affiche
une
phrase
résumant
les
infos
sur
l
utilisateur
courant
echo
Pseudo
SESSION
pseudo
br
Age
SESSION
age
br
Sexe
SESSION
sexe
br
Ville
SESSION
ville
br
Thierry
Lecroq
Univ
Rouen
PHP
Déconnexion
Code
de
la
page
logout
php
php
On
appelle
la
session
session
start
On
écrase
le
tableau
de
session
SESSION
array
On
détruit
la
session
session
destroy
Thierry
Lecroq
Univ
Rouen
PHP
Plan
G
en
eralit
es
sur
PHP
Les
bases
Les
formulaires
Les
fichiers
Les
cookies
Les
sessions
Perspectives
Thierry
Lecroq
Univ
Rouen
PHP
XHTML
href
peut
être
attribut
de
tout
élément
acronym
b
i
small
big
tt
disparaissent
hr
est
remplacé
par
separator
l
attribut
role
permet
d
ajouter
des
informations
sémantiques
aux
éléments
incorporation
du
RDF
Ressource
Description
Format
section
h
plutôt
que
hn
en
concurrence
avec
X
HTML
Thierry
Lecroq
Univ
Rouen
PHP
Document
Outline
Généralités
sur
PHP
Les
bases
Les
formulaires
Les
fichiers
Les
cookies
Les
sessions
Perspectives
