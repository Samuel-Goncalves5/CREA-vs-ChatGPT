Développement
Web
PHP
Cours
Organisation
séances
Une
séance
h
cours
h
TD
Projet
Projet
en
binôme
ou
en
solo
selon
les
groupes
du
premier
semestre
Devoir
Sur
Table
Interros
Surprises
minutes
Participation
travail
continu
notés
sous
forme
de
points
bonus
TD
de
la
semaine
divers
documents
et
informations
diverses
sur
l
EPI
Fin
cours
avril
Evaluation
Contrôle
continu
Devoir
Maison
Projet
Devoirs
Sur
Table
Interrogations
surprises
Bonus
Participation
Examen
partiel
Programme
du
cours
Introduction
générale
au
web
Architectures
techniques
Rappel
sur
HTML
et
la
différence
Statique
Dynamique
Explications
sur
l
environnement
web
Premiers
pas
en
PHP
Installation
WAMP
MAMP
XAMP
PHP
PHP
et
MySQL
Architecture
générale
d
un
site
web
Base
de
Données
information
brute
Navigateur
Serveur
Web
utilisateur
site
visible
Serveur
d
Application
traitements
internes
Front
Office
Back
Office
Architecture
générale
d
un
site
web
Base
de
Données
Navigateur
Serveur
Web
Serveur
d
Application
Front
Office
Back
Office
Architecture
générale
d
un
site
web
Navigateur
Serveur
Web
Base
de
Données
Apache
Front
Office
Back
Office
Architecture
générale
d
un
site
web
Navigateur
Serveur
Web
Base
de
Données
Apache
XAMP
Front
Office
Back
Office
Rappel
des
versions
des
technologies
Vérifiez
bien
les
versions
de
tutoriaux
que
vous
trouverez
sur
internet
§
HTML
pas
vraiment
de
version
minimale
hormis
les
navigateurs
interprètent
ce
qu
ils
peuvent
§
HTML
version
actuelle
passe
aussi
§
PHP
obsolète
et
non
supporté
failles
de
sécurité
§
PHP
supporté
§
PHP
version
actuelle
§
MySQL
version
actuelle
mais
peu
de
soucis
avec
le
langage
car
standard
SQL
excepté
si
tutorial
MySQL
Rappel
des
versions
des
technologies
Vérifiez
bien
les
versions
de
tutoriaux
que
vous
trouverez
sur
internet
§
Documentation
PHP
http
php
net
manual
fr
§
Exemple
concret
avec
les
fonctions
de
chaînes
http
php
net
manual
fr
ref
strings
php
Rappel
HTML
Header
Body
Listes
Tableaux
Images
et
Liens
HTML
Chaque
balise
ouverte
html
doit
être
fermée
html
balise
balise
head
body
head
title
Exemple
HTML
title
title
h
p
p
head
body
i
b
h
Exemple
h
p
Ceci
est
i
really
i
b
Important
b
p
p
L
informatique
peut
vous
aider
p
body
html
HTML
Structure
d
un
document
HTML
DOCTYPE
html
Indication
idiome
HTML
html
head
meta
name
author
content
Entête
head
Manuele
Kirsch
Pinheiro
Informations
générales
title
Exemple
HTML
title
sur
le
document
head
body
h
Exemple
h
p
Ceci
est
i
really
i
Corps
body
b
Important
b
p
Contenu
du
document
p
L
informatique
peut
vous
aider
p
body
html
HTML
Elément
DOCTYPE
Indique
au
navigateur
quelle
version
de
HTML
a
été
utilisée
HTML
Couramment
compris
par
tous
les
navigateurs
DOCTYPE
html
PUBLIC
W
C
DTD
HTML
Transitional
EN
http
www
w
org
TR
html
loose
dtd
HTML
DOCTYPE
html
En
cours
de
définition
Reconnu
uniquement
par
les
navigateurs
les
plus
récents
Google
Chrome
Firefox
Internet
Explorer
HTML
Eléments
de
l
entête
head
head
meta
name
author
Informations
complémentaires
content
Manuele
sur
le
document
title
Exemple
HTML
title
head
Ce
n
est
pas
le
contenu
du
document
donc
ces
informations
ne
sont
pas
affichées
dans
la
page
Typiquement
informations
pour
les
moteurs
de
recherche
Balises
titre
titre
titre
du
document
meta
métadonnées
descriptions
sur
le
document
link
style
style
styles
HTML
Eléments
de
l
entête
head
title
Exemple
HTML
title
Ouverture
et
fermeture
de
la
balise
meta
name
author
content
auteur
Attributs
associés
à
la
balise
Les
éléments
de
Précisions
sur
une
balise
l
entête
ne
sont
Chaque
balise
possède
son
ensemble
pas
visibles
dans
le
corps
du
d
attributs
document
balise
attribut
valeur
meta
name
description
value
meta
charset
ISO
HTML
Eléments
du
corps
body
body
Contenu
du
document
h
Exemple
h
p
Ceci
est
i
really
i
Partie
rendue
visible
par
les
b
Important
b
p
navigateurs
p
L
informatique
peut
vous
Balises
il
y
en
a
plein
aider
p
body
Titres
h
h
h
Paragraphe
et
saut
de
ligne
p
et
br
Citations
et
mises
en
valeur
b
i
blockquote
Images
et
liens
img
a
Listes
ol
ul
li
Tableaux
table
tr
td
Organisation
du
document
div
section
HTML
Eléments
du
corps
body
Les
titres
h
h
h
h
h
h
Les
éléments
h
x
permettent
de
définir
des
titres
de
différents
niveaux
h
correspond
au
titre
principal
Ils
doivent
apparaître
dans
l
ordre
h
avant
h
avec
un
seul
titre
principal
h
body
h
Exemple
h
h
body
HTML
Eléments
du
corps
body
Paragraphe
saut
de
ligne
et
citation
La
balise
p
p
indique
un
paragraphe
La
balise
br
fait
un
simple
saut
de
ligne
Les
balises
b
b
et
i
i
mettent
un
texte
en
relief
en
gras
ou
en
italique
La
balise
blockquote
blockquote
permet
de
citer
une
autre
page
Web
blockquote
cite
http
source
citation
blockquote
La
balise
hr
permet
d
établir
une
séparation
ligne
horizontal
dans
le
document
HTML
Eléments
body
html
h
head
head
body
h
i
h
Exemple
h
h
br
h
Exemple
h
h
p
p
Ceci
est
un
paragraphe
avec
un
i
terme
technique
i
et
un
b
br
b
mot
clé
b
p
blockquote
cite
http
fr
wikipedia
org
wiki
Hypertext
markup
language
HTML
n
est
pas
conçu
pour
spécifier
l
apparence
visuelle
exacte
des
documents
blockquote
hr
hr
p
L
informatique
peut
vous
aider
p
blockquote
body
html
HTML
HTML
Langage
de
balises
permettant
la
structuration
des
pages
Web
Organisation
en
balises
balise
attr
valeur
balise
Organisation
du
document
Entête
head
Corps
du
document
body
Différents
types
de
balises
possibles
Listes
tableaux
images
liens
HTML
listes
Plusieurs
types
de
listes
sont
possibles
Listes
numérotés
ol
ol
Listes
non
numérotés
ul
ul
Peu
importe
la
liste
un
seul
moyen
d
indiquer
les
éléments
li
li
ol
li
Item
li
li
Item
li
ol
ul
li
Premier
item
li
li
Second
item
li
ul
HTML
tableaux
Pour
créer
un
tableau
en
HTML
on
va
combiner
plusieurs
balises
table
tr
td
caption
th
thead
tbody
table
border
Tableau
tr
table
Ligne
td
HTML
td
tr
td
td
tr
tr
td
HTML
td
td
td
Cellule
tr
td
table
HTML
tableaux
table
border
caption
légende
caption
Historique
du
HTML
caption
thead
thead
Entête
du
tableau
tr
th
Version
th
th
Cellule
de
l
entête
th
Année
th
tr
thead
tbody
corps
du
tbody
tableau
tr
td
HTML
td
td
td
tr
tr
td
HTML
td
td
td
tr
tbody
table
HTML
images
Insertion
d
images
dans
le
texte
balise
img
img
src
fichier
jpg
width
alt
texte
Texte
alternatif
Taille
optionnelle
infobulle
width
height
src
où
se
trouve
l
image
Page
html
Soit
elle
est
avec
la
page
Web
img
répertoire
src
img
Paris
ND
jpg
Paris
ND
jpg
fichier
Soit
elle
est
sur
un
serveur
src
http
lsteffenel
fr
images
petanque
cochonnet
jpg
HTML
images
Balises
HTML
Images
html
head
head
body
h
Exemples
h
p
Image
distante
img
src
http
lsteffenel
fr
images
petanque
cochonnet
jpg
width
alt
Cochonnet
et
petanques
p
p
Image
local
img
src
img
Paris
ND
jpg
height
alt
Vue
de
Paris
p
body
html
HTML
liens
L
usage
des
liens
permet
de
relier
une
page
Web
à
d
autres
pages
voire
à
d
autres
points
dans
la
page
a
href
ref
lien
visible
a
L
attribut
href
indique
vers
où
aller
lorsqu
on
clique
sur
le
lien
Lien
local
a
href
autrePage
html
vers
autre
page
a
Lien
distant
a
href
http
serveur
page
html
ailleurs
a
Envoyer
un
mail
a
href
mailto
monemail
serveur
com
envoyer
mail
a
HTML
liens
On
attribue
un
identificateur
balise
id
identificateur
h
id
debut
Liens
h
p
Lien
vers
a
href
http
epi
univ
paris
fr
l
EPI
a
p
p
Lien
vers
a
href
coursHTML
html
exemple
tableaux
a
p
p
Envoyer
un
mail
à
a
href
mailto
moi
mail
com
moi
a
p
p
p
Lien
vers
l
identificateur
a
href
identificateur
p
a
href
coursHTML
html
debut
Retourner
au
début
a
p
Statique
vs
Dynamique
Statique
Partie
fixe
des
pages
HTML
renvoyées
au
client
les
CSS
parties
qui
ne
changent
pas
JavaScript
JS
quoi
qu
il
arrive
Dynamique
CGI
Partie
variable
des
pages
PHP
renvoyées
au
client
les
Java
parties
qui
changent
selon
JavaScript
JS
les
requêtes
et
les
informations
disponibles
Statique
vs
Dynamique
Site
web
statique
Aucun
changement
dans
les
pages
lorsque
l
on
rafraichit
refait
la
même
requête
Dynamique
Les
pages
évoluent
selon
les
informations
externes
à
chaque
requête
en
général
Statique
vs
Dynamique
Site
web
statique
body
html
background
color
head
lightblue
link
rel
stylesheet
type
text
css
href
mystyle
css
h
head
color
navy
body
margin
left
px
body
html
CSS
HTML
Statique
vs
Dynamique
Site
web
dynamique
body
html
php
background
color
head
include
head
html
lightblue
link
rel
stylesheet
echo
body
type
text
css
Var
href
mystyle
css
echo
Valeur
Var
h
head
color
navy
echo
body
margin
left
px
include
foot
html
CSS
HTML
PHP
Apache
URI
URL
DNS
PHP
Serveur
Web
Apache
traite
les
connexions
et
transmet
les
requêtes
S
appuie
sur
HTTP
URI
URL
DNS
pour
communiquer
ainsi
que
comprendre
quelle
ressource
et
quel
site
sont
visés
Extension
au
serveur
web
PHP
lit
les
requêtes
qu
Apache
lui
transmet
et
fait
les
traitements
demandés
Apache
PHP
Apache
va
traiter
les
connexions
et
requêtes
PHP
va
construire
la
réponse
en
exécutant
la
logique
métier
le
code
Navigateur
Serveur
Web
Apache
Apache
Apache
Serveur
web
libre
et
gratuit
Dispose
d
extensions
pour
se
lier
à
PHP
ou
à
d
autres
outils
pour
traiter
les
requêtes
Navigateur
Serveur
Web
Apache
Apache
Apache
Usage
classique
associe
des
fichiers
à
des
requêtes
html
http
monsite
fr
page
htm
Coucou
GET
page
htm
html
page
htm
Navigateur
Serveur
Web
Apache
Apache
Client
envoie
une
requête
avec
la
ressource
visée
Apache
lit
la
requête
et
cherche
le
fichier
Apache
répond
à
la
requête
en
envoyant
le
fichier
GET
page
htm
html
http
monsite
fr
page
htm
Coucou
GET
page
htm
html
Coucou
page
htm
html
Navigateur
Coucou
Serveur
Web
html
page
htm
Apache
Apache
Requête
et
réponse
transmises
avec
HTTP
ou
HTTP
ou
HTTP
HyperText
Transfer
Protocol
GET
page
htm
html
http
monsite
fr
page
htm
Coucou
GET
page
htm
html
Coucou
page
htm
Navigateur
Serveur
Web
Protocole
pour
transmettre
les
Apache
informations
HTTP
Apache
Apache
Serveur
web
s
appuie
donc
sur
Protocole
HTTP
utilise
généralement
le
port
Protocole
HTTPS
utilise
généralement
le
port
S
pour
secure
en
utilisant
des
certificats
pour
chiffrer
la
connexion
ET
pour
s
assurer
que
l
hôte
host
est
bien
celui
que
l
on
cherche
Pour
pouvoir
communiquer
avec
les
navigateurs
Apache
URI
URL
Identification
des
ressources
avec
URI
et
URL
URI
Uniform
Resource
Identifier
Adresse
unique
vers
URL
Uniform
Resource
Locator
la
ressource
page
htm
GET
page
htm
http
monsite
fr
page
htm
GET
page
htm
Coucou
html
html
Coucou
Navigateur
Coucou
Serveur
Web
html
html
page
htm
page
htm
Apache
Apache
URI
URL
Identification
des
ressources
avec
URI
et
URL
http
monsite
fr
page
htm
Ressource
page
htm
Dans
le
dossier
la
racine
Sur
le
site
web
http
monsite
fr
ftp
machine
autresite
com
images
oiseau
jpg
Ressource
oiseau
jpg
Dans
le
dossier
images
Sur
la
machine
machine
autresite
com
accessible
en
ftp
Apache
URI
URL
Apache
DNS
Chaque
machine
sur
internet
est
identifiée
par
son
IP
Exemple
IPV
ou
Exemple
IPV
db
a
a
e
Pas
très
pratique
pour
visiter
des
sites
web
mais
parfait
pour
rendre
unique
une
machine
Apache
DNS
DNS
Domain
Name
System
Gère
les
noms
de
domaine
exemple
univ
paris
fr
Permet
de
lier
un
nom
de
domaine
à
une
ou
des
IP
Permet
de
gérer
des
sous
domaines
Exemple
univ
paris
fr
www
univ
paris
fr
ent
univ
paris
fr
www
et
ent
sont
des
sous
domaines
Apache
DNS
Apache
DNS
Client
envoie
une
requête
avec
la
ressource
visée
Apache
lit
la
requête
et
cherche
le
fichier
Apache
répond
à
la
requête
en
envoyant
le
fichier
GET
page
htm
HOST
chez
moi
fr
html
GET
page
htm
GET
page
htm
Coucou
HOST
mio
es
HOST
chez
moi
fr
html
Coucou
Pouet
page
htm
html
html
Navigateur
Coucou
Pouet
Serveur
Web
html
html
html
Pouet
html
page
htm
page
htm
Apache
page
htm
Apache
DNS
Plusieurs
noms
de
domaine
peuvent
renvoyer
vers
la
même
IP
Le
serveur
web
peut
donc
afficher
des
sites
différents
selon
l
hôte
demandé
dans
la
requête
Chez
Apache
on
appelle
cela
des
virtual
hosts
vhosts
Pour
gérer
cela
vous
devez
avoir
accès
à
la
configuration
du
serveur
web
Ce
qui
n
est
pas
toujours
le
cas
lorsque
vous
souscrivez
à
un
service
d
hébergement
web
Pour
avoir
un
bon
site
il
est
utile
de
lui
choisir
un
nom
de
domaine
pertinent
Les
certificats
pour
mettre
du
HTTPS
se
basant
sur
les
noms
de
domaine
et
pas
sur
les
IP
Apache
PHP
PHP
est
une
extension
à
côté
de
Apache
html
Apache
configuré
pour
appeler
PHP
lorsqu
il
php
voit
passer
une
requête
terminant
par
php
echo
B
PHP
traite
le
fichier
en
question
et
produit
html
une
réponse
renvoyée
par
Apache
page
php
GET
page
php
GET
page
php
B
html
Navigateur
Serveur
Web
html
B
B
html
html
Apache
page
php
page
php
Apache
CGI
CGI
Common
Gateway
Interface
Des
outils
autres
que
PHP
peuvent
être
appelés
par
les
html
serveurs
web
html
CGI
est
un
standard
pour
envoyer
les
requêtes
aux
autres
outils
et
lire
leurs
réponses
page
xyz
GET
page
xyz
GET
page
xyz
Hello
CGI
html
Navigateur
Serveur
Web
html
B
Hello
html
html
CGI
Apache
page
xyz
page
xyz
Objectifs
du
cours
Création
d
un
site
Web
dynamique
PHP
PHP
PHP
est
un
langage
de
programmation
utilisé
pour
la
construction
de
sites
Web
dynamiques
Pages
PHP
pages
Web
qui
contiennent
de
PHP
On
va
mélanger
le
PHP
au
code
HTML
CSS
Le
code
PHP
va
être
analysé
par
le
serveur
Le
résultat
va
être
une
nouvelle
page
Web
mise
à
jour
automatiquement
par
le
code
PHP
coursPHP
php
html
Le
code
PHP
est
à
php
l
intérieur
de
la
balise
date
default
timezone
set
Europe
Paris
php
ou
entouré
par
la
balise
echo
p
style
font
style
italic
Paris
le
script
language
php
date
d
m
Y
p
script
html
PHP
PHP
Php
Hypertext
Preprocessor
Ø
Langage
interprété
pour
créer
des
sites
dynamiques
Ø
Langage
de
script
côté
serveur
Ø
Langage
faiblement
typé
Ø
Langage
Embedded
HTML
Ø
Open
source
PHP
a
permis
de
créer
un
grand
nombre
de
sites
web
célèbres
comme
Facebook
Wikipédia
etc
Commandes
PHP
de
base
Variables
Types
Opérateurs
Fonctions
echo
gettype
unset
Installation
et
configuration
de
PHP
Il
suffit
de
télécharger
la
suite
logiciele
WAMP
http
www
wampserver
com
MAMP
http
www
mamp
info
XAMPP
https
www
apachefriends
org
fr
Et
un
éditeur
de
texte
Sublim
Text
macOs
http
www
sublimetext
com
Notepad
Windows
https
notepad
plus
plus
org
fr
Autres
Linux
BSD
UNIX
emacs
vim
nano
gedit
Introduction
au
PHP
Syntaxe
de
base
DOCTYPE
HTML
PUBLIC
W
C
doctype
html
DTD
HTML
EN
http
html
www
w
org
TR
html
strict
dtd
head
title
Titre
title
head
body
php
echo
Hello
World
body
html
Commentaires
PHP
Commentaires
Commentaires
hérités
du
langage
C
et
Perl
Ceci
est
un
commentaire
sur
une
seule
ligne
Ceci
est
un
commentaire
sur
plusieurs
lignes
Commentaire
style
shell
Ceci
est
un
commentaire
sur
une
seule
ligne
Variables
PHP
La
notion
de
variable
Une
variable
est
un
conteneur
de
valeur
On
peut
lui
affecter
une
valeur
qu
on
va
utiliser
plus
tard
variable
PHP
Le
indique
une
variable
Le
est
une
affectation
On
attribut
une
valeur
à
la
Le
nom
de
variable
variable
commence
toujours
par
une
lettre
ou
un
sans
echo
variable
espace
On
récupère
la
valeur
gardée
dans
la
variable
par
son
nom
Variables
PHP
La
notion
de
variable
les
types
des
données
Les
variables
peuvent
garder
de
valeurs
de
différents
types
Nombres
entiers
integer
Nombres
décimaux
double
ou
float
Chaînes
de
caractères
string
super
chaîne
Logique
boolean
true
ou
false
La
fonction
gettype
variable
permet
de
savoir
quelle
type
de
valeur
contient
la
variable
entier
gettype
entier
integer
decimal
gettype
decimal
double
chaine
super
chaîne
gettype
chaine
string
bool
true
gettype
bool
boolean
Variables
PHP
Exemple
php
Définition
d
une
entier
variable
decimal
chaine
super
chaîne
boolean
true
echo
li
gettype
entier
entier
li
echo
li
gettype
decimal
decimal
li
echo
li
gettype
chaine
chaine
li
echo
li
gettype
boolean
boolean
li
Valeur
de
chaque
On
récupère
la
gettype
variable
valeur
de
la
variable
informe
le
type
boolean
de
la
variable
Types
de
données
PHP
Opérateur
sur
les
chaînes
de
caractères
concaténation
chaine
Chaine
Opérateurs
logiques
AND
ou
vrai
si
a
et
b
vrais
OR
ou
vrai
si
a
ou
b
sont
vrais
Opérateurs
arithmétiques
addition
a
b
soustraction
a
b
multiplication
a
b
division
a
b
modulo
reste
de
la
division
entière
a
b
Types
de
données
PHP
Opérateurs
arithmétiques
Attention
lorsqu
une
chaine
de
caractère
est
évaluée
comme
une
valeur
numérique
les
règles
suivantes
s
appliquent
toto
toto
vaut
toto
titi
toto
vaut
car
la
chaine
vaut
si
c
est
du
texte
ou
toto
titi
toto
vaut
car
la
chaine
vaut
commence
par
une
valeur
numérique
Types
de
données
PHP
Opérateurs
de
comparaison
égal
à
a
b
différent
de
a
b
supérieur
à
a
b
inférieur
à
a
b
supérieur
ou
égal
à
a
b
inférieur
ou
égal
à
a
b
Exemple
echo
toto
Vrai
Faux
Opérateurs
PHP
Opérateurs
Différents
opérateurs
permettent
de
manipuler
des
valeurs
qu
ils
soient
dans
les
variables
ou
pas
Opérateurs
Opérateurs
Opérateurs
de
Opérateurs
logiques
mathématiques
String
comparaison
OR
concaténation
AND
not
php
a
b
a
nom
Toto
”
echo
Salut
nom
echo
p
a
vaut
b
p
Fonctions
PHP
Date
Déclaration
avec
DATETIME
date
new
DateTime
DATE
CREATE
un
Alias
de
DateTime
construct
date
date
create
Extraction
du
Mois
année
Avec
style
procédural
en
utilisant
DATE
FORMAT
echo
date
format
date
m
Avec
style
orienté
objet
OO
echo
date
format
Y
Fonctions
PHP
Date
Exemples
date
date
d
m
y
echo
ceci
est
la
date
du
jour
date
heure
date
h
i
s
echo
c
est
l
heure
du
jour
heure
Tableaux
PHP
Tableaux
Variables
capables
d
enregistrer
plusieurs
valeurs
d
un
type
Tableaux
à
indice
Attention
a
définir
toutes
Chaque
position
est
identifiée
par
les
positions
avant
de
les
un
numéro
commençant
par
utiliser
ou
il
y
aura
une
message
d
erreur
tableau
A
tableau
B
tableau
Fin
A
B
Fin
Suite
tableau
Suite
Tableaux
associatifs
Chaque
position
reçoit
un
identifiant
un
label
Jean
Dupont
tableauAssoc
Prenom
Jean
Prenom
Nom
tableauAssoc
Nom
Dupont
Tableaux
PHP
Les
tableaux
de
PHP
ressemblent
aux
tableaux
associatifs
hash
tables
L
index
est
appelé
clé
La
valeur
associée
à
la
clé
est
appelée
valeur
On
déclare
un
tableau
de
deux
façons
Utiliser
la
fonction
array
pour
créer
un
tableau
Ou
affecter
directement
les
valeurs
au
tableau
PHP
Message
d
erreur
car
le
head
contenu
de
la
position
style
style
tableau
n
a
pas
head
été
défini
auparavant
body
h
Tableaux
à
indice
h
table
php
tableau
A
tableau
B
tableau
Fin
Contenu
de
la
tableau
Suite
position
tableau
echo
tr
td
tableau
td
td
tableau
td
td
tableau
td
td
tableau
td
td
tableau
td
tr
table
Tableaux
PHP
h
Tableau
associatif
h
table
tr
th
Nom
th
th
Prénom
th
tr
php
tableauAssoc
Prenom
Jean
tableauAssoc
Nom
Dupont
echo
tr
td
tableauAssoc
Nom
td
echo
td
tableauAssoc
Prenom
td
tr
table
body
Tableaux
PHP
Fonctions
sur
les
tableaux
sizeof
retourne
le
nombre
d
éléments
d
un
tableau
ou
count
retourne
le
nombre
d
éléments
d
un
tableau
s
il
existe
si
la
variable
n
est
pas
un
tableau
et
si
la
variable
n
existe
pas
Tableaux
PHP
Exemple
suite
array
tab
tab
toto
on
peut
mélanger
les
contenus
tab
chaine
valeur
on
peut
mélanger
les
clés
personne
array
type
M
nom
Smith
Tableaux
PHP
Parcourir
un
tableau
php
On
crée
notre
array
prenoms
prenoms
array
François
Michel
Nicole
Véronique
Benoît
Puis
on
fait
une
boucle
pour
tout
afficher
for
numero
numero
numero
echo
prenoms
numero
br
Tableaux
PHP
Parcourir
un
tableau
php
prenoms
array
François
Michel
Nicole
Véronique
Benoît
foreach
prenoms
as
id
valeur
echo
Case
id
valeur
Tableaux
PHP
Parcourir
un
tableau
associatif
php
personne
array
type
M
nom
Smith
foreach
personne
as
cle
valeur
echo
cle
cle
“
valeur
valeur
Développement
Web
PHP
Cours
Rappels
Base
de
Données
Navigateur
Serveur
Web
Serveur
d
Application
Front
Office
Back
Office
Rappels
Navigateur
Serveur
Web
Base
de
Données
Apache
Front
Office
Back
Office
Rappels
WAMP
MAMP
LAMP
XAMP
Windows
Mac
Linux
Unix
Apache
Serveur
Web
MySQL
Base
de
Données
PHP
Préprocesseur
des
pages
web
Rappels
Communications
entre
navigateur
web
et
serveur
web
se
font
avec
protocole
HTTP
GET
page
htm
html
http
monsite
fr
page
htm
Coucou
GET
page
htm
html
Coucou
page
htm
Navigateur
Serveur
Web
Protocole
pour
transmettre
les
Apache
informations
HTTP
Rappels
PHP
est
une
extension
à
côté
de
Apache
Apache
configuré
pour
appeler
PHP
lorsqu
il
voit
passer
une
requête
terminant
par
php
PHP
traite
le
fichier
en
question
et
produit
une
réponse
renvoyée
par
Apache
html
php
echo
B
html
page
php
GET
page
php
GET
page
php
B
html
Navigateur
Serveur
Web
html
B
B
html
html
Apache
page
php
page
php
Caractéristiques
PHP
Langage
faiblement
typé
Beaucoup
plus
flexible
mais
possibilité
de
faire
n
importe
quoi
Langage
interprété
Sur
le
terminal
de
Linux
CLI
disponible
pour
scripts
Command
Line
Interface
Usage
dans
ce
cours
extension
apache
Rappel
Formulaires
HTML
Communication
entre
le
client
navigateur
et
le
serveur
php
Les
formulaires
en
HTML
permettent
de
recueillir
des
données
auprès
de
l
utilisateur
Les
données
sont
ensuite
communiquées
à
un
programme
Le
navigateur
envoie
les
données
récoltées
par
les
formulaires
au
serveur
Le
programme
page
PHP
récupère
les
données
grâce
à
des
variables
Page
PHP
Rappel
Formulaires
HTML
Un
formulaire
HTML
est
défini
par
la
balise
form
form
Tous
les
éléments
sont
à
l
intérieur
de
la
balise
form
name
nomFormulaire
action
page
php
method
get
post
form
action
à
qui
on
envoie
les
données
method
comment
on
envoie
les
données
Les
champs
du
formulaire
sont
introduits
par
différents
balises
input
type
name
value
id
textarea
name
id
cols
rows
textarea
select
name
id
size
option
value
option
select
Rappel
Formulaires
HTML
input
type
text
name
nomClient
value
votre
nom
size
maxlength
select
name
produit
option
value
SuperKdo
Super
Kdo
option
select
textarea
name
opinionClient
cols
rows
Votre
opinion
sur
nos
produits
textarea
input
type
reset
value
Nettoyer
input
type
submit
value
Envoyer
input
type
submit
se
charge
d
envoyer
les
données
du
formulaire
Rappel
Formulaires
HTML
À
qui
les
données
sont
envoyées
input
type
text
Zone
de
saisie
select
option
Liste
de
sélection
d
options
textarea
Zone
de
texte
input
type
submit
Input
type
reset
Boutons
d
envoi
et
de
reset
du
formulaire
form
name
formClient
action
coursPHP
php
method
POST
label
for
nom
Nom
label
input
type
text
id
nom
name
nomClient
value
votre
nom
size
maxlength
br
label
Produit
label
select
name
produit
option
value
SuperKdo
Super
Kdo
option
option
value
MegaTruc
Mega
Truc
option
option
value
BabyFun
Baby
Fun
option
select
br
label
Opinion
label
textarea
name
opinionClient
cols
rows
Votre
opinion
sur
nos
produits
textarea
br
input
type
submit
value
Envoyer
class
bouton
input
type
reset
value
Nettoyer
class
bouton
form
Communications
Client
Serveur
méthodes
génériques
d
envoi
de
données
GET
Query
String
Valeurs
passées
via
l
URL
par
le
navigateur
valeurs
lisibles
dans
l
en
tête
et
dans
les
logs
d
accès
http
monsite
fr
mapage
php
var
truc
nom
moi
POST
On
remplit
un
formulaire
et
le
navigateur
envoie
le
formulaire
dans
le
body
de
la
requête
HTTP
valeurs
lisibles
si
le
body
de
la
requête
est
accessible
http
monsite
fr
mapage
php
Communications
Client
Serveur
Les
données
recueillies
dans
le
formulaire
sont
transmises
au
programme
indiqué
dans
action
Dans
PHP
on
récupère
ces
données
grâce
à
deux
tableaux
associatifs
spéciaux
GET
form
action
method
get
GET
nom
input
name
nom
POST
form
action
method
post
POST
nom
input
name
nom
Communication
C
S
GET
Client
envoie
des
données
OU
clique
sur
un
lien
prévu
Apache
récupère
et
analyse
la
requête
Apache
crée
des
tableaux
contenant
les
valeurs
et
les
envoie
à
PHP
GET
page
php
GET
var
GET
http
site
fr
page
php
var
var
GET
page
php
var
html
Coucou
html
Navigateur
Serveur
Web
page
php
Apache
Communications
C
S
GET
URL
de
la
requête
contient
les
valeurs
Formulaire
passé
par
l
URL
Construction
de
sa
propre
URL
a
href
http
monsite
fr
page
php
var
bla
x
y
Lien
a
page
php
la
page
qui
traitera
la
requête
var
contient
bla
x
contient
y
contient
sépare
l
adresse
de
ressource
des
données
sépare
chaque
donnée
champs
valeur
Communications
C
S
GET
Méthode
GET
Les
données
sont
envoyées
dans
l
URL
du
programme
Limitée
à
octets
form
name
formGet
Déconseillé
action
coursPHP
php
method
GET
label
Nom
label
input
type
text
name
client
size
br
label
Mot
de
passe
label
input
type
password
name
mdp
size
br
input
type
submit
value
Envoyer
form
php
echo
p
Bienvenue
i
GET
client
i
p
Communications
C
S
GET
On
lance
un
programme
qui
écoute
les
requêtes
envoyées
sur
notre
propre
machine
localhost
sur
le
port
On
crée
un
formulaire
qui
enverra
les
données
avec
la
méthode
GET
vers
une
page
de
notre
machine
sur
le
port
Communications
C
S
GET
On
remplit
le
formulaire
avec
des
valeurs
puis
on
clique
sur
Envoyer
Le
navigateur
envoie
une
requête
GET
au
serveur
localhost
avec
l
ensemble
des
variables
dans
l
URL
Communications
C
S
GET
Depuis
le
programme
serveur
on
écrit
une
réponse
Le
navigateur
récupère
une
réponse
il
considère
donc
qu
il
s
agit
de
la
ressource
visée
par
cette
URL
avec
ces
variables
et
valeurs
Le
navigateur
commence
à
récupérer
la
réponse
Communications
C
S
GET
Depuis
le
programme
serveur
on
termine
la
réponse
Ctrl
D
ferme
la
connexion
Le
navigateur
voit
la
connexion
se
fermer
il
considère
que
les
données
qu
il
a
récupéré
constitue
la
réponse
entière
il
l
affiche
Communications
C
S
GET
logs
On
va
regarder
les
logs
de
apache
les
journaux
enregistrant
toutes
les
transactions
que
le
serveur
web
a
traité
Le
navigateur
demande
la
page
contenant
le
formulaire
au
serveur
Le
navigateur
envoie
le
formulaire
par
l
URL
on
voit
toutes
les
valeurs
dans
la
requête
GET
enregistrée
Communication
C
S
POST
Client
rempli
formulaire
puis
déclenche
une
requête
Apache
récupère
et
analyse
la
requête
Apache
crée
des
tableaux
contenant
les
valeurs
et
les
envoie
à
PHP
GET
page
php
POST
Name
Flo
POST
http
site
fr
page
php
Name
Flo
POST
Name
Flo
Name
Flo
html
Coucou
html
Navigateur
Serveur
Web
page
php
Apache
Communication
C
S
POST
form
name
formClient
action
coursPHP
php
method
POST
label
for
nom
Nom
label
input
type
text
id
nom
name
nomClient
value
votre
nom
size
maxlength
br
php
nom
POST
nomClient
op
POST
opinionClient
prod
POST
produit
echo
p
Merci
de
votre
participation
nom
p
echo
p
Votre
produit
est
i
prod
i
p
echo
p
Votre
opinion
est
i
op
i
p
Communication
C
S
POST
HTML
Exemple
form
name
action
coursPHP
php
method
POST
fieldset
legend
Vos
données
legend
label
label
input
type
text
name
nom
br
label
label
input
type
email
name
email
br
input
type
radio
name
sexe
value
Homme
Homme
input
type
radio
name
sexe
value
Femme
Femme
br
fieldset
fieldset
legend
Vos
produits
legend
label
label
select
name
produit
option
value
SuperKdo
option
option
value
MegaTruc
Mega
Truc
option
option
value
BabyFun
option
select
br
label
label
textarea
name
opinion
textarea
fieldset
Communication
C
S
POST
PHP
Exemple
body
h
Récapitulatif
h
ul
php
echo
li
Nom
POST
nom
li
echo
li
Email
POST
email
li
echo
li
Sexe
POST
sexe
li
echo
li
Produit
préféré
POST
produit
li
echo
li
Suggestion
POST
opinion
li
ul
body
Communication
C
S
POST
On
lance
un
programme
qui
écoute
les
requêtes
envoyées
sur
notre
propre
machine
localhost
sur
le
port
On
crée
un
formulaire
qui
enverra
les
données
avec
la
méthode
POST
vers
une
page
de
notre
machine
sur
le
port
Communication
C
S
POST
On
remplit
le
formulaire
avec
des
valeurs
puis
on
clique
sur
Envoyer
Le
navigateur
envoie
une
requête
POST
au
serveur
localhost
en
visant
la
ressource
index
php
et
en
incluant
l
ensemble
des
variables
dans
le
corps
body
de
la
requête
HTTP
Communication
C
S
POST
Depuis
le
programme
serveur
on
écrit
une
réponse
Le
navigateur
récupère
une
réponse
il
considère
donc
qu
il
s
agit
Le
navigateur
d
une
réponse
possible
accessible
à
commence
à
récupérer
la
cette
URL
lorsque
l
on
envoie
des
réponse
données
en
POST
Communication
C
S
POST
Le
navigateur
voit
la
connexion
se
fermer
il
considère
que
les
données
qu
il
a
récupéré
constitue
la
réponse
entière
il
l
affiche
Depuis
le
programme
serveur
on
termine
la
réponse
Ctrl
D
ferme
la
connexion
Communications
C
S
POST
logs
On
va
regarder
les
logs
de
apache
les
journaux
enregistrant
toutes
les
transactions
que
le
serveur
web
a
traité
Le
navigateur
demande
la
page
contenant
le
formulaire
au
serveur
Le
navigateur
envoie
le
formulaire
en
POST
on
ne
voit
aucun
nom
de
variable
ni
valeur
dans
les
logs
d
apache
Statuts
HTTP
Une
requête
envoyée
une
réponse
reçue
Réponses
HTTP
de
types
officiels
xx
informationnelle
xx
succès
xx
redirection
xx
erreur
côté
client
url
n
existe
pas
xx
erreur
côté
serveur
autres
erreurs
sont
liées
au
serveur
web
utilisé
Statuts
HTTP
classiques
OK
La
requête
a
bien
été
reçue
comprise
et
exécutée
Permanent
Redirect
La
ressource
a
été
définitivement
déplacée
à
une
autre
URL
Temporary
Redirect
La
ressource
est
temporairement
déplacée
à
une
autre
URL
Forbidden
La
requête
est
correcte
mais
le
client
n
a
pas
le
droit
de
demander
au
serveur
de
faire
cette
action
Not
Found
La
ressource
visée
par
l
URL
n
a
pas
été
trouvée
Internal
Server
Error
Erreur
générique
non
spécifique
le
serveur
web
a
échoué
quelque
chose
à
un
moment
Bad
Gateway
Le
serveur
web
visé
n
arrive
pas
à
contacter
le
serveur
qui
traite
la
requête
envoyée
Statuts
HTTP
Statuts
HTTP
On
envoie
une
requête
au
serveur
localhost
sur
le
port
en
demandant
la
ressource
‘
Apache
répond
dans
l
en
tête
de
la
réponse
HTTP
que
tout
va
bien
OK
code
Apache
envoie
la
page
web
demandée
dans
le
corps
body
de
la
réponse
Statuts
HTTP
Statuts
HTTP
On
envoie
une
requête
au
serveur
localhost
sur
le
port
en
demandant
une
ressource
qui
n
existe
pas
Apache
répond
dans
l
en
tête
de
la
réponse
HTTP
que
la
ressource
n
a
pas
été
trouvée
code
Apache
envoie
dans
le
corps
de
la
réponse
HTTP
une
page
web
détaillant
l
erreur
au
client
au
format
HTML
pour
que
le
client
puisse
la
lire
Statuts
HTTP
Statuts
HTTP
On
envoie
une
requête
incorrecte
protocole
inexistant
au
serveur
localhost
sur
le
port
Apache
répond
dans
l
en
tête
de
la
réponse
HTTP
que
la
requête
est
incorrecte
elle
ne
respecte
pas
les
standards
qu
il
connait
Apache
envoie
dans
le
corps
de
la
réponse
HTTP
une
page
web
détaillant
l
erreur
au
client
au
format
HTML
pour
que
le
client
puisse
la
lire
PHP
Contrôle
de
Flot
Instructions
de
contrôle
Instructions
pour
gérer
le
flot
d
exécution
Instructions
conditionnelles
elles
conditionnent
l
exécution
Semblables
à
un
nœud
de
Décision
diagramme
activités
if
else
switch
case
Instructions
de
boucle
elles
permettent
la
répétition
d
un
bloc
d
instructions
for
foreach
while
do
while
PHP
if
else
Instructions
conditionnelles
if
else
if
condition
bloc
d
instructions
si
vrai
else
bloc
d
instructions
si
faux
condition
VRAI
Bloc
d
instructions
si
vrai
optionnel
sinon
Bloc
d
instructions
si
faux
if
qte
remise
remise
de
offerte
echo
p
Vous
avez
une
remise
de
p
else
remise
echo
p
Vous
avez
une
remise
de
p
PHP
if
else
Instructions
conditionnelles
if
else
Les
données
pour
la
condition
peuvent
venir
d
un
formulaire
formExemple
html
form
name
method
POST
action
coursPHP
php
select
name
prix
option
value
Super
Kdo
€
option
select
input
type
number
size
name
qte
input
type
submit
value
Devis
form
coursPHP
php
php
qte
POST
qte
prixunit
POST
prix
remise
if
qte
remise
remise
de
offerte
echo
p
Vous
avez
une
remise
de
p
prix
prixunit
qte
prixunit
qte
remise
echo
p
Pour
un
prix
de
i
prixunit
i
l
unité
et
i
qte
i
unités
vous
avez
à
régler
i
prix
i
p
PHP
if
else
form
name
method
POST
action
coursPHP
php
label
Produit
label
select
name
prix
option
value
Super
option
select
br
label
Quantité
label
input
name
qte
type
number
size
br
input
type
submit
value
Devis
form
php
qte
POST
qte
prixunit
POST
prix
remise
if
qte
remise
echo
p
Vous
avez
p
PHP
if
elseif
else
Instructions
conditionnelles
if
else
Les
blocs
if
else
peuvent
contenir
n
importe
quelle
instruction
y
compris
d
autres
blocs
if
else
if
condition
bloc
d
instructions
si
condition
vraie
elseif
condition
bloc
d
instructions
si
condition
vraie
else
bloc
d
instructions
si
les
conditions
sont
fausses
form
name
method
POST
action
coursPHP
php
select
name
prix
select
input
type
number
name
qte
input
type
submit
value
Devis
form
php
qte
POST
qte
prixunit
POST
prix
if
qte
remise
elseif
qte
remise
else
remise
prix
prixunit
qte
prixunit
qte
remise
echo
p
Prix
unitaire
i
prixunit
i
Quantité
i
qte
i
Remise
i
remise
i
p
echo
p
i
Total
à
régler
i
b
prix
b
p
PHP
for
Instructions
de
boucle
for
La
boucle
for
permet
de
répéter
un
certain
nombre
de
fois
l
exécution
d
un
bloc
d
instructions
for
initialisation
condition
incrémentation
bloc
d
instructions
à
répéter
i
i
echo
i
else
la
suite
i
i
i
for
i
i
i
echo
h
i
Titre
niveau
i
h
i
PHP
for
Instructions
de
boucle
for
php
for
i
i
i
echo
h
i
Titre
niveau
i
h
i
PHP
while
Instructions
de
boucle
while
La
boucle
while
permet
de
continuer
à
réaliser
un
bloc
d
opérations
tant
qu
une
condition
soit
vraie
i
i
echo
i
i
else
la
suite
i
while
i
echo
h
i
Titre
niveau
i
h
i
i
i
PHP
while
Instructions
de
boucle
while
On
donne
une
valeur
initiale
à
la
variable
i
Tant
que
i
ne
dépasse
pas
la
valeur
On
met
à
jour
la
valeur
de
la
variable
i
php
i
while
i
echo
h
i
Titre
niveau
i
h
i
i
i
PHP
foreach
Instructions
de
boucle
foreach
La
boucle
foreach
permet
de
répéter
un
bloc
d
instructions
pour
chaque
valeur
dans
un
tableau
tableau
reste
t
il
une
valeur
titre
reçoit
la
prochaine
valeur
echo
plus
de
valeur
dans
le
tableau
la
suite
foreach
tableau
as
titre
echo
titre
Titre
titre
titre
PHP
foreach
Instructions
de
boucle
foreach
On
définit
un
tableau
Pour
chaque
valeur
dans
le
tableau
php
tableau
array
h
h
h
h
h
h
foreach
tableau
as
titre
echo
titre
Titre
titre
titre
PHP
foreach
Instructions
de
boucle
foreach
ça
fonctionne
aussi
pour
les
tableaux
associatifs
On
définit
un
tableau
associatif
clé
valeur
Pour
chaque
pair
clé
valeur
dans
tableau
php
tableau
array
nom
Dupont
prenom
Jean
adresse
qq
part
à
Paris
foreach
tableau
as
cle
valeur
echo
li
cle
valeur
li
PHP
boucles
Instructions
de
boucle
boucles
imbriquées
Il
est
possible
d
imbriquer
des
boucles
les
unes
dans
les
autres
table
php
for
lin
lin
lin
echo
tr
for
col
col
col
echo
td
col
lin
td
echo
tr
table
Evaluation
des
Etudiants
Date
Type
Description
Binôme
S
DM
Devoir
Maison
mini
projet
à
rendre
par
mail
h
OUI
S
DST
Devoir
sur
Table
examen
écrit
sans
document
ni
machine
NON
S
PROJ
Projet
Présentation
du
projet
OUI
mai
Partiel
examen
écrit
sans
document
ni
machine
NON
PHP
Fonctions
Fonctions
PHP
offre
une
large
panoplie
de
fonctions
Exemple
isset
var
à
TRUE
si
var
a
été
déclarée
Exemple
empty
var
à
TRUE
si
var
est
vide
ou
vaut
On
peut
aussi
écrire
les
nôtres
même
en
dehors
des
classes
function
nomFonction
paramètre
instructions
function
salutation
nom
echo
h
Bienvenue
nom
h
echo
p
class
droite
Aujourd
hui
nous
sommes
le
date
d
m
Y
p
PHP
form
name
method
POST
action
coursPHP
php
label
Nom
label
input
type
text
name
client
size
input
type
submit
value
OK
form
php
function
salutation
nom
date
default
timezone
set
Europe
Paris
echo
h
Bienvenue
nom
h
echo
p
class
droite
Aujourd
hui
date
d
m
Y
p
if
isset
POST
client
AND
empty
POST
client
salutation
POST
client
else
salutation
cher
client
Visibilité
des
variables
En
PHP
il
existe
niveaux
de
visibilité
d
une
variables
selon
le
contexte
Les
variables
superglobales
elles
sont
disponibles
n
importe
où
dans
le
programme
Les
variables
globales
ce
sont
toutes
les
variables
tableaux
objets
et
constantes
que
nous
créons
nous
même
dans
le
programme
principal
elles
ne
sont
généralement
visibles
que
dans
le
programme
principal
Les
variables
locales
ce
sont
toutes
les
variables
d
une
fonction
paramètres
compris
Leur
visibilité
n
est
que
locale
et
le
programme
principal
ne
peut
pas
agir
sur
ces
variables
Portée
des
variables
globales
En
PHP
une
variable
globale
peut
être
utilisée
à
l
intérieur
d
une
fonction
sans
la
passer
en
paramètre
Usage
du
mot
clé
global
La
variable
doit
être
déclarée
avec
global
dans
chaque
fonction
où
cela
est
nécessaire
Portée
des
variables
globales
php
a
b
function
somme
global
a
b
b
a
b
echo
b
somme
somme
On
a
déclaré
a
et
b
avec
le
mot
clé
global
à
l
intérieur
de
somme
pour
qu
elles
soient
manipulées
par
celle
ci
Portée
des
variables
globales
Une
autre
méthode
pour
accéder
aux
variables
globales
est
d
utiliser
la
superglobale
GLOBALS
php
a
b
function
somme
GLOBALS
b
GLOBALS
a
GLOBALS
b
echo
GLOBALS
b
Les
variables
superglobales
Les
variables
superglobales
sont
générées
automatiquement
par
PHP
elles
sont
disponibles
quel
que
soit
le
contexte
du
script
même
à
l
intérieur
d
une
fonction
sans
être
passées
en
paramètre
de
celle
ci
elles
sont
écrites
en
majuscules
et
commencent
par
un
underscore
elles
sont
généralement
des
tableaux
associatifs
Les
variables
superglobales
GLOBALS
rassemble
les
variables
globales
ENV
ce
sont
des
variables
d
environnement
toujours
données
par
le
serveur
SESSION
se
sont
des
variables
de
session
Ces
variables
restent
stockées
sur
le
serveur
le
temps
de
la
présence
d
un
visiteur
COOKIE
contient
les
valeurs
des
cookies
enregistrés
sur
l
ordinateur
du
visiteur
GET
contient
les
données
envoyées
en
paramètres
dans
l
URL
POST
contient
les
informations
qui
viennent
d
être
envoyées
par
un
formulaire
Les
variables
superglobales
html
head
title
La
variable
SERVER
title
head
body
php
echo
Nom
du
fichier
en
cours
d
execution
a
partir
de
la
racine
SERVER
PHP
SELF
echo
br
echo
Nom
de
la
racine
du
script
SERVER
DOCUMENT
ROOT
echo
br
echo
Nom
du
client
HTML
SERVER
HTTP
USER
AGENT
br
echo
Nom
du
serveur
qui
execute
le
script
SERVER
SERVER
NAME
echo
br
br
echo
Votre
adresse
IP
est
SERVER
REMOTE
ADDR
body
html
Fonctions
avancées
Fonctions
avancées
PHP
serveur
isset
empty
is
nul
include
require
include
once
require
once
Fonctions
avancées
HTTP
client
header
PHP
Fonctions
avancées
php
var
var
var
var
echo
var
var
echo
var
var
echo
var
var
echo
var
var
echo
var
var
echo
var
var
PHP
faiblement
typé
compare
les
valeurs
compare
valeurs
ET
types
TRUE
FALSE
PHP
Fonctions
avancées
Importation
des
fichiers
Incorporer
le
contenu
d
un
fichier
dans
une
page
PHP
But
réutilisation
des
fichiers
uniformisation
du
site
include
fichier
et
include
once
fichier
include
remplace
la
ligne
par
le
contenu
du
fichier
include
once
fait
ça
une
seule
fois
même
dans
une
boucle
require
fichier
et
require
once
fichier
idem
include
mais
si
le
fichier
n
existe
pas
on
a
une
erreur
PHP
Fonctions
avancées
meta
charset
UTF
title
Mon
site
title
link
rel
stylesheet
href
css
blocs
css
header
h
Mon
site
h
header
nav
h
Exemples
h
ul
li
li
ul
nav
head
php
include
once
head
html
require
mesfonctions
php
head
body
php
include
once
headerNav
html
php
salutation
cher
client
article
h
News
h
p
p
article
php
function
salutation
nom
echo
p
class
droite
b
Bienvenue
nom
b
p
echo
p
class
droite
Aujourd
hui
nous
sommes
le
date
d
m
Y
p
PHP
include
once
head
html
include
once
headerNav
html
require
mesfonctions
php
salutation
cher
client
head
title
Mon
site
title
link
rel
stylesheet
href
css
blocs
css
head
body
header
h
Mon
site
h
header
nav
h
Exemples
h
ul
li
li
ul
nav
section
p
class
droite
b
Bienvenue
cher
client
b
p
p
class
droite
Aujourd
hui
nous
sommes
le
p
PHP
Fonctions
avancées
gettype
var
retourne
le
type
de
la
variable
addslashes
ajoute
des
antislashs
devant
les
caractères
spéciaux
res
addslashes
L
a
retourne
L
a
strstr
texte
chaineAchercher
trouve
la
première
occurrence
dans
une
chaîne
email
name
example
com
domain
strstr
email
echo
domain
Affiche
example
com
PHP
Fonctions
avancées
htmlspecialchars
chaine
flags
Conversion
des
caractères
spéciaux
en
entités
HTML
Remplace
par
exemple
ET
commercial
en
amp
Un
exemple
de
flag
est
ENT
QUOTES
qui
Convertit
les
guillemets
doubles
et
les
guillemets
simples
str
This
is
some
b
bold
b
text
echo
htmlspecialchars
str
affichera
This
is
some
lt
b
gt
bold
lt
b
gt
text
PHP
Fonctions
avancées
strip
tags
chaine
allowableTags
Supprime
les
balises
HTML
et
PHP
d
une
chaîne
Les
commentaires
HTML
et
PHP
sont
également
supprimés
Ce
comportement
peut
être
modifié
avec
le
paramètre
allowableTags
text
‘
p
Paragraph
p
Comment
a
href
fragment
Other
text
a
Autorise
p
et
a
echo
strip
tags
text
p
a
affichera
p
Paragraph
p
a
href
fragment
Other
text
a
PHP
Fonctions
avancées
strlen
retourne
la
longueur
de
la
chaîne
strtolower
passe
tous
les
caractères
en
minuscules
strtoupper
passe
tous
les
caractères
en
majuscules
strpos
texte
chaine
recherche
la
position
de
la
première
chaine
trouvée
PHP
Fonctions
avancées
trim
efface
les
espaces
blancs
au
début
et
à
la
fin
d
une
chaine
ereg
chaine
texte
recherche
dans
texte
les
séquences
des
caractères
chaine
Retourne
la
longueur
de
l
occurrence
trouvée
si
une
occurrence
a
été
trouvée
dans
la
chaîne
string
FALSE
dans
le
cas
contraire
ou
si
une
erreur
est
survenue
if
ereg
BCD
ABCDEF
echo
oui
else
echo
non
PHP
Fonctions
avancées
isset
var
var
Détermine
si
une
variable
ou
plusieurs
sont
définies
et
sont
différentes
de
NULL
unset
var
var
Détruit
les
variables
empty
var
Détermine
si
une
variable
est
vide
PHP
Fonctions
avancées
Une
variable
non
déclarée
et
une
variable
vide
ne
sont
pas
pareilles
FALSE
TRUE
php
echo
isset
var
empty
var
br
var
echo
isset
var
empty
var
br
var
echo
isset
var
empty
var
br
unset
var
echo
isset
var
empty
var
br
PHP
Fonctions
avancées
Var
isset
empty
var
non
déclarée
FAUX
VRAI
VRAI
FAUX
VRAI
VRAI
unset
var
FAUX
VRAI
PHP
Fonctions
avancées
Valeur
null
disponible
mais
signifie
que
la
variable
existe
Null
Empty
php
echo
is
null
var
empty
var
var
echo
is
null
var
empty
var
var
echo
is
null
var
empty
var
var
null
echo
is
null
var
empty
var
PHP
Notice
Undefined
variable
var
in
Standard
input
code
on
line
PHP
Fonctions
avancées
Var
is
null
empty
var
non
déclarée
VRAI
VRAI
FAUX
VRAI
FAUX
VRAI
null
VRAI
VRAI
is
null
déclenche
une
alerte
PHP
Notice
si
la
variable
n
a
pas
été
allouée
PHP
Fonctions
avancées
array
values
array
Retourne
toutes
les
valeurs
d
un
tableau
elles
mêmes
dans
un
tableau
utile
pour
vider
cases
vides
array
keys
array
valeur
Retourne
toutes
les
clés
associées
à
valeur
si
valeur
n
est
pas
spécifiée
alors
retourne
toutes
les
clés
du
tableau
utile
pour
connaitre
toutes
les
clés
possibles
PHP
Fonctions
avancées
array
values
array
Retourne
toutes
les
valeurs
d
un
tableau
elles
mêmes
dans
un
tableau
php
tab
tab
tab
tab
tab
var
array
values
tab
foreach
tab
as
id
val
echo
id
val
echo
br
foreach
var
as
id
val
echo
id
val
PHP
Fonctions
avancées
Prenom
Jean
Nom
Martin
Prenom
Olivier
Prenom
Jean
Jean
Martin
Olivier
Jean
php
tab
Prenom
Jean
tab
Nom
Dupont
tab
Prenom
Olivier
tab
Prenom
Jean
tab
Nom
Martin
var
array
values
tab
foreach
tab
as
id
val
echo
id
val
echo
br
foreach
var
as
id
val
echo
id
val
PHP
Fonctions
avancées
array
keys
array
valeur
Retourne
toutes
les
clés
associées
à
valeur
si
valeur
n
est
pas
spécifiée
alors
retourne
toutes
les
clés
du
tableau
Prenom
Prenom
php
tab
Prenom
Jean
tab
Nom
Dupont
tab
Prenom
Olivier
tab
Prenom
Jean
tab
Nom
Martin
var
array
keys
tab
Jean
foreach
tab
as
id
val
echo
id
val
echo
br
foreach
var
as
id
val
echo
id
val
PHP
Fonctions
avancées
array
keys
array
valeur
Retourne
toutes
les
clés
associées
à
valeur
si
valeur
n
est
pas
spécifiée
alors
retourne
toutes
les
clés
du
tableau
Prenom
Nom
Prenom
Prenom
php
tab
Prenom
Jean
tab
Nom
Dupont
tab
Prenom
Olivier
tab
Prenom
Jean
tab
Nom
Martin
var
array
keys
tab
foreach
tab
as
id
val
echo
id
val
echo
br
foreach
var
as
id
val
echo
id
val
PHP
Fonctions
avancées
in
array
valeur
array
Vérifie
si
une
valeur
appartient
à
un
tableau
array
key
exists
key
array
Vérifie
si
une
clé
existe
dans
un
tableau
PHP
Fonctions
avancées
TRUE
FALSE
php
tab
Prenom
Jean
tab
Nom
Dupont
tab
Prenom
Olivier
tab
Prenom
Jean
tab
Nom
Martin
var
in
array
Jean
tab
var
array
key
exists
Nom
tab
var
in
array
A
tab
var
array
key
exists
A
tab
echo
var
var
var
var
PHP
Fonctions
avancées
HTTP
En
PHP
la
fonction
header
se
charge
d
envoyer
au
client
les
en
têtes
passés
en
paramètre
Règle
importante
l
appel
à
‘
header
doit
se
faire
avant
tout
envoi
au
navigateur
Attention
aux
includes
qui
écriraient
quelque
chose
Ne
PAS
écrire
de
html
vu
que
l
on
est
dans
les
en
têtes
HTTP
et
non
HTML
PHP
Fonctions
avancées
HTTP
On
peut
utiliser
la
fonction
header
pour
envoyer
des
codes
HTTP
php
header
HTTP
Not
Found
php
header
Status
Moved
Permanently
false
header
Location
http
www
votresite
com
pageprotegee
php
PHP
Fonctions
avancées
HTTP
Header
HTTP
renvoyé
par
Apache
donc
ce
que
vous
pouvez
modifier
avec
la
fonction
header
PHP
Fonctions
avancées
HTTP
Pour
créer
une
redirection
avec
PHP
on
utilise
header
pour
envoyer
des
en
têtes
de
type
Location
adresse
Script
de
redirection
HTTP
php
header
Location
http
monsite
com
page
php
PHP
Fonctions
avancées
HTTP
On
peut
envoyer
des
fichiers
et
jouer
avec
d
autres
champs
HTTP
tels
que
le
Content
Type
Content
Type
indique
le
type
de
donnée
donc
le
navigateur
essayera
d
utiliser
l
outil
préféré
de
l
utilisateur
pour
lire
ce
fichier
readfile
permet
d
envoyer
un
fichier
PHP
Fonctions
avancées
HTTP
Le
serveur
web
déclare
en
header
qu
il
s
agit
de
text
html
donc
du
texte
interprétable
par
le
navigateur
ou
lisible
par
l
utilisateur
Le
navigateur
l
affiche
donc
PHP
Fonctions
avancées
HTTP
Le
serveur
web
déclare
en
header
qu
il
s
agit
de
image
jpeg
donc
d
une
image
au
format
JPEG
Le
texte
n
en
étant
pas
il
est
impossible
d
afficher
une
image
mais
le
navigateur
essaye
tout
de
même
PHP
Fonctions
avancées
HTTP
Le
serveur
web
déclare
en
header
qu
il
s
agit
de
video
mp
donc
d
une
vidéo
au
format
MP
Le
texte
n
en
étant
pas
il
est
impossible
d
afficher
la
vidéo
mais
le
navigateur
essaye
tout
de
même
de
le
lire
avec
un
lecteur
de
vidéos
PHP
Fonctions
avancées
HTTP
Le
serveur
web
déclare
en
header
qu
il
s
agit
de
application
octet
stream
donc
d
un
flux
d
octets
Par
défaut
les
navigateurs
proposent
de
télécharger
le
fichier
associé
plutôt
que
de
l
afficher
PHP
Fonctions
avancées
HTTP
php
On
declare
un
PDF
header
Content
Type
application
pdf
Le
client
verra
un
fichier
downloaded
pdf
header
Content
Disposition
attachment
filename
downloaded
pdf
Le
fichier
du
serveur
web
qui
sera
transmis
readfile
original
pdf
PHP
Fonctions
avancées
HTTP
php
file
monkey
gif
if
file
exists
file
header
Content
Description
File
Transfer
header
Content
Type
application
octet
stream
header
Content
Disposition
attachment
filename
basename
file
header
Expires
header
Cache
Control
must
revalidate
header
Pragma
public
header
Content
Length
filesize
file
readfile
file
exit
Développement
Web
PHP
Cours
Rappels
Architecture
Générale
Base
de
Données
Navigateur
Serveur
Web
Serveur
d
Application
Front
Office
Back
Office
Rappels
Architecture
Générale
Navigateur
Serveur
Web
Base
de
Données
Apache
Front
Office
Back
Office
Rappels
Serveur
Web
Communications
entre
navigateur
web
et
serveur
web
se
font
avec
protocole
HTTP
http
monsite
fr
page
htm
GET
page
htm
GET
page
htm
html
Coucou
html
Coucou
page
htm
Navigateur
Serveur
Web
Apache
Protocole
pour
transmettre
les
informations
HTTP
Rappels
Serveur
Web
Communications
entre
client
et
serveur
se
font
avec
les
méthodes
GET
et
POST
GET
passage
d
informations
par
l
URL
donc
par
la
requête
elle
même
POST
passage
d
information
par
le
contenu
de
la
requête
Rappels
Serveur
Web
Une
requête
envoyée
une
réponse
reçue
Réponses
HTTP
de
types
officiels
xx
informationnelle
xx
succès
xx
redirection
xx
erreur
côté
client
xx
erreur
côté
serveur
autres
erreurs
sont
liées
au
serveur
web
utilisé
Rappels
Serveur
Web
Header
HTTP
permet
de
déclarer
le
type
de
données
transmises
Content
Type
text
html
Content
Type
application
pdf
Content
Type
application
octet
stream
Content
Type
video
mp
Le
navigateur
web
a
des
paramètres
personnalisables
pour
choisir
un
programme
externe
ou
pas
selon
le
type
de
données
Rappels
PHP
PHP
est
une
extension
à
côté
de
Apache
Apache
configuré
pour
appeler
PHP
lorsqu
il
voit
passer
une
requête
terminant
par
php
PHP
traite
le
fichier
en
question
et
produit
une
réponse
renvoyée
par
Apache
html
php
echo
B
html
page
php
GET
page
php
GET
page
php
Navigateur
Serveur
Web
Apache
html
B
html
page
php
html
B
html
page
php
Rappels
PHP
Langage
faiblement
typé
Beaucoup
plus
flexible
mais
possibilité
de
faire
n
importe
quoi
Langage
interprété
CLI
disponible
pour
scripts
Usage
dans
ce
cours
extension
apache
SGBD
BDD
SGBD
Système
de
Gestion
de
Base
de
Données
DBMS
DataBase
Management
System
BDD
Base
de
Données
DB
DataBase
SGBD
BDD
Personne
Cours
ID
Nom
Prenom
Jaffal
Ali
Boissier
Fabrice
BDD
les
données
organisées
dans
un
conteneur
Table
Personne
SGBD
le
système
ou
le
SELECT
FROM
Personne
logiciel
qui
gère
les
bases
de
données
Jaffal
Ali
Boissier
Fabrice
SGBD
BDD
Qu
est
ce
qu
un
SGBD
C
est
un
logiciel
système
destiné
à
stocker
et
à
partager
des
informations
dans
une
base
de
données
en
garantissant
la
qualité
la
pérennité
et
la
confidentialité
des
informations
tout
en
cachant
la
complexité
des
opérations
WIKIPEDIA
Parmi
les
logiciels
les
plus
connus
on
trouve
MySQL
PostgreSQL
SQLite
Oracle
et
MariaDB
Pour
une
liste
détaillée
des
SGBD
consulter
ce
lien
http
fadace
developpez
com
sgbdcmp
LI
SGBD
BDD
Avant
on
organisait
soi
même
un
disque
ou
un
fichier
et
on
codait
un
bout
de
programme
spécifique
pour
naviguer
dedans
et
effectuer
des
lectures
écritures
BDD
Search
for
handle
description
Get
car
door
handle
description
Seek
Disc
Track
Block
Extract
blocks
Application
SGBD
BDD
Aujourd
hui
usage
d
un
pilote
logiciel
effectuant
les
transactions
avec
le
SGBD
API
bibliothèque
extension
permettant
de
mettre
du
SQL
dans
un
langage
de
programmation
et
de
récupérer
un
tableau
réponse
SELECT
FROM
Personne
Connecteur
API
extension
Jaffal
Ali
Boissier
Fabrice
Serveur
Web
SGBD
PHP
SGBD
Connecteurs
sql
SELECT
FROM
Personne
res
mysqli
query
sql
line
res
fetch
object
echo
line
nom
page
php
SELECT
FROM
Personne
GET
page
php
MySQLi
Jaffal
Jaffal
Ali
Boissier
Fabrice
Navigateur
Base
de
Données
Serveur
Web
PHP
SGBD
Connecteurs
Plusieurs
extensions
à
PHP
existent
pour
interroger
des
SGBD
MySQL
obsolète
ne
pas
l
utiliser
attention
anciens
tutos
l
utilisent
MySQLi
MySQL
improved
mise
à
jour
de
l
extension
MySQL
PDO
PHP
Data
Object
pilote
générique
multi
SGBD
Hors
PHP
ODBC
middleware
connecteur
quasi
universel
Open
DataBase
Connectivity
MySQL
avec
PHP
Manipulation
des
bases
de
données
MySQL
se
fait
soit
via
une
interface
graphique
comme
‘
PhpMyAdmin
soit
en
exécutant
un
script
PHP
PhpMyAdmin
Un
programme
permettant
d
avoir
une
vue
rapide
de
l
ensemble
des
données
C
est
un
des
outils
les
plus
connus
permettant
de
manipuler
une
base
de
données
MySQL
PhpMyAdmin
est
livré
avec
WAMP
et
presque
tous
les
hébergeurs
permettent
d
utiliser
phpMyAdmin
chemin
d
accès
http
localhost
phpMyAdmin
MySQL
avec
PHP
Script
PHP
Etapes
pour
utiliser
une
base
des
données
Connexion
au
serveur
MySQL
Envoi
des
requêtes
SQL
select
insert
into
Récupération
des
résultats
Fermeture
de
la
connexion
MySQLi
Connexion
à
un
serveur
MySQL
à
travers
mysqli
Toute
la
communication
avec
la
BdD
passe
par
un
objet
de
la
classe
mysqli
La
connexion
s
effectue
à
la
création
de
cet
objet
new
idcon
new
mysqli
host
user
mdp
bdd
objet
identifiant
de
la
connexion
nom
du
serveur
utilisateur
autorisé
à
accéder
à
la
base
mot
de
passe
base
de
données
Toute
connexion
ouverte
doit
être
fermée
bool
idcon
close
on
demande
à
l
objet
mysqli
de
fermer
la
connexion
MySQLi
Astuce
placer
ces
informations
dans
un
fichier
et
faire
require
ou
include
fichier
Création
de
l
objet
connexion
L
attribut
connect
errno
de
indique
si
la
connexion
a
bien
été
établie
En
cas
de
problème
on
arrête
avec
la
fonction
die
Fermeture
de
la
connexion
php
host
localhost
user
root
mdp
root
bdd
clientsBD
mysqli
new
mysqli
host
user
mdp
bdd
if
mysqli
connect
errno
die
p
Impossible
de
connecter
à
bdd
mysqli
connect
error
p
else
echo
p
Connecté
au
serveur
host
à
la
base
bdd
p
mysqli
close
MySQLi
Envoie
de
requêtes
à
une
base
de
données
result
mysqli
query
sql
Résultat
de
la
requête
exécution
de
la
requête
sur
l
objet
connexion
Requête
SQL
à
exécuter
Requête
SQL
S
il
s
agit
d
un
SELECT
le
résultat
correspond
aux
données
fournies
par
la
requête
objet
mysqli
result
Sinon
INSERT
UPDATE
DELETE
le
résultat
sera
TRUE
si
la
requête
est
bien
exécutée
FALSE
sinon
form
name
formNouveauClient
action
coursPHP
php
method
POST
input
type
text
name
nom
input
type
text
name
email
input
type
submit
value
Envoyer
form
PHP
connexion
php
php
function
connexion
host
localhost
user
uml
mdp
uml
bdd
clientsBD
mysqli
new
mysqli
host
user
mdp
bdd
if
mysqli
connect
errno
die
p
Impossible
mysqli
connect
error
p
return
mysqli
coursPHP
php
php
if
empty
POST
nom
AND
empty
POST
e
mail
require
connexion
php
mysqli
connexion
nom
POST
nom
email
POST
email
adr
POST
adresse
id
N
auto
increment
sql
INSERT
INTO
client
id
nom
email
adresse
VALUES
id
nom
email
adr
result
mysqli
query
sql
if
result
echo
p
Désolée
p
else
echo
p
Vous
êtes
le
client
numéro
i
mysqli
insert
id
i
p
mysqli
close
MySQLi
Récupération
des
données
result
mysqli
query
SELECT
FROM
table
Les
requêtes
SELECT
fournissent
des
données
On
récupère
le
résultat
ligne
à
ligne
à
l
aide
des
opérations
fetch
Chaque
appel
à
fetch
retourne
la
prochaine
ligne
Ligne
dans
un
tableau
à
indice
result
fetch
row
Ligne
dans
un
tableau
associatif
result
fetch
assoc
Ligne
dans
un
objet
result
fetch
object
connexion
php
php
function
connexion
mysqli
new
mysqli
host
user
mdp
bdd
return
mysqli
On
exécute
la
requête
avec
l
opération
mysqli
query
L
opération
result
fetch
object
récupère
la
prochaine
ligne
FAUX
s
il
n
y
reste
plus
de
lignes
Chaque
attribut
de
la
requête
devient
un
attribut
de
l
objet
ligne
coursPHP
php
php
require
connexion
php
mysqli
connexion
sql
SELECT
id
nom
email
adresse
FROM
client
ORDER
BY
nom
result
mysqli
query
sql
if
result
echo
p
Desolée
p
else
while
ligne
result
fetch
object
echo
td
ligne
id
td
echo
td
ligne
nom
td
echo
td
ligne
email
td
echo
td
ligne
adresse
td
MySQLi
La
même
requête
avec
récupération
des
informations
par
tableau
à
indice
sql
SELECT
id
nom
email
adresse
FROM
client
ORDER
BY
nom
result
mysqli
query
sql
while
ligne
result
fetch
row
echo
td
ligne
td
echo
td
ligne
td
echo
td
ligne
td
echo
td
ligne
td
ça
commence
toujours
par
par
tableau
associatif
sql
SELECT
id
nom
email
adresse
FROM
client
ORDER
BY
nom
result
mysqli
query
sql
while
ligne
result
fetch
assoc
echo
td
ligne
id
td
echo
td
ligne
nom
td
echo
td
ligne
email
td
echo
td
ligne
adresse
td
chaque
attribut
est
accessible
par
son
nom
MySQLi
Autres
informations
peuvent
être
récupérées
d
un
objet
mysqli
result
result
mysqli
query
Combien
de
lignes
et
colonnes
on
peut
récupérer
nblignes
result
num
rows
nbcol
result
field
count
Les
noms
des
colonnes
attributs
dans
le
résultat
colonnes
result
fetch
fields
MySQLi
A
partir
de
l
objet
result
on
peut
récupérer
le
nombre
de
lignes
attribut
num
rows
et
de
colonnes
par
ligne
attribut
field
count
sql
SELECT
id
nom
email
adresse
FROM
client
ORDER
BY
nom
result
mysqli
query
sql
echo
p
Nous
avons
result
num
rows
clients
p
echo
p
Il
y
a
result
field
count
attributs
par
client
p
On
peut
aussi
récupérer
les
colonnes
Chaque
colonne
est
un
objet
et
l
attribut
name
donne
son
nom
La
ligne
aussi
est
un
objet
dont
les
attributs
correspondent
aux
colonnes
On
peut
utiliser
un
foreach
pour
accéder
à
la
valeur
des
attributs
titres
result
fetch
fields
foreach
titres
as
colonne
echo
th
colonne
name
th
while
ligne
result
fetch
object
echo
tr
foreach
ligne
as
colonne
val
echo
td
val
td
echo
tr
MySQLi
mysql
new
mysqli
host
user
mdp
bdd
mysql
connect
errno
sql
INSERT
INTO
client
id
nom
email
adresse
VALUES
id
nom
email
adr
result
mysql
query
sql
while
ligne
result
fetch
object
ligne
id
ligne
nom
mysql
close
MySQLi
Pour
debugger
sauf
en
production
Test
d
erreur
a
la
connexion
mysqli
new
mysqli
localhost
nobody
if
mysqli
connect
errno
printf
La
connexion
a
échoué
s
n
mysqli
connect
error
exit
Test
d
erreur
lors
de
la
requête
if
mysqli
query
SET
a
print
r
mysqli
error
list
PDO
PDO
PHP
Data
Object
Pilote
générique
multi
SGBD
MySQL
PostGreSQL
Oracle
DB
SQL
Server
Similaire
à
MySQLi
Quelques
variations
dans
la
syntaxe
et
dans
le
comportement
PDO
Connexion
Connexion
se
fait
avec
une
connection
string
contenant
les
informations
de
la
BDD
Host
Localhost
ou
Port
connexion
new
PDO
mysql
host
mon
serveur
port
mon
port
dbname
ma
bdd
mon
login
mon
pass
PDO
Ecriture
EXEC
Requête
d
écriture
INSERT
UPDATE
DELETE
Se
fait
avec
méthode
PDO
exec
PAS
AVEC
QUERY
Renvoie
le
nombre
de
modifications
effectuées
integer
requete
DELETE
FROM
ma
table
WHERE
mon
champ
ma
valeur
compteur
connexion
exec
requete
PDO
Lecture
QUERY
Requête
de
lecture
SELECT
Se
fait
avec
méthode
PDO
query
PAS
AVEC
EXEC
Renvoie
les
résultats
PDOStatement
requete
SELECT
FROM
ma
table
WHERE
mon
champ
ma
valeur
resultats
connexion
query
requete
PDO
Résultats
FETCH
Lecture
de
la
réponse
d
une
requête
de
lecture
fetch
fetch
renvoie
la
ligne
suivante
des
résultats
fetchObject
renvoie
la
ligne
suivante
en
tant
qu
objet
fetchAll
renvoie
un
tableau
de
toutes
les
réponses
ligne
resultats
fetch
PDO
FETCH
ASSOC
tableau
associatif
ligne
resultats
fetch
PDO
FETCH
NUM
tableau
simple
ligne
resultats
fetch
PDO
FETCH
BOTH
les
par
défaut
ligne
resultats
fetch
PDO
FETCH
OBJ
objet
PDO
Fermeture
connexion
Avant
de
refaire
une
requête
il
faut
libérer
le
curseur
en
place
resultats
closeCursor
PDO
connexion
new
PDO
mysql
host
mon
serveur
port
mon
port
dbname
ma
bdd
mon
login
mon
pass
requete
SELECT
FROM
ma
table
WHERE
mon
champ
ma
valeur
resultats
connexion
query
requete
while
ligne
resultats
fetch
PDO
FETCH
OBJ
ligne
id
ligne
nom
resultats
closeCursor
PDO
or
die
Pour
débugger
sa
requête
ne
pas
oublier
de
demander
à
PHP
d
afficher
l
erreur
s
il
y
en
a
Sauf
en
production
Une
fois
le
site
en
ligne
il
ne
faut
jamais
afficher
les
erreurs
Risque
qu
un
pirate
récupère
les
informations
de
debug
resultats
connexion
query
requete
if
resultats
print
r
connexion
errorInfo
Programmation
Orienté
Objet
POO
Classe
et
Objet
Une
classe
permet
la
définition
d
un
nouveau
type
de
variable
qui
rassemble
plusieurs
attributs
elle
permet
également
la
définition
de
fonctions
manipulant
ces
attributs
en
POO
ces
fonctions
s
appellent
des
‘
méthodes
Un
objet
est
une
instance
d
une
classe
Un
objet
est
alors
assimilé
à
une
variable
et
sa
classe
au
type
de
cet
objet
Programmation
Orienté
Objet
POO
concepts
de
base
La
POO
a
deux
buts
Faciliter
la
réutilisation
du
code
déjà
écrit
grâce
à
l
héritage
Encapsulation
des
données
et
les
traitements
correspondants
Programmation
Orienté
Objet
POO
concepts
de
base
Faciliter
la
réutilisation
du
code
déjà
écrit
grâce
à
l
héritage
L
héritage
permet
à
partir
d
une
classe
déjà
existante
d
en
créer
une
nouvelle
qui
reprendra
ses
caractéristiques
et
de
les
adapter
aux
besoins
sans
modifier
la
classe
de
base
Il
est
possible
alors
de
redéfinir
une
méthode
dans
des
classes
héritant
d
une
classe
de
base
sauf
si
cette
méthode
a
été
définie
comme
final
L
appel
de
la
méthode
d
un
objet
est
possible
sans
se
soucier
de
son
type
intrinsèque
il
s
agit
du
polymorphisme
Le
polymorphisme
traite
de
la
capacité
de
l
objet
à
posséder
plusieurs
formes
ex
ma
fonction
int
i
ma
fonction
string
str
Programmation
Orienté
Objet
POO
concepts
de
base
Encapsulation
des
données
et
les
traitements
correspondants
L
encapsulation
permet
de
regrouper
un
ensemble
d
attributs
avec
un
ensemble
de
méthodes
en
une
classe
permettant
de
les
manipuler
PHP
orienté
objets
PHP
est
un
langage
orienté
objets
Manipulation
de
classes
et
d
objets
Définition
de
classe
class
Personne
Visibilité
private
nom
Définition
d
un
attribut
Opération
public
function
Accès
à
un
attribut
this
attribut
Retourner
une
valeur
return
valeur
php
class
Personne
private
nom
public
function
setNom
nouvNom
this
nom
nouvNom
public
function
getNom
return
this
nom
POO
en
PHP
Visibilité
d
un
attribut
ou
d
une
méthode
public
si
un
attribut
ou
une
méthode
est
public
alors
on
pourra
y
avoir
accès
depuis
n
importe
où
private
impose
quelques
restrictions
L
accès
aux
attributs
et
méthodes
est
seulement
possible
depuis
l
intérieur
de
la
classe
Ne
mettez
jamais
le
constructeur
avec
le
type
de
visibilité
private
sinon
elle
ne
pourra
jamais
être
appelée
vous
ne
pourrez
donc
pas
instancier
votre
classe
protected
a
le
même
effet
que
private
à
l
exception
que
toutes
les
classes
filles
auront
accès
aux
attributs
protégés
PHP
orienté
objets
Classes
Objets
Création
d
un
objet
obj
new
classe
Création
d
un
objet
toto
new
Personne
Accès
aux
opérations
publiques
toto
setNom
Toto
toto
getNom
Impossible
d
accéder
aux
attributs
privés
php
toto
new
Personne
toto
setNom
Toto
echo
p
toto
getNom
p
toto
nom
blablabla
echo
p
toto
nom
p
PHP
orienté
objets
Erreur
car
l
attribut
nom
est
privé
html
head
php
class
Personne
private
nom
fin
classe
Personne
head
body
php
toto
new
Personne
toto
setNom
Toto
echo
p
Objet
i
Personne
i
toto
getNom
p
echo
p
toto
nom
p
body
htlml
PHP
orienté
objets
Classes
objets
Héritage
class
SousClasse
extends
SuperClasse
La
classe
Employe
hérite
de
la
classe
Personne
class
Employe
extends
Personne
On
rajoute
un
nouvel
attribut
private
salaire
Et
des
nouvelles
opérations
public
function
augmentation
public
function
getSalaire
class
Employe
extends
Personne
private
salaire
public
function
augmentation
perc
if
perc
this
salaire
this
salaire
this
salaire
perc
public
function
getSalaire
return
this
salaire
Fichier
Employe
php
PHP
orienté
objets
Classes
objets
On
importe
la
définition
des
classes
Employe
et
Personne
Toto
est
un
Employé
il
est
donc
une
Personne
Toto
possède
un
salaire
Employe
mais
aussi
un
nom
Personne
La
classe
Employe
hérite
tous
les
attributs
et
opérations
de
Personne
php
include
Employe
php
toto
new
Employe
toto
setNom
Toto
toto
augmentation
echo
i
nom
i
toto
getNom
echo
i
salaire
i
toto
getSalaire
€
p
PHP
orienté
objets
Classes
objets
html
head
head
body
h
Objets
en
PHP
h
php
include
Employe
php
toto
new
Employe
toto
setNom
Toto
toto
augmentation
echo
p
Objet
Employe
p
ul
echo
li
i
nom
i
toto
getNom
li
echo
li
i
salaire
i
toto
getSalaire
€
li
echo
ul
body
html
PHP
orienté
objets
Classes
objets
Méthode
constructeur
construct
Redéfinition
d
une
opération
Le
constructeur
est
appelé
chaque
fois
qu
un
objet
est
créé
new
Redéfinition
de
l
opération
getSalaire
parent
getSalaire
correspond
à
l
opération
getSalaire
définie
par
la
super
classe
Employe
class
Manager
extends
Employe
private
bonus
function
construct
bon
this
bonus
bon
public
function
getSalaire
return
parent
getSalaire
this
bonus
public
function
setBonus
nouvBon
public
function
getBonus
PHP
orienté
objets
Classes
objets
Appel
au
constructeur
function
construct
bon
this
bonus
bon
Appel
à
l
opération
getSalaire
de
la
classe
Manager
php
require
Manager
php
toto
new
Manager
toto
setNom
Toto
toto
augmentation
echo
p
i
Manager
i
toto
getNom
salaire
toto
getSalaire
€
bonus
toto
getBonus
p
POO
en
PHP
l
opérateur
L
opérateur
de
résolution
de
portée
double
deux
points
fournit
un
moyen
d
accéder
aux
membres
statiques
ou
constantes
ainsi
qu
aux
attributs
ou
méthodes
surchargées
d
une
classe
Le
mot
clé
self
est
utilisé
pour
accéder
aux
méthodes
et
attributs
statiques
depuis
la
classe
Le
mot
clé
parent
est
utilisé
pour
accéder
aux
propriétés
ou
aux
méthodes
surchargées
ou
constantes
d
une
classe
depuis
la
classe
fille
Pour
référencer
ces
éléments
en
dehors
de
la
classe
utilisez
plutôt
le
nom
de
la
classe
nomClasse
PHP
Sessions
Mécanisme
de
sessions
Chaque
visite
à
un
site
page
est
indépendante
Les
sessions
permettent
de
conserver
les
informations
des
visiteurs
entre
les
pages
Les
informations
sur
les
sessions
sont
stockées
sur
le
serveur
Fonctionnement
général
Ouverture
de
session
session
start
Chaque
utilisateur
reçoit
un
identifiant
transmis
entre
les
pages
Définition
des
variables
de
sessions
données
Les
variables
de
session
sont
transmises
de
page
à
page
SESSION
variable
valeur
Fermeture
de
session
session
destroy
PHP
Sessions
Login
mdp
différents
de
uml
Login
mdp
corrects
uml
uml
form
name
action
coursPHP
php
method
POST
label
Login
label
input
type
text
name
login
maxlength
br
label
Mot
de
passe
label
input
type
password
name
mdp
maxlength
br
input
type
submit
value
OK
form
PHP
Sessions
Ouverture
d
une
session
au
début
de
chaque
page
Définition
des
variables
de
session
SESSION
var
Les
variables
de
session
contiennent
les
informations
qui
passeront
de
page
en
page
php
session
start
html
head
head
body
php
login
POST
login
mdp
POST
mdp
if
login
uml
AND
mdp
uml
SESSION
login
login
echo
h
Bienvenue
cher
login
h
else
echo
h
Desolé
h
echo
p
Page
accessible
uniquement
aux
membres
p
body
html
PHP
Sessions
Usage
des
variables
de
session
SESSION
var
php
session
start
html
head
head
body
php
if
isset
SESSION
login
AND
empty
SESSION
login
login
SESSION
login
echo
p
Client
b
login
b
Ceci
est
une
page
pour
les
abonnés
p
else
echo
h
Desolé
h
echo
p
Il
s
agit
d
une
page
privée
Il
faut
être
membre
p
PHP
Sessions
Fermeture
de
la
session
session
destroy
Ne
pas
oublier
de
vider
les
variables
de
session
unset
SESSION
var
php
session
start
html
head
head
body
php
if
isset
SESSION
login
AND
empty
SESSION
login
unset
SESSION
login
session
destroy
else
echo
h
Desolé
h
echo
p
Pas
de
connexion
active
p
PHP
Fonctions
avancées
rappel
isset
var
var
Détermine
si
une
variable
ou
plusieurs
sont
définies
et
sont
différentes
de
NULL
unset
var
var
Détruit
les
variables
empty
var
Détermine
si
une
variable
est
vide
PHP
Sessions
Sans
session
si
on
demande
une
page
web
on
obtient
une
réponse
classique
les
déclarations
habituelles
du
serveur
web
et
la
page
demandée
On
demande
une
page
web
classique
sans
session
au
serveur
web
sur
localhost
port
Le
serveur
web
répond
normalement
avec
le
code
HTTP
puis
avec
diverses
valeurs
indiquant
les
plugins
dont
il
dispose
Le
serveur
web
envoie
finalement
la
page
web
php
html
body
PageWeb
body
html
Statuts
HTTP
classiques
rappel
OK
La
requête
a
bien
été
reçue
comprise
et
exécutée
Permanent
Redirect
La
ressource
a
été
définitivement
déplacée
à
une
autre
URL
Temporary
Redirect
La
ressource
est
temporairement
déplacée
à
une
autre
URL
Forbidden
La
requête
est
correcte
mais
le
client
n
a
pas
le
droit
de
demander
au
serveur
de
faire
cette
action
Not
Found
La
ressource
visée
par
l
URL
n
a
pas
été
trouvée
Internal
Server
Error
Erreur
générique
non
spécifique
le
serveur
web
a
échoué
quelque
chose
à
un
moment
Bad
Gateway
Le
serveur
web
visé
n
arrive
pas
à
contacter
le
serveur
qui
traite
la
requête
envoyée
PHP
Sessions
On
demande
une
page
web
contenant
une
session
au
serveur
web
sur
localhost
port
Le
serveur
web
répond
avec
le
code
HTTP
puis
il
envoie
le
numéro
de
session
PHP
un
ID
unique
Cet
ID
sera
renvoyé
par
le
navigateur
avec
chaque
requête
pour
identifier
le
Le
serveur
web
envoie
client
côté
serveur
finalement
la
page
web
Lorsque
PHP
demande
à
créer
une
session
son
ID
est
transmis
par
le
serveur
web
au
navigateur
Côté
serveur
web
PHP
une
liste
des
sessions
actives
est
stockée
dans
des
fichiers
avec
l
ensemble
des
variables
que
l
on
souhaite
conserver
entre
chaque
page
web
Côté
client
l
ID
de
session
est
renvoyé
pour
pouvoir
s
identifier
ATTENTION
L
ID
est
visible
sur
le
réseau
Quelqu
un
de
mal
intentionné
peut
copier
cet
ID
et
s
identifier
avec
à
la
place
du
navigateur
légitime
Pour
faire
une
session
à
peu
près
sécurisée
il
est
nécessaire
de
s
assurer
que
l
on
parle
au
même
navigateur
en
vérifier
l
IP
du
client
par
exemple
Nous
ne
verrons
pas
l
ensemble
des
bonnes
pratiques
dans
ce
cours
php
session
start
html
body
PageWeb
body
html
PHP
Sessions
Mécanisme
de
sessions
Base
pour
la
gestion
de
panier
dans
les
sites
de
e
commerce
Les
produits
choisis
par
le
client
sont
enregistrés
en
tant
que
variables
de
session
On
peut
y
garder
des
objets
SIMPLES
Contenu
du
panier
est
gardé
dans
les
variables
de
session
Tableau
contenant
des
objets
LigneProduit
Chaque
SESSION
produit
contient
un
objet
class
LigneProduit
public
nom
public
qte
constructeur
function
construct
nom
this
nom
nom
this
qte
PHP
Sessions
Chaque
produit
choisi
est
identifié
par
un
id
ici
le
nom
SESSION
produit
va
contenir
un
objet
LigneProduit
S
il
n
y
a
aucun
SESSION
produit
on
va
créer
un
nouveau
objet
LigneProduit
S
il
y
a
déjà
un
SESSION
produit
on
va
juste
augmenter
la
valeur
de
l
attribut
qte
dans
l
objet
LigneProduit
function
ajouterProduit
produit
qte
if
isset
SESSION
produit
SESSION
produit
new
LigneProduit
produit
qte
SESSION
produit
qte
else
produit
déjà
là
augmenter
alors
sa
quantité
objet
SESSION
produit
objet
qte
objet
qte
qte
objet
qte
return
qte
PHP
Sessions
Lorsqu
on
veut
supprimer
un
produit
on
va
réduire
sa
quantité
dans
l
objet
LigneProduit
On
récupère
l
objet
LigneProduit
gardé
dans
SESSION
produit
On
réduit
sa
quantité
d
une
unité
S
il
n
en
reste
plus
la
quantité
a
atteint
unités
on
supprime
le
produit
de
la
session
function
supprimerProduit
produit
qte
if
isset
SESSION
produit
objet
SESSION
produit
objet
qte
objet
qte
qte
objet
qte
if
qte
on
supprime
le
produit
unset
SESSION
produit
return
qte
PHP
Sessions
On
peut
récupérer
le
contenu
du
panier
en
récupérant
le
contenu
de
la
variable
de
session
SESSION
Pour
chaque
objet
LigneProduit
gardé
dans
SESSION
function
afficherPanier
echo
table
foreach
SESSION
as
objet
echo
tr
td
objet
nom
td
td
objet
qte
td
tr
echo
table
PHP
Sessions
Cookies
Un
cookie
est
un
mécanisme
pour
stocker
des
informations
sur
les
visiteurs
afin
de
les
identifier
plus
tard
Contrairement
aux
variables
de
session
les
cookies
sont
des
petits
fichiers
stockés
sur
l
ordinateur
de
l
utilisateur
pour
une
durée
de
vie
que
nous
pouvons
définir
PHP
Cookies
Les
cookies
sont
accessibles
via
la
superglobale
COOKIE
La
fonction
setcookie
permet
de
définir
un
cookie
qui
sera
envoyé
avec
le
reste
des
en
têtes
HTTP
Les
cookies
font
partie
des
en
têtes
HTTP
ce
qui
impose
que
setcookie
soit
appelée
avant
tout
affichage
de
texte
et
avant
même
doctype
La
fonction
setcookie
peut
prendre
jusqu
à
paramètres
Le
premier
est
obligatoire
car
il
définit
le
nom
du
cookie
Le
deuxième
définit
la
valeur
du
cookie
Le
troisième
définit
la
durée
de
vie
du
cookie
en
seconde
setcookie
nom
nomUtilisateur
time
echo
COOKIE
nom
affichage
du
cookie
PHP
Cookies
On
demande
une
page
web
contenant
une
session
et
un
cookie
avec
une
variable
Le
serveur
web
répond
avec
le
code
HTTP
puis
il
envoie
le
numéro
de
session
PHP
et
la
variable
nom
contenant
la
valeur
nomUtilisateur
chacun
dans
un
cookie
Lorsque
PHP
demande
à
créer
des
cookies
les
valeurs
sont
envoyées
par
le
serveur
web
au
navigateur
pour
que
celui
ci
stocke
les
valeurs
localement
Les
cookies
sont
stockés
sur
votre
disque
dur
Ils
sont
donc
renvoyés
à
chaque
demande
de
page
web
Attention
à
ne
pas
mettre
trop
de
données
Ne
pas
y
mettre
de
fichiers
Ne
pas
y
mettre
d
objets
ou
conteneurs
trop
gros
tableaux
etc
php
session
start
setcookie
nom
nomUtilisateur
time
PHP
Cookies
La
fonction
setrawcookie
est
exactement
la
même
que
setcookie
exceptée
que
la
valeur
du
cookie
ne
sera
pas
automatiquement
encodée
dans
l
URL
lors
de
l
envoi
au
navigateur
Pour
détruire
un
cookie
appeler
setcookie
avec
une
date
d
expiration
dans
le
passé
setcookie
Nomcookie
valeurCookie
time
PHP
Cookies
Exemple
de
cookie
sous
forme
de
tableau
php
setcookie
cookie
three
cookiethree
time
setcookie
cookie
two
cookietwo
time
setcookie
cookie
one
cookieone
time
php
affichage
de
ces
cookies
if
isset
COOKIE
cookie
exemple
d
appel
du
cookie
echo
le
cookie
two
est
COOKIE
cookie
two
sinon
parcours
avec
foreach
comme
suit
br
foreach
COOKIE
cookie
as
name
value
name
htmlspecialchars
name
value
htmlspecialchars
value
echo
name
value
br
PHP
Cookies
php
session
start
setcookie
cookie
three
cookiethree
time
setcookie
cookie
two
cookietwo
time
setcookie
cookie
one
cookieone
time
On
demande
une
page
web
contenant
une
session
et
trois
cookies
Le
serveur
web
répond
avec
le
code
HTTP
puis
il
envoie
des
cookies
contenant
les
variables
et
le
numéro
de
session
PHP
Chaque
cookie
est
envoyé
au
navigateur
avec
ses
valeurs
et
sa
date
d
expiration
PHP
Cookies
PHP
Cookies
PHP
Cookies
PHP
Cookies
PHP
Cookies
PHP
Cookies
PHP
Cookies
PHP
Cookies
Navigateur
fait
une
requête
Le
client
a
cliqué
sur
le
lien
vers
cookies
php
Bien
que
cette
page
n
ait
besoin
d
aucune
valeur
de
cookie
hormis
la
session
le
navigateur
renvoie
TOUT
LE
TEMPS
toutes
ses
valeurs
stockées
dans
des
cookies
évident
le
navigateur
ne
connait
pas
le
code
PHP
contenu
dans
la
page
web
donc
il
renvoie
toutes
les
valeurs
qu
il
est
censé
conserver
PHP
Cookies
Serveur
Web
répond
Le
serveur
web
détruit
la
session
En
pratique
cela
signifie
que
les
variables
de
session
sont
détruites
mais
pas
celles
des
cookies
PHP
Cookies
Navigateur
fait
une
requête
Le
navigateur
demande
cookies
php
La
session
est
détruite
côté
serveur
mais
le
navigateur
continue
d
envoyer
l
ID
dont
il
dispose
ainsi
que
les
cookies
qu
il
a
stocké
PHP
Cookies
Serveur
Web
répond
On
force
le
serveur
web
a
écrire
des
valeurs
de
session
et
de
cookies
Seules
les
valeurs
stockées
dans
les
cookies
seront
affichables
étant
donné
que
la
session
est
détruite
PHP
Cookies
En
effet
les
variables
stockées
dans
des
cookies
s
affichent
mais
pas
les
autres
Nom
reste
vide
car
la
session
est
détruite
donc
le
contenu
est
vide
Prenom
et
MonRawCookie
s
affichent
car
ils
sont
renvoyés
par
le
navigateur
avec
chaque
requête
tant
que
leur
durée
de
vie
est
valable
PHP
Cookies
Navigateur
fait
une
requête
Le
navigateur
demande
la
page
cookies
php
Il
continue
d
envoyer
toutes
les
variables
encore
valables
contenues
dans
des
cookies
PHP
Cookies
Serveur
Web
répond
Le
serveur
web
répond
mais
il
ne
renvoie
aucun
ID
de
session
usage
de
la
valeur
précédente
encore
possible
PHP
Cookies
Les
données
du
navigateur
sont
stockées
dans
un
fichier
Cookie
prenom
contenant
Fab
pour
le
serveur
web
p
web
metalman
eu
dans
le
dossier
test
cookie
avec
divers
timestamps
Un
exemple
de
fichier
contenant
des
cookies
du
navigateur
du
client
Les
valeurs
sont
lisibles
Ne
JAMAIS
stocker
de
mot
de
passe
dans
un
cookie
que
le
contenu
de
la
variable
soit
chiffré
ou
non
le
mot
de
passe
sera
accessible
sur
l
ordinateur
du
client
Cookie
MonRawCookie
contenant
valeurCookie
pour
le
serveur
web
p
web
metalman
eu
dans
le
dossier
test
cookie
avec
divers
timestamps
PHP
Sessions
Cookies
Session
variables
conservées
côté
serveur
session
start
sur
chaque
page
PHP
SESSION
ma
variable
variables
unset
SESSION
ma
variable
variables
session
destroy
seulement
en
fin
de
session
Cookies
variables
conservées
côté
client
setcookie
nom
nomUtilisateur
time
echo
COOKIE
nom
setcookie
nom
nomUtilisateur
time
Transactions
BDD
Un
site
de
vente
en
ligne
a
presque
vidé
ses
stocks
Il
ne
reste
plus
qu
un
seul
objet
en
vente
en
un
seul
exemplaire
Que
se
passe
t
il
lorsque
utilisateurs
essayent
d
acheter
en
même
temps
cet
objet
Impossible
à
déterminer
En
général
les
deux
utilisateurs
arriveront
à
passer
commande
et
le
vendeur
verra
commandes
sur
le
même
objet
et
le
stock
passera
en
négatif
Transactions
BDD
Une
transaction
est
un
ensemble
de
requêtes
visant
à
changer
l
état
d
une
base
de
données
Exemple
On
sélectionne
des
produits
dans
une
BDD
choix
des
produits
On
créer
une
nouvelle
ligne
dans
une
table
création
d
une
nouvelle
réservation
de
produits
On
réduit
des
valeurs
dans
une
autre
table
réduction
de
la
quantité
de
plusieurs
produits
Les
requêtes
sont
exécutées
en
une
seule
transaction
Transactions
BDD
Une
transaction
peut
être
vue
comme
une
requête
métier
haut
niveau
réserver
des
produits
dans
un
magasin
est
une
transaction
qu
un
client
peut
demander
En
pratique
il
faut
que
le
client
choisisse
des
produits
disponibles
que
l
on
prépare
une
note
liant
le
client
aux
produits
et
isoler
les
produits
pour
les
mettre
de
côté
Les
requêtes
techniques
bas
niveau
toutes
seules
n
ont
que
peu
de
signification
mais
ensemble
elles
servent
un
but
commun
cf
process
mining
Transactions
BDD
Les
transactions
se
terminent
par
un
commit
Validation
de
la
transaction
Écriture
des
modifications
On
peut
vouloir
annuler
une
transaction
en
cours
de
route
ou
après
un
commit
On
effectue
dans
ce
cas
un
rollback
La
transaction
est
annulée
aucune
modification
n
est
apportée
aux
données
dans
la
BDD
Les
anciennes
valeurs
sont
remises
dans
la
BDD
Transactions
BDD
Le
commit
est
la
dernière
étape
d
une
transaction
c
est
à
ce
moment
là
que
le
SGBD
enregistre
les
changements
Généralement
les
transactions
sont
effectuées
en
mémoire
RAM
et
lorsque
qu
un
commit
est
effectué
les
changements
sont
inscrits
sur
les
disques
durs
Si
un
SGBD
crashe
il
doit
pouvoir
retrouver
son
dernier
état
cohérent
ou
alors
il
doit
pouvoir
proposer
de
“
rejouer
”
l
ensemble
des
transactions
effectuées
pour
retrouver
une
base
de
données
cohérente
et
à
jour
Les
transactions
leurs
requêtes
groupées
sont
enregistrées
dans
les
logs
des
SGBD
permettant
de
rejouer
l
ensemble
des
transactions
effectuées
Transactions
BDD
Propriétés
ACID
Atomicité
Cohérence
Isolation
Durabilité
Un
ensemble
de
propriétés
qui
garantissent
qu
une
transaction
informatique
est
exécutée
de
façon
fiable
Wikipédia
Propriétés
ACID
Les
propriétés
ACID
permettent
d
assurer
qu
un
SGBD
supporte
les
transactions
Transactions
BDD
Atomicité
Une
transaction
est
atomique
si
elle
s
effectue
intégralement
ou
pas
du
tout
Une
transaction
non
atomique
créerait
une
réservation
avec
les
produits
mais
ne
réduirait
pas
la
quantité
dans
les
stocks
par
exemple
Le
stock
réel
ne
serait
pas
correctement
représenté
ce
qui
entraînerait
des
problèmes
Transactions
BDD
Cohérence
La
cohérence
assure
que
toutes
les
contraintes
de
la
base
de
données
sont
respectées
avant
et
après
les
transactions
l
état
de
la
base
de
donnée
est
valide
selon
les
règles
Une
transaction
incohérente
permettrait
par
exemple
de
faire
référence
à
des
objets
qui
n
existent
plus
ce
qui
bloquerait
les
jointures
Transactions
BDD
Isolation
Capacité
de
protéger
les
données
contre
plusieurs
modifications
simultanées
Une
transaction
ne
doit
pas
dépendre
des
données
d
une
autre
transaction
Des
transactions
non
isolées
permettent
de
faire
des
modifications
sur
des
valeurs
qui
n
existent
plus
ou
qui
ont
été
modifiées
entre
temps
Transactions
BDD
Exemple
problème
isolation
Un
produit
est
en
quantité
une
transaction
A
le
réduit
de
il
devrait
se
retrouver
à
mais
une
transaction
B
le
réduit
de
entre
temps
La
valeur
correcte
devrait
être
mais
comme
l
ordre
des
écritures
est
importante
A
lit
la
valeur
SELECT
qte
FROM
produits
WHERE
nom
pomme
B
lit
la
valeur
SELECT
qte
FROM
produits
WHERE
nom
pomme
B
réduit
de
la
quantité
UPDATE
qte
A
réduit
de
la
quantité
UPDATE
qte
La
valeur
finale
sera
car
B
est
exécutée
en
dernière
Transactions
BDD
Durabilité
En
cas
de
panne
de
l
ordinateur
du
système
d
exploitation
du
SGBD
les
transactions
exécutées
sont
définitivement
enregistrées
À
moins
que
la
panne
ne
concerne
l
ensemble
des
disques
qui
contiennent
les
BDD
les
transactions
effectuées
doivent
être
enregistrées
dès
qu
elles
sont
effectuées
Transactions
avec
MySQL
MySQL
a
la
particularité
de
gérer
plusieurs
moteurs
de
stockage
dans
une
même
BDD
aussi
appelé
moteur
de
table
Un
moteur
de
stockage
est
un
ensemble
d
algorithmes
permettant
de
stocker
et
d
accéder
aux
données
dans
un
SGBD
En
général
un
seul
moteur
est
utilisé
par
BDD
Pour
lister
tous
les
moteurs
utilisez
la
requête
SHOW
ENGINES
Transactions
avec
MySQL
Principaux
moteurs
de
stockage
MySQL
MyISAM
moteur
par
défaut
jusque
MySQL
Très
simple
d
utilisation
Très
performant
sur
des
tables
fréquemment
ouvertes
très
rapide
pour
les
opérations
count
et
les
lectures
Offre
un
index
FULL
TEXT
qui
permet
de
faire
des
recherches
précises
sur
des
textes
×
Ne
supporte
ni
les
clés
étrangères
ni
les
transactions
×
Gère
le
verrouillage
au
niveau
de
la
table
bloque
la
table
entière
lors
des
opérations
d
insertions
suppressions
ou
MAJ
Transactions
avec
MySQL
Principaux
moteurs
de
stockage
MySQL
InnoDB
moteur
par
défaut
depuis
MySQL
Gestion
des
clés
étrangères
et
support
des
transactions
par
défaut
chaque
requête
SQL
est
considérée
comme
une
transaction
Véritable
gestion
du
modèle
relationnel
transactionnel
Respecte
ACID
Gère
le
verrouillage
au
niveau
de
la
ligne
×
Ne
propose
pas
d
index
FULL
TEXT
légèrement
plus
lent
dans
les
opérations
Transactions
avec
MySQL
Principaux
moteurs
de
stockage
MySQL
Memory
Stocke
les
données
de
la
table
en
mémoire
RAM
Accès
très
rapides
×
En
cas
de
panne
les
données
stockées
sont
perdues
Transactions
avec
MySQL
Début
de
la
transaction
START
TRANSACTION
Requêtes
SELECT
UPDATE
Validation
de
la
transaction
COMMIT
OU
Annulation
de
la
transaction
en
cas
d
erreur
ROLLBACK
S
il
y
a
une
erreur
d
intégrité
dans
les
données
le
rollback
se
fait
automatiquement
Transactions
avec
MySQL
Ne
pas
oublier
d
utiliser
un
moteur
de
BDD
compatible
avec
les
transactions
et
les
propriétés
ACID
et
utiliser
les
requêtes
et
fonctions
de
transactions
si
nécessaire
sinon
une
requête
une
transaction
“
pas
toujours
ACID
”
Transactions
avec
MySQL
Exemple
de
gestion
de
transaction
achats
en
ligne
Spécification
du
moteur
InnoDB
lors
de
la
création
de
la
table
pour
supporter
les
transactions
CREATE
TABLE
Compte
ID
int
Solde
int
not
nul
ENGINE
InnoDB
SET
autocommit
désactiver
la
validation
automatique
des
requêtes
START
TRANSACTION
UPDATE
compte
SET
solde
solde
where
id
IDVendeur
UPDATE
compte
SET
solde
solde
where
id
IDAcheteur
COMMIT
Transactions
avec
PDO
Début
de
la
transaction
bdd
beginTransaction
Requêtes
de
la
transactions
bdd
query
bdd
query
Validation
Annulation
de
la
transaction
bdd
commit
bdd
rollback
