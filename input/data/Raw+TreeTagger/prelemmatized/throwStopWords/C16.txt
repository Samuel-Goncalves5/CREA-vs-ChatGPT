Programmation
Web
PHP
Avec
l
aimable
autorisation
de
Jérôme
CUTRONA
PHP
Langage
de
script
pour
le
Web
Qu
est
ce
que
PHP
Langage
de
script
Utilisé
coté
serveur
Acronyme
récursif
PHP
Hypertext
Preprocessor
Créé
en
par
Rasmus
Lerdorf
Extension
utilisée
sur
certains
serveurs
Web
Langage
multi
plate
forme
UNIX
Windows
Open
Source
Versions
actuelles
source
nexen
net
PHP
en
octobre
PHP
en
octobre
Programmation
Web
Utilité
et
utilisation
de
PHP
Création
de
pages
HTML
dynamiques
fabriquées
à
la
volée
construite
à
la
demande
Interface
entre
un
serveur
Web
et
des
bases
de
données
Création
d
applications
Web
Programmation
Web
Principales
fonctionnalités
de
PHP
Manipulation
de
chaînes
et
tableaux
Calendrier
dates
heures
Fonctions
mathématiques
Accès
au
système
de
fichiers
Manipulation
d
images
HTTP
FTP
IMAP
Bases
de
données
Oracle
MySQL
XML
Programmation
Web
Fonctionnement
de
PHP
Requête
HTTP
du
client
port
hello
php
Rendu
Localisation
Connexion
Exécution
Fermeture
graphique
du
de
sur
de
du
code
la
le
la
code
connexion
serveur
des
ressource
PHP
PHP
données
dans
le
Envoi
résultat
au
client
Localisation
Rendu
Exécution
Fermeture
Connexion
Requête
graphique
HTTP
du
de
sur
de
du
code
la
le
la
code
du
connexion
serveur
des
ressource
client
PHP
PHP
données
port
hello
php
dans
le
fichier
fichier
Envoi
du
du
résultat
au
client
réponse
réponse
HTTP
HTTP
Client
Client
GET
Navigateur
GET
hello
php
hello
php
HTTP
HTTP
Réseau
HTML
Réseau
JavaScript
CSS
Protocole
Protocole
HTTP
HTTP
Exécution
Exécution
d
un
d
un
programme
programme
sur
sur
le
le
serveur
serveur
Construction
de
la
réponse
Construction
de
la
réponse
html
html
head
head
Serveur
Serveur
title
title
Hello
Hello
title
title
head
head
Serveur
Web
html
body
body
Hello
Hello
world
world
body
body
php
html
html
jpg
Module
PHP
MySQL
php
php
echo
hello
php
echo
HTML
HTML
hello
php
html
html
head
head
title
title
Hello
Hello
title
title
head
head
body
body
Hello
Hello
world
world
body
body
html
html
HTML
HTML
Programmation
Web
Fonctionnement
de
PHP
Client

Serveur
Connexion
TCP
sur
le
serveur
port
Requête
HTTP
du
client
mon
fichier
php
Localisation
de
la
ressource
Exécution
du
code
PHP
Envoi
du
résultat
de
l
exécution
au
client
réponse
HTTP
Fermeture
de
la
connexion
Rendu
graphique
des
données
HTML
image
Programmation
Web
Programme
en
PHP
Délimitation
du
code
PHP
dans
le
fichier
php
php
Code
PHP
Fermeture
Fermeture
optionnelle
optionnelle
script
language
PHP
Confusion
Confusion
avec
avec
JavaScript
JavaScript
àà
bannir
bannir
Code
PHP
script
Code
PHP
Code
PHP
Dépend
Dépend
de
de
la
la
configuration
configuration
short
open
tag
short
open
tag
du
du
serveur
serveur
asp
tags
asp
tags
àà
bannir
bannir
Programmation
Web
Eléments
de
syntaxe
PHP
La
syntaxe
de
PHP
ressemble
à
celle
de
famille
C
C
C
Java
Chaque
instruction
se
termine
par
Commentaires
jusqu
au
prochain
jusqu
à
la
fin
de
la
ligne
jusqu
à
la
fin
de
la
ligne
Programmation
Web
Les
variables
et
les
types
de
données
Tout
identificateur
commence
par
Les
affectations
sont
réalisées
grâce
à
Numérique
entier
ou
réel
Chaîne
Hello
ou
Bonjour
Booléen
true
false
PHP
Tableau
tab
Objet
PHP
PHP
Ressource
NULL
Le
type
d
une
variable
est
dynamique
et
est
déterminé
par
la
valeur
qui
lui
est
affectée
Programmation
Web
Typage
faible
Exemple
Pas
de
déclaration
de
variable
test
Réel
test
Entier
test
array
Tableau
test
Chaîne
echo
test
Programmation
Web
Typage
automatique
Exemple
nombre
nombre
chaine
chaine
coucou
Réel
Entier
Chaîne
Chaîne
total
nombre
nombre
chaine
chaine
echo
total
Réel
coucou
coucou
Programmation
Web
Les
chaînes
de
caractères
Substitution
de
variables
dans
les
chaînes
Guillemets
simples
a
chaîne
b
voici
une
a
Guillemets
doubles
a
chaîne
b
voici
une
a
Syntaxe
HereDoc
a
chaîne
b
MARQUE
DE
FIN
voici
une
a
sur
deux
lignes
MARQUE
DE
FIN
chaîne
chaîne
voici
voici
une
une
a
a
chaîne
chaîne
voici
voici
une
une
chaîne
chaîne
chaîne
chaîne
voici
voici
une
une
chaîne
chaîne
sur
sur
deux
deux
lignes
lignes
Programmation
Web
Concaténation
de
chaînes
Permet
d
assembler
plusieurs
chaînes
Réalisé
grâce
à
l
opérateur
point
Bonjour
Marcel

vaut
Bonjour
Marcel
nb
Acheter
nb

vaut
oeufs
Acheter
oeufs
Programmation
Web
La
commande
echo
Permet
d
envoyer
du
texte
au
navigateur
du
client
écrire
la
page
au
format
HTML
résultant
de
l
interprétation
de
PHP
echo
Bonjour
nom
Marcel
echo
Bonjour
nom
Plus
généralement
permet
d
envoyer
des
octets
au
navigateur
du
client
Ficher
HTML
XML
CSS
JavaScript
Données
d
une
image
Contenu
d
un
ficher
PDF
Flash
etc
Programmation
Web
Hello
world
Interprétation
Interprétation
du
du
code
code
PHP
PHP
sur
sur
le
le
serveur
serveur
php
Serveur
du
Navigateur
php
et
transmission
résultat
au
client
et
transmission
du
résultat
au
client
debut
debut
HTML
HTML
html
html
head
head
title
title
hello
hello
title
title
head
head
body
body
n
n
HTML
HTML
corps
corps
Hello
Hello
world
world
n
n
fin
fin
HTML
HTML
body
body
html
html
HTML
HTML
Envoi
Envoi
au
au
client
client
echo
echo
debut
debut
corps
corps
fin
fin
html
html
head
head
title
title
hello
hello
title
title
head
head
body
body
Hello
Hello
world
world
body
body
html
html
Impossible
Impossible
de
de
voir
voir
le
le
code
code
PHP
PHP
depuis
depuis
le
le
navigateur
navigateur
Programmation
Web
Les
opérateurs
arithmétiques
b
Somme
b
Différence
b
Multiplication
a
b
Division
a
b
Modulo
Reste
de
la
division
entière
a
a
a
Programmation
Web
Les
opérateurs
d
in
et
de
dé
crémentation
pré
et
post
fixés
a
a
a
a
Retourne
la
valeur
de
a
puis
augmente
la
valeur
de
a
de
Augmente
la
valeur
de
a
de
puis
retourne
la
nouvelle
valeur
de
a
Retourne
la
valeur
de
a
puis
diminue
la
valeur
de
a
de
Diminue
la
valeur
de
a
de
puis
retourne
la
nouvelle
valeur
de
a
Programmation
Web
Les
opérateurs
de
comparaison
b
a
b
a
b
a
b
a
b
a
b
a
b
a
b
a
Vrai
si
égalité
entre
les
valeurs
de
a
et
b
Vrai
si
différence
entre
les
valeurs
de
a
et
b
Vrai
si
a
inférieur
à
b
Vrai
si
a
supérieur
à
b
Vrai
si
a
inférieur
ou
égal
à
b
Vrai
si
a
supérieur
ou
égal
à
b
Vrai
si
a
et
b
identiques
valeur
et
type
Vrai
si
a
et
b
différents
valeur
ou
type
Programmation
Web
Les
opérateurs
logiques
and
Expr
Expr
Expr
Expr
or
Expr
Expr
Expr
Expr
Expr
xor
Vrai
si
Expr
et
Expr
sont
vraies
idem
Vrai
si
Expr
ou
Expr
sont
vraies
idem
Vrai
si
Expr
ou
Expr
sont
vraies
Expr
mais
pas
les
deux
Expr
Vrai
si
Expr
est
non
vraie
Programmation
Web
Les
opérateurs
sur
bits
a
a
a
b
ET
binaire
b
OU
binaire
b
XOR
binaire
a
a
b
a
b
Inversion
bit
à
bit
a
décalé
à
gauche
de
b
rangs
a
décalé
à
droite
de
b
rangs
Programmation
Web
Précédence
des
opérateurs
Programmation
Web
Précédence
des
opérateurs
En
En
cas
cas
de
de
doute
doute
utilisez
utilisez
les
les
parenthèses
parenthèses
Programmation
Web
Structure
de
contrôle
Si
Alors
Sinon
if
condition
Bloc
d
instructions
exécuté
si
la
condition
est
vraie
else
Bloc
d
instructions
exécuté
si
la
condition
est
fausse
Programmation
Web
Structure
de
contrôle
Tant
que
faire
while
condition
Bloc
d
instructions
répété
tant
que
la
condition
est
vraie
do
Bloc
d
instructions
exécuté
une
fois
puis
répété
tant
que
la
condition
est
vraie
while
condition
Programmation
Web
Structure
de
contrôle
Tant
que
faire
for
avant
condition
fin
chaque
itération
Bloc
d
instructions
répété
tant
que
la
condition
est
vraie
Équivalent
à
avant
while
condition
Bloc
d
instructions
répété
tant
que
la
condition
est
vraie
fin
chaque
itération
Programmation
Web
Structure
de
contrôle
switch
switch
val
case
v
instructions
case
v
instructions
exécutées
si
val
v
exécutées
si
val
v
ou
si
val
v
default
instructions
dans
tous
les
cas
Programmation
Web
L
instruction
break
Permet
de
sortir
d
une
structure
de
contrôle
switch
val
case
v
instructions
exécutées
si
val
v
break
On
sort
du
switch
si
val
v
case
v
instructions
exécutées
si
val
v
ou
si
val
v
break
On
sort
du
switch
si
val
v
default
instructions
exécutées
dans
tous
les
cas
si
val
v
et
val
v
Programmation
Web
Les
tableaux
Création
initialisation
tab
array
fraise
tab
tab
tab
fraise
tab
tab
fraise
tab
Programmation
Web
Clé
Valeur
fraise
Les
tableaux
à
trous
Les
éléments
du
tableaux
ne
sont
pas
forcement
d
indices
consécutifs
tab
tab
tab
tab
fraise
el
Clé
Valeur
fraise
el
Comment
parcourir
de
tels
tableaux
Programmation
Web
Les
tableaux
à
trous
suite
Parcours
classique
for
i
i
sizeof
tab
i
echo
tab
i
tab
i
BR
n
Clé
Valeur
Programmation
Web
fraise
el
Structure
de
contrôle
Pour
chaque
foreach
tableau
as
element
Bloc
d
instructions
répété
pour
chaque
élément
de
tableau
Chaque
élément
de
tableau
est
accessible
grâce
à
element
Programmation
Web
Parcours
de
tableau
foreach
PHP
tab
tab
fraise
tab
tab
el
foreach
tab
as
v
echo
Val
v
br
n
HTML
Val
br
n
Val
fraise
br
n
Val
br
n
Val
el
br
n
Programmation
Web
Navigateur
Tableaux
associatifs
Tableaux
dont
l
accès
aux
éléments
n
est
plus
réalisé
grâce
à
un
index
mais
grâce
à
une
clé
de
type
entier
ou
chaîne
Exemples
de
clés
tab
un
tab
bonjour
tab
la
Création
valeur
tab
array
cle
cle
val
val
Programmation
Web
Tableaux
associatifs
Exemples
tab
un
tab
trois
tab
deux
tab
fraise
el
Clé
un
trois
fraise
deux
tab
array
un
trois
deux
Valeur
el
fraise
el
Programmation
Web
Structure
de
contrôle
Pour
chaque
foreach
tableau
as
cle
element
Bloc
d
instructions
répété
pour
chaque
élément
de
tableau
Chaque
élément
de
tableau
est
accessible
grâce
à
element
La
clé
d
accès
à
chaque
élément
est
donnée
par
cle
Programmation
Web
Parcours
de
tableau
php
php
html
html
HTML
HTML
html
html
head
head
title
title
foreach
foreach
clé
clé
title
title
head
head
body
body
HTML
HTML
tab
tab
array
array
un
un
deux
deux
fraise
fraise
trois
trois
quatre
quatre
el
el
foreach
foreach
tab
tab
as
as
cle
cle
val
val
html
html
tab
tab
cle
cle
val
val
br
br
n
n
echo
echo
html
html
body
body
n
n
html
html
Programmation
Web
Exemple
de
génération
de
code
HTML
php
php
html
html
HTML
HTML
DOCTYPE
DOCTYPE
html
html
PUBLIC
PUBLIC
W
C
DTD
W
C
DTD
HTML
HTML
Transitional
EN
Transitional
EN
html
html
head
head
meta
meta
http
equiv
http
equiv
Content
Type
Content
Type
content
content
text
html
text
html
charset
iso
charset
iso
title
title
Boucle
Boucle
title
title
head
head
body
body
HTML
HTML
for
for
ii
ii
ii
html
html
Le
Le
serveur
serveur
compte
compte
ii
br
br
n
n
html
html
HTML
HTML
body
body
html
html
HTML
HTML
echo
echo
html
html
Programmation
Web
Traitement
des
données
de
formulaires
PHP
permet
de
traiter
les
données
saisies
grâce
à
un
formulaire
HTML
si
le
champ
ACTION
du
formulaire
désigne
une
page
PHP
du
serveur
Après
récupération
par
le
serveur
Web
les
données
sont
contenues
dans
l
une
des
variables
superglobales
de
type
tableau
associatif
GET
ou
POST
ou
REQUEST
La
valeur
peut
être
trouvée
grâce
à
une
clé
qui
porte
le
même
nom
que
le
champs
du
formulaire
de
la
page
HTML
de
saisie
Programmation
Web
Traitement
des
données
de
formulaires
Réseau
Réseau
Client
Client
Navigateur
HTML
nomPers
robert
nomPers
robert
JavaScript
CSS
html
html
head
head
Serveur
Serveur
nomPers
title
nomPers
title
bonjour
bonjour
title
title
head
head
Serveur
Web
php
php
body
body
html
html
HTML
HTML
Bonjour
Bonjour
robert
robert
html
html
body
body
head
head
title
title
bonjour
bonjour
title
title
head
head
html
html
PHP
Module
body
body
HTML
HTML
html
html
Bonjour
Bonjour
GET
GET
nomPers
nomPers
n
n
echo
echo
html
html
body
body
n
n
html
html
robert
robert
Programmation
Web
Exemple
Formulaire
HTML
DOCTYPE
DOCTYPE
html
html
PUBLIC
PUBLIC
W
C
DTD
W
C
DTD
HTML
HTML
Transitional
EN
Transitional
EN
html
html
head
head
title
title
formulaire
formulaire
title
title
head
head
body
body
form
form
action
action
valide
php
valide
php
method
method
get
get
Nom
Nom
input
input
type
type
text
text
name
name
nomPers
nomPers
input
input
type
type
submit
submit
value
value
Envoyer
Envoyer
form
form
body
body
html
html
Programmation
Web
Exemple
Traitement
en
PHP
php
php
html
html
HTML
HTML
DOCTYPE
html
DOCTYPE
html
PUBLIC
PUBLIC
W
C
DTD
W
C
DTD
HTML
HTML
Transitional
EN
Transitional
EN
html
html
head
head
GET
title
GET
nomPers
nomPers
title
Validation
Validation
title
title
head
head
est
il
défini
est
il
défini
body
body
HTML
HTML
if
if
isset
isset
GET
GET
nomPers
nomPers
GET
GET
nomPers
nomPers
est
il
est
il
vide
vide
if
if
empty
empty
GET
GET
nomPers
nomPers
html
html
Vous
Vous
avez
avez
saisi
saisi
GET
GET
nomPers
nomPers
n
n
else
else
html
html
Aucune
Aucune
valeur
valeur
saisie
saisie
n
n
else
else
html
html
Utilisation
Utilisation
incorrecte
incorrecte
n
n
echo
echo
html
html
body
body
n
n
html
html
Programmation
Web
Formulaires
contenant
des
champs
SELECT
Programmation
Web
Formulaires
contenant
des
champs
SELECT
unique
DOCTYPE
DOCTYPE
html
html
PUBLIC
PUBLIC
W
C
DTD
W
C
DTD
HTML
HTML
Transitional
EN
Transitional
EN
html
html
head
head
title
title
Formulaire
Formulaire
de
de
saisie
saisie
des
des
fruits
fruits
title
title
head
head
body
body
form
form
action
action
valide
php
valide
php
method
method
get
get
Choisissez
Choisissez
des
des
fruits
fruits
nbsp
nbsp
select
select
name
name
sel
sel
option
option
Fraise
Fraise
option
option
Pomme
Pomme
option
option
Poire
Poire
Envoyer
Envoyer
option
option
Banane
Banane
option
option
Cerise
Cerise
select
select
input
input
type
type
submit
submit
value
value
envoyer
envoyer
form
form
body
body
valide
php
valide
php
sel
Pomme
sel
Pomme
html
html
Programmation
Web
Formulaires
contenant
des
champs
SELECT
multiple
DOCTYPE
html
PUBLIC
W
C
DTD
HTML
Transitional
EN
html
head
title
Formulaire
de
saisie
des
fruits
title
head
body
form
action
valide
php
method
get
Choisissez
des
fruits
nbsp
select
name
sel
multiple
option
Fraise
option
Pomme
option
Poire
Envoyer
option
Banane
Envoyer
option
Cerise
select
input
type
submit
value
envoyer
form
valide
php
body
valide
php
sel
Pomme
sel
Poire
sel
Pomme
sel
Poire
html
Programmation
Web
Formulaires
contenant
des
champs
SELECT
multiple
html
head
title
Formulaire
de
saisie
des
fruits
title
head
body
form
action
valide
php
method
get
Choisissez
des
fruits
nbsp
select
name
sel
multiple
option
Fraise
option
Pomme
option
Poire
Envoyer
Envoyer
option
Banane
option
Cerise
select
input
type
submit
value
envoyer
form
valide
php
valide
php
sel
B
D
Pomme
sel
B
D
Poire
sel
B
D
Pomme
sel
B
D
Poire
body
valide
php
html
valide
php
sel
Pomme
sel
Poire
sel
Pomme
sel
Poire
Programmation
Web
Traitement
des
données
des
champs
SELECT
php
php
html
html
HTML
HTML
DOCTYPE
DOCTYPE
html
html
PUBLIC
PUBLIC
W
C
DTD
W
C
DTD
HTML
HTML
Transitional
EN
Transitional
EN
html
html
head
head
title
title
Liste
Liste
de
de
fruits
fruits
title
title
GET
GET
‘
‘
sel
sel
head
head
est
est
un
un
tableau
tableau
body
body
HTML
HTML
if
if
isset
isset
GET
GET
sel
sel
empty
empty
GET
GET
sel
sel
La
variable
GET
sel
est
définie
La
variable
GET
sel
est
définie
et
et
elle
elle
n
est
n
est
pas
pas
vide
vide
foreach
foreach
GET
GET
sel
sel
as
as
fruit
fruit
html
html
Vous
Vous
avez
avez
choisi
choisi
fruit
fruit
br
br
n
n
else
else
html
html
Vous
Vous
n
avez
n
avez
pas
pas
choisi
choisi
de
de
fruit
fruit
n
n
echo
echo
html
html
body
body
n
n
html
html
Programmation
Web
Résultat
Programmation
Web
Formulaires
contenant
des
champs
CHECKBOX
Programmation
Web
Formulaires
contenant
des
champs
CHECKBOX
DOCTYPE
DOCTYPE
html
html
PUBLIC
PUBLIC
W
C
DTD
W
C
DTD
HTML
HTML
Transitional
EN
Transitional
EN
html
html
head
head
title
title
Formulaire
Formulaire
de
de
saisie
saisie
des
des
fruits
fruits
title
title
head
head
body
body
form
form
name
name
formu
formu
action
action
valide
php
valide
php
method
method
get
get
Choisissez
Choisissez
des
des
fruits
fruits
nbsp
nbsp
br
br
input
input
type
type
checkbox
checkbox
name
name
sel
sel
value
value
Fraise
Fraise
Fraise
Fraise
br
br
input
input
type
type
checkbox
checkbox
name
name
sel
sel
value
value
Pomme
Pomme
Pomme
Pomme
br
br
input
input
type
type
checkbox
checkbox
name
name
sel
sel
value
value
Poire
Poire
Poire
Poire
br
br
input
input
type
type
checkbox
checkbox
name
name
sel
sel
value
value
Banane
Banane
Banane
Banane
br
br
input
input
type
type
checkbox
checkbox
name
name
sel
sel
value
value
Cerise
Cerise
Cerise
Cerise
br
br
input
input
type
type
submit
submit
value
value
Envoyer
Envoyer
form
form
body
body
html
html
Programmation
Web
Résultat
Programmation
Web
Références
a
b
a
c
a
b
coucou
c
echo
a
a
n
a
a
echo
b
b
n
b
b
coucou
coucou
echo
c
c
n
c
c
unset
c
c
hello
aa
bb
coucou
coucou
cc
hello
hello
Programmation
Web
Fonctions
utilisateur
Description
d
une
fonctionnalité
dépendant
éventuellement
de
paramètres
et
retournant
éventuellement
un
résultat
Définition
function
moyenne
a
b
return
a
b
Utilisation
resultat
moyenne
echo
resultat
vaut
Programmation
Web
Fonctions
utilisateur
Valeur
de
retour
function
moyenne
a
b
Typage
Typage
faible
faible
de
de
PHP
PHP
Aucune
Aucune
information
information
Arguments
function
moyenne
a
b
Typage
Typage
faible
faible
de
de
PHP
PHP
Aucune
Aucune
information
information
Programmation
Web
Mode
de
passage
des
arguments
types
natifs
php
function
permutation
x
y
echo
permutation
t
x
Permutation
Permutation
impossible
impossible
x
y
Passage
Passage
des
des
arguments
arguments
y
t
des
des
fonctions
fonctions
par
par
valeur
valeur
a
b
a
echo
a
a
a
b
echo
b
b
b
permutation
permutation
a
b
permutation
a
echo
a
a
a
b
echo
b
b
b
Programmation
Web
Mode
de
passage
des
arguments
types
natifs
php
function
permutation
x
y
echo
permutation
t
x
x
y
y
t
a
b
a
echo
a
a
a
b
echo
b
b
b
permutation
permutation
a
b
permutation
a
echo
a
a
a
b
echo
b
b
b
Programmation
Web
Permutation
Permutation
réussie
réussie
Arguments
par
défaut
des
fonctions
Valeur
par
défaut
d
un
argument
s
il
n
a
pas
été
défini
lors
de
l
appel
de
la
fonction
function
bonjour
nom
inconnu
echo
Bonjour
cher
nom
Utilisation
bonjour
Bonjour
Bonjour
cher
cher
inconnu
inconnu
bonjour
Marcel
Bonjour
Bonjour
cher
cher
Marcel
Marcel
Programmation
Web
Définition
de
fonctions
fréquemment
utilisées
Certaines
fonctions
sont
utilisées
dans
plusieurs
scripts
PHP
Comment
faire
pour
ne
pas
les
définir
dans
chacune
des
pages
Utilisation
de
include
fichier
require
fichier
include
once
fichier
require
once
fichier
Permet
d
inclure
le
contenu
de
fichier
dans
le
script
courant
Programmation
Web
include
et
require
Fichier
Fichier
mafonction
php
mafonction
php
function
mafonction
arg
if
isset
arg
echo
Vrai
else
echo
Faux
Fichier
Fichier
utilisation
php
utilisation
php
require
mafonction
php
mafonction
true
Fichier
Fichier
utilisation
php
utilisation
php
include
mafonction
php
var
false
mafonction
var
Fichier
Fichier
utilisation
php
utilisation
php
require
mafonction
php
Programmation
Web
Définition
de
constantes
php
define
ma
constante
Bonjour
à
tous
nom
nom
valeur
valeur
Définition
Définition
d
une
d
une
constante
constante
echo
ma
constante
Utilisation
Utilisation
de
de
la
la
constante
constante
Programmation
Web
Gestion
des
erreurs
Dans
certains
cas
il
n
est
ni
possible
ni
utile
de
poursuivre
l
exécution
du
code
PHP
variables
non
définies
valeurs
erronées
échec
de
connexion
Arrêt
brutal
de
l
exécution
du
code
die
message
exit
message
Envoie
message
au
navigateur
et
termine
l
exécution
du
script
courant
Programmation
Web
Gestion
des
erreurs
Mauvais
Exemple
php
PHP
html
HTML
html
head
title
die
exit
title
head
body
HTML
if
isset
val
HTML
non
non
die
html
problèmeHTML
val
Au
delà
de
ce
point
fin
du
script
html
HTML
Choix
val
body
html
html
HTML
head
title
die
exit
title
head
body
problème
val
valide
valide
Navigateur
problème
val
Programmation
Web
Gestion
de
l
affichage
des
erreurs
int
error
reporting
int
level
Débogage
Constante
Ancien
Ancien
niveau
niveau
d
erreur
d
erreur
E
ERROR
E
WARNING
Sur
Sur
un
un
serveur
serveur
en
en
E
PARSE
production
production
toute
toute
E
NOTICE
erreur
erreur
affichée
affichée
E
CORE
ERROR
donne
donne
des
des
indices
indices
sur
sur
les
E
CORE
WARNIN
les
scripts
scripts
et
et
rend
rend
le
le
site
G
site
vulnérable
vulnérable
E
COMPILE
ERR
php
ini
php
ini
OR
display
errors
display
errors
boolean
boolean
E
COMPILE
WAR
NING
Programmation
Web
Opérateur
de
contrôle
d
erreur
v
file
dummy
txt
or
die
Problème
de
Fichier
Fichier
absent
absent
lecture
Warning
Warning
file
dummy
txt
file
dummy
txt
failed
failed
to
to
open
open
stream
stream
No
No
such
such
file
file
or
or
directory
directory
in
in
dummy
php
dummy
php
on
on
line
line
Problème
Problème
de
de
lecture
lecture
v
file
dummy
txt
or
die
Problème
de
lecture
Problème
Problème
de
de
lecture
lecture
Programmation
Web
Développement
objet

Définition
de
briques
logicielles
représentant
un
concept
une
idée
ou
une
entité
ainsi
que
leurs
interactions
les
objets

Un
objet
est
une
structure
de
données
comprenant
également
les
fonctionnalités
de
traitement
des
données

L
objet
est
vu
au
travers
de
ses
spécifications

Les
concepts
associés
sont

Encapsulation

Héritage

Polymorphisme
Programmation
Web
Classe

Une
classe
définit
un
modèle
un
moule
à
partir




duquel
tous
les
objets
de
classe
seront
créés
La
classe
décrit
les
données
internes
ainsi
que
les
fonctionnalités
des
objets
La
classe
est
une
vision
inerte
une
recette
de
cuisine
visant
à
décrire
la
structure
et
le
comportement
des
objets
qui
seront
créés
La
construction
d
un
objet
à
partir
de
la
classe
génératrice
s
appelle
instanciation
Les
objets
entités
vivantes
en
mémoire
sont
des
instances
de
la
classe
Programmation
Web
Instanciation

La
classe
est
une
description
inerte

Les
objets
doivent
être
instanciés
à
partir
de
la
classe
génératrice
pour
exister
et
devenir
fonctionnels

Exemple
la
classe
Animal
bambi
new
Animal
scrat
new
Animal
melman
new
Animal
Programmation
Web
Encapsulation

Procédé
consistant
à
rassembler
les
données
et
les
traitements
au
sein
des
objets

L
implémentation
interne
des
objets
est
cachée

Les
objets
sont
vu
à
travers
leurs
spécifications

Les
données
internes
et
les
fonctionnalités
possèdent
un
niveau
de
visibilité
et
peuvent
éventuellement
être
masquées

Public

Privé

Protégé
Programmation
Web
Encapsulation

Les
données
internes
des
objets
sont
appelées
attributs

Les
fonctionnalités
des
objets
sont
appelées
méthodes

Méthodes
habituelles

Constructeur
destructeur

Accesseurs
modificateurs
getters
setters

Référence
à
l
objet
courant
dans
la
description
de
la
classe
this
Programmation
Web
Visibilité

Publique
Les
données
internes
et
les
méthodes
sont
accessibles
par
tous

Protégé
Les
données
internes
et
les
méthodes
sont
accessibles
aux
objets
dérivés

Privé
Les
données
internes
et
les
méthodes
ne
sont
accessibles
qu
aux
objets
de
la
classe
Programmation
Web
Héritage
ou
dérivation
ou
extension

Création
de
nouvelles
classes
à
partir
du
modèle
d
une
classe
existante

La
nouvelle
classe
possède
tous
les
attributs
et
méthodes
de
la
classe
mère

La
nouvelle
classe
peut
proposer
de
nouveaux
attributs
et
de
nouvelles
méthodes
ou
spécialiser
des
méthodes
Mammifère
de
la
classe
mère
Herbivore
Impala
Caribou
Carnivore
Guépard
Programmation
Web
Léopard
Polymorphisme
Mammifère
nourriture

Choix
dynamique
de
la
méthode
qui
correspond
au
type
réel
de
l
objet

Méthode
mange
Herbivore
plantes
Impala
herbe
Caribou
mousse
Carnivore
viande
Guépard
impala
Léopard
impala

function
nourriture
Mammifere
m
return
m
mange

i
new
Impala
nourriture
i

c
new
Carnivore
nourriture
c
Programmation
Web
herbe
viande
Développement
objet
en
PHP

PHP

Classes
tout
est
public

Constructeur

Héritage

Méthodes
statiques
implicites

Outils
pour
la
linéarisation
sauvegarde
sur
disque

PHP

Classes
choix
public
protected
private

Constructeur
et
destructeur

Membres
et
méthodes
statiques

Classes
et
méthodes
abstraites

Programmation
Web
Déclaration
Définition
d
une
classe
en
PHPde
classe
php
class
MaClasse
var
madonnee
Attribut
Attribut
public
Constructeur
public
Référence
à
Constructeur
l
objet
courant
function
MaClasse
param
this
madonnee
param
Accès
à
un
attribut
function
affiche
Méthode
echo
get
class
this
Méthode
publique
contient
this
madonnee
Donne
le
nom
de
la
classe
de
l
objet
courant
Programmation
Web
Utilisation
d
une
classe
en
PHP
Inclusion
de
la
définition
de
la
classe
php
require
maclasse
php
Création
d
un
objet
Nouvel
objet
o
new
MaClasse
maclasse
contient
Utilisation
d
une
méthode
o
affiche
o
madonnee
coucou
Méthode
affiche
de
l
objet
o
Impossible
de
restreindre
l
accès
aux
attributs
Programmation
Web
Héritage
en
PHP
Héritage
de
MaClasse
php
class
MaClasseHeritee
extends
MaClasse
var
autredonnee
function
MaClasseHeritee
param
param
Opérateur
de
parent
MaClasse
param
résolution
de
portée
this
autredonnee
param
Paamayim
Nekudotayim
function
affiche
MaClasse
affiche
Méthode
MaClasse
echo
et
get
class
this
du
parent
contient
this
autredonnee
Méthode
affiche
de
la
classe
MaClasse
Programmation
Web
Méthodes
de
classe
implicites
php
class
MaClasse
var
madonnee
Attribut
Constructeur
function
MaClasse
param
this
madonnee
param
function
affiche
Méthode
echo
this
madonnee
function
statique
Méthode
echo
Statique
Programmation
Web
Méthode
publique
Ne
fait
pas
référence
à
this
Méthode
statique
méthode
de
classe
Méthodes
de
classe
implicites
Inclusion
de
la
définition
de
la
classe
php
require
maclasse
php
Création
d
un
objet
Création
d
un
objet
o
new
MaClasse
Méthode
affiche
de
l
objet
o
Utilisation
d
une
méthode
o
affiche
Impossible
de
restreindre
l
accès
Utilisation
d
une
méthode
implicitement
auxstatique
attributs
MaClasse
statique
Statique
Programmation
Web
Développement
objet
en
PHP
A
partir
de
maintenant
développement
en
PHP
Programmation
Web
Définition
d
une
classeDéclaration
de
classe
php
class
MaClasse
private
madonnee
Attribut
privé
Constructeur
public
public
function
construct
param
this
madonnee
param
Référence
à
l
objet
courant
function
destruct
echo
Destruction
Destructeur
public
function
affiche
echo
madonnee
Méthode
publique
this
madonnee
par
défaut
Accès
à
un
attribut
Programmation
Web
Utilisation
d
une
classe
Inclusion
de
la
définition
de
la
classe
php
require
maclasse
php
Création
d
un
objet
Nouvel
objet
o
new
MaClasse
maclasse
contient
Utilisation
d
une
méthode
o
affiche
class
Fatal
MaClasse
error
Can
not
access
private
private
madonnee
property
MaClasse
madonnee
in
dummy
php
on
line
o
madonnee
coucou
function
destruct
Destruction
echo
Destruction
unset
o
Programmation
Web
Méthode
affiche
de
l
objet
o
L
attribut
est
privé
Destruction
de
l
objet
o
Valeur
par
défaut
des
attributs
Attribut
avec
valeur
par
défaut
php
class
MaClasse
private
madonnee
Défaut
function
affecte
val
this
madonnee
val
function
affiche
Nouvel
objet
echo
madonnee
this
madonnee
Affichage
madonnee
Défaut
o
new
MaClasse
Affectation
o
affiche
madonnee
Nouvelle
o
affecte
Nouvelle
Affichage
o
affiche
Programmation
Web
Attributs
et
méthodes
de
classe

Mot
clé
static

Attributs
et
méthodes
utilisables
sans
instance
de
la
classe
attributs
et
méthode
de
classe

Attributs
NE
peuvent
PAS
être
accédés
depuis
une
instance
objet
attribut

Attributs
partagés
par
toutes
les
instances
de
la
classe

Méthodes
peuvent
être
accédés
depuis
une
instance
objet
methode

Dans
les
méthodes
this
n
est
pas
disponible
Programmation
Web
Attributs
statiques
Attribut
privé
statique
ne
peut
être
accédé
que
par
des
méthodes
de
la
classe
class
MaClasse
private
static
n
function
construct
Accès
à
l
attribut
statique
echo
MaClasse
n
instance
s
function
destruct
echo
destruction
self
n
instance
s
instance
s
s
new
MaClasse
destruction
tinstance
s
new
MaClasse
unset
t
Can
not
access
private
property
instance
s
Fatal
error
u
new
MaClasse
MaClasse
n
in
dummy
php
on
line
v
new
MaClasse
Programmation
Web
Méthodes
statiques
class
MaClasse
private
static
n
function
construct
echo
MaClasse
n
instance
s
br
n
Méthode
publique
statique
function
destruct
MaClasse
n
static
function
f
i
echo
Dans
f
i
i
Appel
à
partir
d
une
instance
instance
s
Toléré
Dans
f
s
f
new
MaClasse
Dans
s
f
MaClasse
f
Programmation
Web
Appel
sans
instance
Constantes
de
classe
class
MaClasse
const
constante
Valeur
public
function
montre
echo
self
constante
Valeur
c
new
MaClasse
Valeur
c
montre
echo
MaClasse
constante
Programmation
Web
Constante
publique
de
classe
Accès
à
la
constante
de
classe
depuis
la
classe
Accès
à
la
constante
de
classe
à
l
extérieur
de
la
classe
Héritage
class
Simple
function
affiche
echo
Je
suis
Simple
class
Etendue
extends
Simple
function
affiche
parent
affiche
echo
mais
aussi
Etendue
s
new
Simple
e
new
Etendue
Je
suis
Simple
s
affiche
e
affiche
Je
suis
Simple
mais
aussi
Etendue
Programmation
Web
Classe
simple
Une
méthode
publique
Classe
étendue
héritant
de
la
classe
simple
Surcharge
de
la
méthode
Appel
de
la
méthode
du
parent
Assignation
d
objets
class
Point
private
x
private
y
public
function
construct
x
y
this
x
x
this
y
y
public
function
set
x
y
this
x
x
this
y
y
public
function
toString
return
this
x
this
y
Programmation
Web
Assignation
d
objets
segment
array
point
new
Point
for
i
i
i
point
set
i
i
segment
point
foreach
segment
as
k
p
echo
k
p
toString
br
n
Programmation
Web
point
segment
Clonage
d
objets
segment
array
point
new
Point
for
i
i
i
point
set
i
i
segment
clone
point
foreach
segment
as
k
p
echo
k
p
toString
br
n
point
segment
Programmation
Web
Objets
comme
arguments
de
fonctions
function
origine
p
p
set
point
new
Point
echo
avant
point
toString
br
n
origine
point
echo
apres
point
toString
br
n
Passage
de
l
objet
avant
Point
par
référence
apres
Programmation
Web
Objets
dans
les
chaînes
de
caractères

Problème

ambiguïté

non
évaluable

Chaîne
contenant

un
attribut
d
un
objet
dans
une
chaîne
a
a
attribut

le
résultat
d
une
méthode
d
un
objet
dans
une
chaîne
résultat
a
calcule

une
entrée
de
tableau
associatif

valeur
tab
cle

une
variableProgrammation
suivie
de
texte
sans
espace
Web
Objets
dans
les
chaînes
de
caractères

Solution

effectuer
des
concaténations
pénible

délimiter
par

Chaîne
contenant

un
attribut
d
un
objet
dans
une
chaîne
a
a
attribut

le
résultat
d
une
méthode
d
un
objet
dans
une
chaîne
résultat
a
calcule

une
entrée
de
tableau
associatif

valeur
tab
cle

une
variableProgrammation
suivie
de
texte
sans
espace
Web
Gestion
des
erreurs
exceptions

Gestion
des
exception
identiques
à
C
Java

Exception
peut
être

Jetée
throw

Essayée
try

Capturée
catch

Exception
jetée
code
après
throw
non
exécuté

Capture
ou
plusieurs
blocs
selon
type

Exception
non
capturée
erreur
fatale
Programmation
Web
Utilisation
des
exceptions
try
error
Toujours
lancer
cette
erreur
Déroutement
throw
new
Exception
error
Le
code
après
une
exception
n
est
Capturer
Essayer
Lancer
jamais
exécuté
echo
Jamais
exécuté
Capture
Exception
Toujours
lancer
cette
erreur
catch
Exception
e
echo
Capture
Exception
e
getMessage
n
Bonjour
le
monde
Poursuite
de
l
exécution
echo
Bonjour
le
monde
Programmation
Web
Classe
Exception
PHP
php
class
Exception
protected
message
message
de
l
exception
protected
code
code
de
l
exception
protected
file
fichier
source
de
l
exception
protected
line
ligne
de
la
source
de
l
exception
function
construct
string
message
NULL
int
code
final
final
final
final
final
final
function
function
function
function
function
function
function
getMessage
message
de
l
exception
getCode
code
de
l
exception
getFile
nom
du
fichier
source
getLine
ligne
du
fichier
source
getTrace
un
tableau
de
backtrace
getTraceAsString
chaîne
de
trace
toString
chaîne
pour
l
affichage
Programmation
Web
PDO

PDO
PHP
Data
Objects

Extension
PHP
fournissant
une
interface
pour
accéder
à
une
base
de
données

Fournit
une
interface
d
abstraction
pour
l
accès
aux
données

Ne
fournit
PAS
une
abstraction
de
base
de
données

SQL
spécifique
au
moteur

Fonctionnalités
présentes
absentes

Interface
orientée
objet
Programmation
Web
Nom
du
driver
Bases
de
données
supportées
Bases
de
données
supportées
PDO
DBLIB
FreeTDS
Microsoft
SQL
Server
Sybase
PDO
FIREBIRD
Firebird
Interbase
PDO
IBM
IBM
DB
PDO
INFORMIX
IBM
Informix
Dynamic
Server
PDO
MYSQL
MySQL
x
x
x
PDO
OCI
Oracle
Call
Interface
PDO
ODBC
ODBC
v
IBM
DB
unixODBC
et
win
ODBC
PDO
PGSQL
PostgreSQL
PDO
SQLITE
SQLite
et
SQLite
PDO
D
D
Programmation
Web
Programmation
Web
Classes
prédéfinies

PDO
connexion
PHP
base
de
données

construct

exec
prepare
query

errorCode
errorInfo

getAttributes
setAttribute

lastInsertId
quote

beginTransaction

commit
rollBack

getAvailableDrivers
Programmation
Web
Classes
prédéfinies

PDOStatement
requête
préparée
jeu
de
résultats

bindColumn
bindParam
bindValue
closeCursor

errorCode
errorInfo

fetch
fetchAll
fetchColumn
fetchObject




setFetchMode
nextRowset
rowCount
columnCount
getColumnMeta
getAttribute
setAttribute
execute
debugDumpParams
Programmation
Web
Programmation
Web
Connexions
et
gestionnaire
de
connexion

Instanciation
d
un
objet
PDO

dbh
new
PDO
DSN
user
pass
options

DSN
Data
Source
Name
nom
du
driver
syntaxe
spécifique
au
driver
Ex
mysql
host
localhost
dbname
ma
base

user
nom
d
utilisateur
pass
mot
de
passe

options
tableau
associatif

spécifiques
au
driver

Ex
array
PDO
ATTR
PERSISTENT
true

Fin
de
connexion
dbh
null
ou
unset
dbh
Programmation
Web
Programmation
Web
Gestion
des
erreurs
de
connexion

Connexion
par
construction
d
un
objet

Gestion
envisageable
des
erreurs

Aucune

Fin
brutale
exit
die

État

Exception

En
cas
d
erreur
de
connexion

Objet
PDOException
lancé

PDOException
hérite
de
Exception
Programmation
Web
Gestion
des
erreurs
de
connexion
php
try
dbh
new
PDO
mysql
host
h
dbname
db
user
pass
dbh
null
catch
PDOException
e
echo
Erreur
e
getMessage
br
die
Programmation
Web
Gestion
des
erreurs
hormis
connexion

PDO
ERRMODE
SILENT
par
défaut

Mode
silencieux
mise
en
place
d
un
code
d
erreur

PDO
errorCode
errorInfo

PDOStatement
errorCode
errorInfo

PDO
ERRMODE
WARNING

Mise
en
place
du
code
d
erreur

Émission
d
une
erreur
de
type
E
WARNING

PDO
ERRMODE
EXCEPTION

Mise
en
place
du
code
d
erreur

Objet
PDOException
lancé
Programmation
Web
Gestion
des
erreurs
hormis
connexion
php
try
dbh
new
PDO
mysql
host
h
dbname
db
user
pass
dbh
setAttribute
PDO
ATTR
ERRMODE
PDO
ERRMODE
EXCEPTION
dbh
null
catch
PDOException
e
echo
Erreur
e
getMessage
br
die
Programmation
Web
Gestion
des
erreurs
code
d
erreur
php
pdo
new
PDO
mysql
host
localhost
pdostat
pdo
query
COUCOU
Code
SQLSTATE
if
pdo
errorCode
echo
ERREUR
n
echo
pre
n
Code
erreur
spécifique
var
dump
pdo
errorInfo
du
driver
echo
pre
n
ERREUR
array
Chaîne
erreur
spécifique
string
au
driver
int
string
Erreur
de
syntaxe
près
de
COUCOU
à
la
ligne
Programmation
Web
Gestion
des
erreurs
exceptions
php
try
pdo
new
PDO
mysql
host
localhost
pdo
setAttribute
PDO
ATTR
ERRMODE
PDO
ERRMODE
EXCEPTION
Code
erreur
spécifique
du
driver
pdostat
pdo
query
COUCOU
catch
Code
Exception
e
Chaîne
erreur
spécifique
SQLSTATE
au
driver
echo
ERREUR
e
getMessage
ERREUR
SQLSTATE
Syntax
error
or
access
violation
Erreur
de
syntaxe
près
de
COUCOU
à
la
ligne
Programmation
Web
Programmation
Web
Exécution
d
une
requête

PDOStatement
PDO
query
string
statement
Résultat
de
requête
Requête
php
try
pdo
new
PDO
mysql
host
localhost
pdostat
pdo
query
SELECT
FROM
clients
catch
Exception
e
echo
ERREUR
e
getMessage
Programmation
Web
Exploitation
des
résultats
d
une
requête

Récupération
des
données
ligne
à
ligne

Une
ligne
peut
être

un
tableau
indexé

un
tableau
associatif

un
tableau
mixte
par
défaut

un
objet
anonyme

un
objet
d
une
classe
définie
par
l
utilisateur

Récupération
des
données
d
une
colonne
Programmation
Web

Parcourir
le
résultat
de
la
requête
Parcours
du
résultat
d
une
requête
SELECT
Résultat
de
requête
FROM
morceau
ORDER
BY
mor
id
Curseur
interne
mor
id
mor
nom
With
A
Little
Help
From
My
Friends
The
Letter
Marjorine
Midnight
Rider
You
Are
So
Beautiful
Feelin
Allright
Cry
Me
A
River
Programmation
Web
Exploitation
des
résultats
d
une
requête
try
pdo
new
PDO
mysql
host
localhost
dbname
mysql
pdo
setAttribute
PDO
ATTR
ERRMODE
PDO
ERRMODE
EXCEPTION
pdostat
pdo
query
SELECT
name
FROM
user
pdostat
setFetchMode
PDO
FETCH
ASSOC
foreach
pdostat
as
ligne
echo
p
ligne
name
n
catch
Exception
e
echo
ERREUR
e
getMessage
Programmation
Web
Exploitation
des
résultats
d
une
requête
try
pdo
new
PDO
mysql
host
localhost
dbname
mysql
pdo
setAttribute
PDO
ATTR
ERRMODE
PDO
ERRMODE
EXCEPTION
pdostat
pdo
query
SELECT
name
FROM
user
foreach
pdostat
fetchAll
PDO
FETCH
ASSOC
as
ligne
echo
p
ligne
name
n
catch
Exception
e
echo
ERREUR
e
getMessage
Programmation
Web
Exploitation
des
résultats
d
une
requête
try
pdo
new
PDO
mysql
host
localhost
dbname
mysql
pdo
setAttribute
PDO
ATTR
ERRMODE
PDO
ERRMODE
EXCEPTION
pdostat
pdo
query
SELECT
name
FROM
user
while
ligne
pdostat
fetch
PDO
FETCH
ASSOC
echo
p
ligne
name
n
catch
Exception
e
echo
ERREUR
e
getMessage
Programmation
Web
Modes
de
récupération
des
données

PDO
FETCH
ASSOC

retourner
chaque
ligne
dans
un
tableau
indexé
par
les
noms
des
colonnes
comme
elles
sont
retournées
dans
le
jeu
de
résultats
correspondant
Si
le
jeu
de
résultats
contient
de
multiples
colonnes
avec
le
même
nom
PDO
FETCH
ASSOC
retourne
une
seule
valeur
par
nom
de
colonne

PDO
FETCH
NUM

retourner
chaque
ligne
dans
un
tableau
indexé
par
le
numéro
des
colonnes
comme
elles
sont
retournées
dans
le
jeu
de
résultats
correspondant
en
commençant
à
Programmation
Web
Modes
de
récupération
des
données

PDO
FETCH
BOTH
par
défaut

retourner
chaque
ligne
dans
un
tableau
indexé
par
les
noms
des
colonnes
ainsi
que
leurs
numéros
comme
elles
sont
retournées
dans
le
jeu
de
résultats
correspondant
en
commençant
à

PDO
FETCH
OBJ

retourner
chaque
ligne
dans
un
objet
avec
les
noms
de
propriétés
correspondant
aux
noms
des
colonnes
comme
elles
sont
retournées
dans
le
jeu
de
résultats
Programmation
Web
Modes
de
récupération
des
données

PDO
FETCH
BOUND

retourner
true
et
assigner
les
valeurs
des
colonnes
du
jeu
de
résultats
dans
les
variables
PHP
auxquelles
elles
sont
liées
avec
la
méthode
PDOStatement
bindParam
ou
la
méthode
PDOStatement
bindColumn

PDO
FETCH
CLASS
PDO
FETCH
CLASSTYPE

retourner
une
nouvelle
instance
de
la
classe
demandée
liant
les
colonnes
aux
propriétés
nommées
dans
la
classe
Nom
de
la
classe
ère
colonne
Programmation
Web
Modes
de
récupération
des
données

PDO
FETCH
INTO

met
à
jour
une
instance
existante
de
la
classe
demandée
liant
les
colonnes
du
jeu
de
résultats
aux
noms
des
propriétés
de
la
classe

PDO
FETCH
LAZY

retourner
chaque
ligne
en
tant
qu
objet
avec
les
noms
des
attributs
correspondant
aux
noms
des
colonnes
retournées
dans
le
jeu
de
résultats

PDO
FETCH
LAZY
crée
les
noms
des
attributs
de
l
objet
comme
ils
sont
rencontrés
Programmation
Web
Exemple
avec
PDO
FETCH
CLASS
stmt
pdo
query
SQL
SELECT
id
name
FROM
artist
WHERE
id
SQL
stmt
setFetchMode
PDO
FETCH
CLASS
Artist
if
object
stmt
fetch
false
return
object
Instancie
un
objet
de
la
classe
Artist
dont
les
attributs
sont
supposés
être
id
et
name
Programmation
Web
Préparation
d
une
requête

Déroulement
d
une
requête
SQL




Analyse
Compilation
Optimisation
Exécution
Exécution
répétée
d
une
requête
Préparation
d
une
requête
Exécution
répétée
d
une
requête
préparée
Préparation
en
fonction
de
paramètres


Anonymes
Nommés
Programmation
Web
Programmation
Web
Préparation
d
une
requête

PDOStatement
PDO
prepare
string
statement
array
driver
options

statement
la
requête
à
préparer
Peut
contenir
des
paramètres
anonymes
ou
nommés
nom

driver
options
tableau
d
options
du
driver

retourne
un
objet
PDOStatement
qui
effectuera
l
association
des
paramètres
et
exécutera
la
requête
pdo
new
PDO
mysql
host
localhost
dbname
mysql
pdostat
pdo
prepare
SELECT
FROM
user
WHERE
User
Programmation
Web
Association
des
paramètres
d
une
requête

bool
PDOStatement
bindValue
mixed
parameter
mixed
value
int
data
type

parameter
le
paramètre
nom
ou
position
n

value
sa
valeur

data
type
le
type
de
la
valeur

PDO
PARAM
BOOL
booléen

PDO
PARAM
NULL
NULL
SQL

PDO
PARAM
INT
INTEGER
SQL

PDO
PARAM
STR
CHAR
VARCHAR
ou
autre
chaîne

PDO
PARAM
LOB
objet
large
SQL

bool
PDOStatement
execute
array
parameters

parameters
tableau
associatif
ou
indexé
des
valeurs
Programmation
Web
Préparation
puis
exécution
d
une
requête
pdo
new
PDO
mysql
host
localhost
dbname
mysql
pdo
setAttribute
PDO
ATTR
ERRMODE
PDO
ERRMODE
EXCEPTION
pdostat
pdo
prepare
SELECT
FROM
user
WHERE
User
paramètre
anonyme
pdostat
bindValue
root
pdostat
execute
Utilisation
du
résultat
pdostat
bindValue
cutrona
pdostat
execute
Utilisation
du
résultat
Association
Préparation
d
une
valeur
valeur
delalarequête
au
requête
er
paramètre
Association
Exécution
d
une
de
au
er
paramètre
Programmation
Web
Préparation
puis
exécution
d
une
requête
pdo
new
PDO
mysql
host
localhost
dbname
mysql
pdo
setAttribute
PDO
ATTR
ERRMODE
PDO
ERRMODE
EXCEPTION
pdostat
pdo
prepare
SELECT
FROM
user
WHERE
User
utilisateur
paramètre
nommé
pdostat
bindValue
utilisateur
root
pdostat
execute
Utilisation
du
résultat
pdostat
bindValue
utilisateur
cutrona
pdostat
execute
Utilisation
du
résultat
Association
Préparation
Exécution
d
une
valeur
de
dela
au
larequête
requête
paramètre
nommé
Programmation
Web
Préparation
puis
exécution
d
une
requête
pdo
new
PDO
mysql
host
localhost
dbname
mysql
pdo
setAttribute
PDO
ATTR
ERRMODE
PDO
ERRMODE
EXCEPTION
pdostat
pdo
prepare
SELECT
FROM
user
paramètre
WHERE
User
anonyme
pdostat
execute
array
root
Utilisation
du
résultat
pdostat
execute
array
cutrona
Utilisation
du
résultat
Association
Association
Préparation
Exécution
d
une
d
une
valeur
valeur
de
delalarequête
au
au
requête
er
er
paramètre
paramètre
Programmation
Web
Préparation
puis
exécution
d
une
requête
pdo
new
PDO
mysql
host
localhost
dbname
mysql
pdo
setAttribute
PDO
ATTR
ERRMODE
PDO
ERRMODE
EXCEPTION
pdostat
pdo
prepare
SELECT
FROM
user
WHERE
User
utilisateur
paramètre
nommé
pdostat
execute
array
utilisateur
root
Utilisation
du
résultat
pdostat
execute
array
utilisateur
cutrona
Utilisation
du
résultat
Association
Préparation
Exécution
d
une
valeur
de
dela
au
larequête
requête
paramètre
nommé
Programmation
Web
Intérêt
des
requêtes
préparées

Amélioration
des
performances
en
cas
d
exécutions
répétées

Émulation
faite
par
PDO
si
le
driver
ne
les
supporte
pas
nativement

Protection
automatique
des
valeurs
des
paramètres
pour
interdire
les
attaques
par
injection
de
code
SQL
Programmation
Web
Programmation
Web
Attaque
par
injection
SQL

Ex
validation
d
un
login
pass
sur
un
site

Requête
consistant
à
trouver
un
enregistrement
correspondant
au
couple
login
pass
fourni
par
l
utilisateur

SELECT
FROM
membre
WHERE
login
GET
login
AND
passwd
GET
passwd

Et
si
on
essayait
de
fournir
un
mot
de
passe
un
peu
particulier
Programmation
Web
Exemple
concret
d
injection
SQL
pdo
new
PDO
mysql
host
localhost
dbname
test
pdostat
pdo
query
req
SQL
SELECT
FROM
membre
WHERE
login
GET
login
AND
passwd
GET
passwd
SQL
echo
Requête
n
req
n
if
utilisateur
pdostat
fetch
echo
Bienvenue
utilisateur
nom
else
echo
Désolé
Programmation
Web
Exemple
concret
d
injection
SQL
Saisie
de
l
utilisateur
par
formulaire

mail
whatever

pass
who
cares
URL
mail
whatever
passwd
who
cares
Requête
SELECT
FROM
membre
WHERE
login
whatever
AND
passwd
who
cares
Désolé
Programmation
Web
Exemple
concret
d
injection
SQL
Saisie
de
l
utilisateur

mail
whatever

pass
who
cares
OR
true
URL
mail
whatever
passwd
who
cares
OR
true
Requête
SELECT
FROM
membre
WHERE
login
whatever
AND
passwd
who
cares
OR
true
Bienvenue
John
Programmation
Web
Protection
contre
les
injections
SQL
pdo
new
PDO
mysql
host
localhost
dbname
test
pdostat
pdo
prepare
req
SQL
SELECT
FROM
membre
WHERE
login
AND
passwd
SQL
pdostat
execute
array
GET
login
GET
passwd
if
utilisateur
pdostat
fetch
echo
Bienvenue
utilisateur
nom
n
else
echo
Désole
n
Programmation
Web
Protection
contre
les
injections
SQL
pdo
new
PDO
mysql
host
localhost
dbname
test
login
pdo
quote
GET
login
passwd
pdo
quote
GET
passwd
pdostat
pdo
query
req
SQL
SELECT
FROM
membre
Requête
WHERE
login
login
SELECT
AND
passwd
passwd
FROM
membre
SQL
WHERE
login
whatever
AND
passwd
who
cares
OR
true
echo
Requête
n
req
n
Désolé
if
utilisateur
pdostat
fetch
echo
Bienvenue
utilisateur
nom
n
Programmation
Web
